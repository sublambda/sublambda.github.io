import{$ as We,$a as Ns,Aa as hu,B as tu,Ba as Qs,C as ru,Ca as zr,D as _s,Da as To,E as nu,Ea as pu,F as bo,Fa as mi,G as di,Ga as Us,H as iu,Ha as xn,I as jt,Ia as du,J as Rt,Ja as So,K as ou,Ka as Do,La as gu,M as gn,Ma as mu,N as tt,Na as Ls,O as gi,Oa as yu,P as mn,Pa as Os,Q as yn,Qa as vu,R as Dt,Ra as wu,Sa as Mo,T as _t,U as j,Ua as Mt,V as Je,Va as it,W as Ft,Wa as yi,X as Br,Xa as xu,Y as Pe,Ya as Ro,Z as Au,Za as _o,_ as Pt,_a as Fo,a as br,aa as qe,ab as vi,b as Fe,ba as Bo,bb as Hr,c as Ss,ca as pt,cb as wi,d as ql,da as je,e as Co,ea as Gr,eb as Gs,fa as lt,fb as xi,ga as _e,gb as zs,ha as kt,ia as su,ib as Vr,jb as Po,k as hi,ka as Fs,kb as Iu,l as Eo,la as hr,m as At,ma as vn,mb as Hs,n as Ds,na as au,nb as Ii,oa as cu,ob as Cu,q as pi,qa as lu,r as Ms,ra as uu,rb as Ze,s as Kl,sa as Qt,t as Jl,u as Xl,v as Zl,va as fu,w as dn,wa as wn,x as $l,xa as nr,y as Rs,ya as Ps,z as eu,za as ks}from"./chunk-BCYOMBD5.js";var Pu=Fe((zo,Fu)=>{(function(i,e){typeof zo=="object"&&typeof Fu<"u"?e(zo):typeof define=="function"&&define.amd?define(["exports"],e):e((i=i||self).TWEEN={})})(zo,function(i){"use strict";function e(d){var x=u.indexOf(d);-1<x&&u.splice(x,1),u.push(d),w=0,f&&!h&&(t=g(v),h=!0)}function n(d){for(var x=0;x<u.length;x++)if(d===u[x])return u[x];return null}function o(){return h}function r(){return C}var t,A=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this||(i!==void 0?i:{}),a=A.requestAnimationFrame||function(d){return A.setTimeout(d,50/3)},c=A.cancelAnimationFrame||function(d){return A.clearTimeout(d)},l=function(){if(typeof process>"u"||process.hrtime===void 0||process.versions&&process.versions.electron!==void 0){if(A.performance!==void 0&&A.performance.now!==void 0)return A.performance.now.bind(A.performance);var d=A.performance&&A.performance.timing&&A.performance.timing.navigationStart?A.performance.timing.navigationStart:Date.now();return function(){return Date.now()-d}}return function(){var x=process.hrtime();return 1e3*x[0]+x[1]/1e6}}(),u=[],h=!1,f=!1,p=[],g=a,w=0,y=120,C=!0,m=function(d){var x=u.indexOf(d);x!==-1&&u.splice(x,1),u.length===0&&(c(t),h=!1)},v=function d(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:l(),D=1<arguments.length?arguments[1]:void 0;if(y<=w&&C)return h=!1,w=0,c(t),!1;f&&h?t=g(d):function(){for(var V=0;V<p.length;V++)p[V]()}(),u.length||w++;for(var P=0,L=u.length;P<L;)u[P++].update(x,D),L>u.length&&P--,L=u.length;return!0},I={},E={Linear:{None:function(d){return d}},Quadratic:{In:function(d){return Math.pow(d,2)},Out:function(d){return d*(2-d)},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,2):-.5*(--d*(d-2)-1)}},Cubic:{In:function(d){return Math.pow(d,3)},Out:function(d){return--d*d*d+1},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,3):.5*((d-=2)*d*d+2)}},Quartic:{In:function(d){return Math.pow(d,4)},Out:function(d){return 1- --d*d*d*d},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,4):-.5*((d-=2)*d*d*d-2)}},Quintic:{In:function(d){return Math.pow(d,5)},Out:function(d){return--d*d*d*d*d+1},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,5):.5*((d-=2)*d*d*d*d+2)}},Sinusoidal:{In:function(d){return 1-Math.cos(d*Math.PI/2)},Out:function(d){return Math.sin(d*Math.PI/2)},InOut:function(d){return .5*(1-Math.cos(Math.PI*d))}},Exponential:{In:function(d){return d===0?0:Math.pow(1024,d-1)},Out:function(d){return d===1?1:1-Math.pow(2,-10*d)},InOut:function(d){return d===0?0:d===1?1:(d*=2)<1?.5*Math.pow(1024,d-1):.5*(2-Math.pow(2,-10*(d-1)))}},Circular:{In:function(d){return 1-Math.sqrt(1-d*d)},Out:function(d){return Math.sqrt(1- --d*d)},InOut:function(d){return(d*=2)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)}},Elastic:{In:function(d){return d===0?0:d===1?1:-Math.pow(2,10*(d-1))*Math.sin(5*(d-1.1)*Math.PI)},Out:function(d){return d===0?0:d===1?1:Math.pow(2,-10*d)*Math.sin(5*(d-.1)*Math.PI)+1},InOut:function(d){return d===0?0:d===1?1:(d*=2)<1?-.5*Math.pow(2,10*(d-1))*Math.sin(5*(d-1.1)*Math.PI):.5*Math.pow(2,-10*(d-1))*Math.sin(5*(d-1.1)*Math.PI)+1}},Back:{In:function(d){return d*d*(2.70158*d-1.70158)},Out:function(d){return--d*d*(2.70158*d+1.70158)+1},InOut:function(d){var x=2.5949095;return(d*=2)<1?d*d*((1+x)*d-x)*.5:.5*((d-=2)*d*((1+x)*d+x)+2)}},Bounce:{In:function(d){return 1-E.Bounce.Out(1-d)},Out:function(d){var x=2.75,D=7.5625;return d<1/x?D*d*d:d<2/x?D*(d-=1.5/x)*d+.75:d<2.5/x?D*(d-=2.25/x)*d+.9375:D*(d-=2.625/x)*d+.984375},InOut:function(d){return d<.5?.5*E.Bounce.In(2*d):.5*E.Bounce.Out(2*d-1)+.5}},Stepped:{steps:function(d){return function(x){return(x*d|0)/d}}}};function b(d){return(b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(d)}function B(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")}function T(d,x){for(var D=0;D<x.length;D++){var P=x[D];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(d,P.key,P)}}function S(d,x,D){return x&&T(d.prototype,x),D&&T(d,D),d}function R(d,x){var D=Object.keys(d);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(d);x&&(P=P.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),D.push.apply(D,P)}return D}function Q(d){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?R(Object(D),!0).forEach(function(P){var L,V,$;L=d,$=D[V=P],V in L?Object.defineProperty(L,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[V]=$}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(D)):R(Object(D)).forEach(function(P){Object.defineProperty(d,P,Object.getOwnPropertyDescriptor(D,P))})}return d}function M(d){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(d)}function F(d,x){return(F=Object.setPrototypeOf||function(D,P){return D.__proto__=P,D})(d,x)}function k(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function Y(d,x){return!x||typeof x!="object"&&typeof x!="function"?k(d):x}function U(d,x){return function(D){if(Array.isArray(D))return D}(d)||function(D,P){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]"){var L=[],V=!0,$=!1,X=void 0;try{for(var J,ce=D[Symbol.iterator]();!(V=(J=ce.next()).done)&&(L.push(J.value),!P||L.length!==P);V=!0);}catch(oe){$=!0,X=oe}finally{try{V||ce.return==null||ce.return()}finally{if($)throw X}}return L}}(d,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=50/3,W="_chainedTweens",O="Callback",G="update",_="complete",N="start",H="repeat",z="reverse",q="restart",ee="STRING_PROP",te=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function re(d){if(d&&d.nodeType||d===void 0||b(d)!=="object")return d;if(Array.isArray(d))return[].concat(d);if(b(d)!=="object")return d;var x={};for(var D in d)x[D]=re(d[D]);return x}var se=function(d){return isNaN(+d)||(d[0]==="+"||d[0]==="-")&&d[1]==="="||d===""||d===" "},le=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,Ae=function(d,x){var D,P,L;x.length===3&&(x=(D=x[0])+D+(P=x[1])+P+(L=x[2])+L);var V=parseInt(x,16);return"rgb("+(D=V>>16&255)+", "+(P=V>>8&255)+", "+(L=255&V)+")"};function ne(d){if(d&&d.splice&&d.isString||typeof d!="string"||d.charAt(1)==="=")return d;var x=d.replace(le,Ae).match(te).map(function(D){return se(D)?D:+D});return x.isString=!0,x}function Ee(d,x,D,P){var L=D[d],V=P[d];if(L===V)return!0;if(Array.isArray(L)&&Array.isArray(V)&&L.length===V.length)for(var $=0,X=V.length;$<X;$++){var J=L[$],ce=V[$];J===ce||typeof J=="number"&&typeof ce=="number"||Ee($,x[d],L,V)}if(!(typeof L=="number"&&typeof V=="number"||L&&L.splice&&L.isString&&V&&V.splice&&V.isString)){if(typeof L=="string"&&Array.isArray(V)){var oe=ne(L),ue=V.map(ne);return D[d]=oe,P[d]=ue,!0}if(typeof L=="string"||typeof V=="string"){var me=Array.isArray(L)&&L[0]===ee?L:ne(L),xe=Array.isArray(V)&&V[0]===ee?V:ne(V);if(me===void 0)return;for(var he=1;he<me.length;)me[he]===xe[he]&&typeof me[he-1]=="string"?(me.splice(he-1,2,me[he-1]+me[he]),xe.splice(he-1,2,xe[he-1]+xe[he])):he++;return me[he=0]===ee&&me.shift(),xe[0]===ee&&xe.shift(),D[d]=me,P[d]=xe,!0}if(b(L)==="object"&&b(V)==="object"){if(Array.isArray(L)&&!L.isString)return L.map(function(Ye,Oe){return Ee(Oe,x[d],L,V)});for(var Me in V)Ee(Me,x[d],L,V);return!0}}return!1}var Te="rgba(",de=function(d,x,D){var P=2<arguments.length&&D!==void 0?D:"rgb(";return typeof d[x]=="number"&&(d[x-1]===P||d[x-3]===P||d[x-5]===P)};function ye(d,x,D,P,L,V,$){var X=$?D:D[d],J=$?P:P[d];if(J===void 0)return X;if(X===void 0||typeof X=="string"||X===J)return J;if(b(X)==="object"&&b(J)==="object"){if(!X||!J)return x[d];if(b(X)==="object"&&X&&X.isString&&J&&J.splice&&J.isString){for(var ce="",oe=0,ue=X.length;oe<ue;oe++)if(X[oe]!==J[oe]||typeof X[oe]!="number"||typeof J[oe]=="number"){var me=typeof X[oe]=="number"&&typeof J[oe]=="string"&&J[oe][1]==="=",xe=typeof X[oe]!="number"?X[oe]:me?X[oe]+parseFloat(J[oe][0]+J[oe].substr(2))*L:X[oe]+(J[oe]-X[oe])*L;(de(X,oe)||de(X,oe,Te))&&(xe|=0),ce+=xe,me&&V===1&&(X[oe]=X[oe]+parseFloat(J[oe][0]+J[oe].substr(2)))}else ce+=X[oe];return $||(x[d]=ce),ce}if(Array.isArray(X)&&X[0]!==ee)for(var he=0,Me=X.length;he<Me;he++)X[he]!==J[he]&&typeof x[d]!="string"&&ye(he,x[d],X,J,L,V);else if(b(X)==="object"&&X&&!X.isString)for(var Ye in X)X[Ye]!==J[Ye]&&ye(Ye,x[d],X,J,L,V)}else if(typeof X=="number"){var Oe=typeof J=="string";x[d]=Oe?X+parseFloat(J[0]+J.substr(2))*L:X+(J-X)*L,Oe&&V===1&&(D[d]=x[d])}else typeof J=="function"&&(x[d]=J(L));return x[d]}function Be(d,x){var D=d[x],P=x.replace(ie,"").split(we),L=P.length-1,V=Array.isArray(d),$=b(d)==="object"&&!V;return $?(d[x]=null,delete d[x]):V&&d.splice(x,1),P.reduce(function(X,J,ce){V&&J!=="."&&J!=="["&&(J*=1);var oe=P[ce+1]==="[";if(J==="."||J==="[")return J==="."?V=!($=!0):J==="["&&(V=!($=!1)),X;if(X[J]===void 0){if(V||$)return X[J]=ce===L?D:V||oe?[]:$?{}:null,$=V=!1,X[J]}else if(X[J]!==void 0)return ce===L&&(X[J]=D),X[J];return X},d)}function ae(d){if(b(d)==="object"&&d){for(var x in d)if(x.indexOf(".")!==-1||x.indexOf("[")!==-1)Be(d,x);else if(b(d[x])==="object"&&d[x]){var D=d[x];for(var P in D)if(P.indexOf(".")!==-1||P.indexOf("[")!==-1)Be(D,P);else if(b(D[P])==="object"&&D[P]){var L=D[P];for(var V in L)V.indexOf(".")===-1&&V.indexOf("[")===-1||Be(L,V)}}}return d}var pe,we=/([.[])/g,ie=/\]/g,Re=Object.freeze({__proto__:null,FRAME_MS:K,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:W,EVENT_CALLBACK:O,EVENT_UPDATE:G,EVENT_COMPLETE:_,EVENT_START:N,EVENT_REPEAT:H,EVENT_REVERSE:z,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:q,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:ee,NUM_REGEX:te,deepCopy:re,decomposeString:ne,decompose:Ee,RGB:"rgb(",RGBA:Te,isRGBColor:de,recompose:ye,SET_NESTED:ae}),fe={Linear:function(d,x,D){var P=d.length-1,L=P*x,V=Math.floor(L),$=fe.Utils.Linear;return x<0?$(d[0],d[1],L,D):1<x?$(d[P],d[P-1],P-L,D):$(d[V],d[P<V+1?P:V+1],L-V,D)},Bezier:function(d,x,D){for(var P=fe.Utils.Reset(D),L=d.length-1,V=Math.pow,$=fe.Utils.Bernstein,X=Array.isArray(P),J=0;J<=L;J++)if(typeof P=="number")P+=V(1-x,L-J)*V(x,J)*d[J]*$(L,J);else if(X)for(var ce=0,oe=P.length;ce<oe;ce++)typeof P[ce]=="number"?P[ce]+=V(1-x,L-J)*V(x,J)*d[J][ce]*$(L,J):P[ce]=d[J][ce];else if(b(P)==="object")for(var ue in P)typeof P[ue]=="number"?P[ue]+=V(1-x,L-J)*V(x,J)*d[J][ue]*$(L,J):P[ue]=d[J][ue];else if(typeof P=="string"){for(var me="",xe=d[Math.round(L*x)],he=1,Me=xe.length;he<Me;he++)me+=xe[he];return me}return P},CatmullRom:function(d,x,D){var P=d.length-1,L=P*x,V=Math.floor(L),$=fe.Utils.CatmullRom;return d[0]===d[P]?(x<0&&(V=Math.floor(L=P*(1+x))),$(d[(V-1+P)%P],d[V],d[(V+1)%P],d[(V+2)%P],L-V,D)):x<0?$(d[1],d[1],d[0],d[0],-x,D):1<x?$(d[P-1],d[P-1],d[P],d[P],(0|x)-x,D):$(d[V?V-1:0],d[V],d[P<V+1?P:V+1],d[P<V+2?P:V+2],L-V,D)},Utils:{Linear:function(d,x,D,P){if(d===x||typeof d=="string"){if(x.length&&x.splice&&x.isString){x="";for(var L=0,V=d.length;L<V;L++)x+=d[L]}return x}if(typeof d=="number")return typeof d=="function"?d(D):d+(x-d)*D;if(b(d)==="object"){if(d.length!==void 0){var $=typeof d[0]=="string"||d.isString;if($||d[0]===ee){for(var X="",J=$?0:1,ce=d.length;J<ce;J++){var oe=D===0?d[J]:D!==1&&typeof d[J]=="number"?d[J]+(x[J]-d[J])*D:x[J];(0<D&&D<1&&de(d,J)||de(d,J,Te))&&(oe|=0),X+=oe}return X}if(P&&P.length&&P.splice)for(var ue=0,me=P.length;ue<me;ue++)P[ue]=fe.Utils.Linear(d[ue],x[ue],D,P[ue])}else for(var xe in P)P[xe]=fe.Utils.Linear(d[xe],x[xe],D,P[xe]);return P}},Reset:function(d){if(Array.isArray(d)){for(var x=0,D=d.length;x<D;x++)d[x]=fe.Utils.Reset(d[x]);return d}if(b(d)!=="object")return typeof d=="number"?0:d;for(var P in d)d[P]=fe.Utils.Reset(d[P]);return d},Bernstein:function(d,x){var D=fe.Utils.Factorial;return D(d)/D(x)/D(d-x)},Factorial:(pe=[1],function(d){var x=1;if(pe[d])return pe[d];for(var D=d;1<D;D--)x*=D;return pe[d]=x}),CatmullRom:function(d,x,D,P,L,V){if(typeof d=="string")return x;if(typeof d=="number"){var $=.5*(D-d),X=.5*(P-x),J=L*L;return(2*x-2*D+$+X)*(L*J)+(-3*x+3*D-2*$-X)*J+$*L+x}if(b(d)==="object"){if(d.length!==void 0){if(d[0]===ee){for(var ce="",oe=1,ue=d.length;oe<ue;oe++){var me=typeof d[oe]=="number"?fe.Utils.CatmullRom(d[oe],x[oe],D[oe],P[oe],L):P[oe];(de(d,oe)||de(d,oe,Te))&&(me|=0),ce+=me}return ce}for(var xe=0,he=V.length;xe<he;xe++)V[xe]=fe.Utils.CatmullRom(d[xe],x[xe],D[xe],P[xe],L,V[xe])}else for(var Me in V)V[Me]=fe.Utils.CatmullRom(d[Me],x[Me],D[Me],P[Me],L,V[Me]);return V}}}},ve={};function ge(d,x,D){if(!d||!d.nodeType)return x;var P=d.queueID||"q_"+Date.now();d.queueID||(d.queueID=P);var L=ve[P];if(L){if(L.object===x&&d===L.tween.node&&D._startTime===L.tween._startTime)m(L.tween);else if(b(x)==="object"&&x&&L.object){for(var V in x)V in L.object&&(D._startTime===L.tween._startTime?delete L.object[V]:L.propNormaliseRequired=!0);Object.assign(L.object,x)}return L.object}return b(x)==="object"&&x?(ve[P]={tween:D,object:x,propNormaliseRequired:!1},ve[P].object):x}function ke(d,x,D){return x?d?typeof window<"u"&&d===window||typeof document<"u"&&d===document?[d]:typeof d=="string"?!!document.querySelectorAll&&document.querySelectorAll(d):Array.isArray(d)?d:d.nodeType?[d]:D?d:[]:null:d?typeof window<"u"&&d===window||typeof document<"u"&&d===document?d:typeof d=="string"?!!document.querySelector&&document.querySelector(d):Array.isArray(d)?d[0]:d.nodeType||D?d:null:null}var Ie=0,Ce=E.Linear.None,be=function(){function d(x,D){return B(this,d),this.id=Ie++,!x||b(x)!=="object"||D||x.nodeType?x&&(x.nodeType||x.length||typeof x=="string")&&(x=this.node=ke(x),D=this.object=ge(x,D,this)):(D=this.object=x,x=null),this._valuesEnd=null,this._valuesStart=Array.isArray(D)?[]:{},this._duration=1e3,this._easingFunction=Ce,this._easingReverse=Ce,this._interpolationFunction=fe.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return S(d,null,[{key:"fromTo",value:function(x,D,P,L){var V=3<arguments.length&&L!==void 0?L:{};V.quickRender=V.quickRender?V.quickRender:!P;var $=new d(x,D).to(P,V);return V.quickRender&&($.render().update($._startTime),$._rendered=!1,$._onStartCallbackFired=!1),$}},{key:"to",value:function(x,D,P){return d.fromTo(x,null,D,P)}},{key:"from",value:function(x,D,P){return d.fromTo(x,D,null,P)}}]),S(d,[{key:"setMaxListener",value:function(x){var D=0<arguments.length&&x!==void 0?x:15;return this._maxListener=D,this}},{key:"on",value:function(x,D){for(var P=this._maxListener,L=x+O,V=0;V<P;V++){var $=L+V;if(!this[$]){this[$]=D;break}}return this}},{key:"once",value:function(x,D){for(var P=this,L=this._maxListener,V=x+O,$=function(J){var ce=V+J;if(!P[ce])return P[ce]=function(){for(var oe=arguments.length,ue=new Array(oe),me=0;me<oe;me++)ue[me]=arguments[me];D.apply(P,ue),P[ce]=null},"break"},X=0;X<L&&$(X)!=="break";X++);return this}},{key:"off",value:function(x,D){for(var P=this._maxListener,L=x+O,V=0;V<P;V++){var $=L+V;this[$]===D&&(this[$]=null)}return this}},{key:"emit",value:function(x,D,P,L){var V=this._maxListener,$=x+O;if(!this[$+0])return this;for(var X=0;X<V;X++){var J=$+X;this[J]&&this[J](D,P,L)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(x){var D=this._reversed;return this._reversed=x!==void 0?x:!D,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,m(this),this._pausedTime=l(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=l()-this._pausedTime,this._initTime=this._startTime,e(this),this._pausedTime=l(),this.emit("play",this.object))}},{key:"restart",value:function(){return this._repeat=this._r,this.reassignValues(),e(this),this.emit(q,this.object)}},{key:"seek",value:function(x,D){var P=this._duration,L=this._initTime,V=this._startTime,$=this._reversed,X=L+x;return this._isPlaying=!0,X<V&&L<=V&&(this._startTime-=P,this._reversed=!$),this.update(x,!1),this.emit("seek",x,this.object),D?this:this.pause()}},{key:"duration",value:function(x){return this._duration=typeof x=="function"?x(this._duration):x,this}},{key:"to",value:function(x,D){var P=1<arguments.length&&D!==void 0?D:1e3;if(this._valuesEnd=x,typeof P=="number"||typeof P=="function")this._duration=typeof P=="function"?P(this._duration):P;else if(b(P)==="object"){for(var L in P)if(typeof this[L]=="function"){var V=U(Array.isArray(P[L])?P[L]:[P[L]],4),$=V[0],X=$===void 0?null:$,J=V[1],ce=J===void 0?null:J,oe=V[2],ue=oe===void 0?null:oe,me=V[3],xe=me===void 0?null:me;this[L](X,ce,ue,xe)}}return this}},{key:"render",value:function(){if(this._rendered)return this;var x=this._valuesStart,D=this._valuesEnd,P=this.object,L=this.node,V=this.InitialValues;if(ae(P),ae(D),L&&L.queueID&&ve[L.queueID]){var $=ve[L.queueID];if($.propNormaliseRequired&&$.tween!==this){for(var X in D)$.tween._valuesEnd[X];$.normalisedProp=!0,$.propNormaliseRequired=!1}}if(L&&V&&(P&&Object.keys(P).length!==0?D&&Object.keys(D).length!==0||(D=this._valuesEnd=V(L,P)):P=this.object=ge(L,V(L,D),this)),!x.processed){for(var J in D){var ce=P&&P[J]&&re(P[J]),oe=D[J];if(!(I[J]&&I[J].init&&(I[J].init.call(this,ce,oe,J,P),ce===void 0&&x[J]&&(ce=x[J]),I[J].skipProcess))&&!(typeof ce=="number"&&isNaN(ce)||ce===null||oe===null||ce===!1||oe===!1||ce===void 0||oe===void 0||ce===oe)){if(x[J]=ce,Array.isArray(oe))if(Array.isArray(ce))oe.isString&&P[J].isString&&!ce.isString?ce.isString=!0:Ee(J,P,x,D);else{oe.unshift(ce);for(var ue=0,me=oe.length;ue<me;ue++)typeof oe[ue]=="string"&&(oe[ue]=ne(oe[ue]))}else Ee(J,P,x,D);typeof ce!="number"||typeof oe!="string"||oe[1]}}x.processed=!0}return d.Renderer&&this.node&&d.Renderer.init&&(d.Renderer.init.call(this,P,x,D),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(x){return this._startTime=x!==void 0?typeof x=="string"?l()+parseFloat(x):x:l(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,e(this),this}},{key:"stop",value:function(){var x=this._isPlaying,D=this._isFinite,P=this.object,L=this._startTime,V=this._duration,$=this._r,X=this._yoyo,J=this._reversed;if(!x)return this;var ce=D?($+1)%2==1:!J;return this._reversed=!1,X&&ce?this.update(L):this.update(L+V),m(this),this.emit("stop",P)}},{key:"delay",value:function(x){return this._delayTime=typeof x=="function"?x(this._delayTime):x,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var x=0,D=this._chainedTweensCount;x<D;x++)this[W+x]=arguments[x];return this}},{key:"repeat",value:function(x){return this._repeat=this._duration?typeof x=="function"?x(this._repeat):x:0,this._r=this._repeat,this._isFinite=isFinite(x),this}},{key:"reverseDelay",value:function(x){return this._reverseDelayTime=typeof x=="function"?x(this._reverseDelayTime):x,this}},{key:"yoyo",value:function(x,D){return this._yoyo=typeof x=="function"?x(this._yoyo):x===null?this._yoyo:x,x||(this._reversed=!1),this._easingReverse=D||null,this}},{key:"easing",value:function(x){return this._easingFunction=x,this}},{key:"interpolation",value:function(x){return typeof x=="function"&&(this._interpolationFunction=x),this}},{key:"reassignValues",value:function(x){var D=this._valuesStart,P=this.object,L=this._delayTime;for(var V in this._isPlaying=!0,this._startTime=x!==void 0?x:l(),this._startTime+=L,this._reversed=!1,e(this),D){var $=D[V];P[V]=$}return this}},{key:"update",value:function(x,D,P){var L,V,$,X=this._onStartCallbackFired,J=this._easingFunction,ce=this._interpolationFunction,oe=this._easingReverse,ue=this._repeat,me=this._delayTime,xe=this._reverseDelayTime,he=this._yoyo,Me=this._reversed,Ye=this._startTime,Oe=this._prevTime,Ve=this._duration,mt=this._valuesStart,Ct=this._valuesEnd,Ke=this.object,$t=this._isFinite,fr=this._isPlaying,Gt=this.__render,ct=this._chainedTweensCount,er=0;if(Ve){var ti=(x=x!==void 0?x:l())-Oe;if(this._prevTime=x,250<ti&&o()&&r()&&(x-=ti-K),!fr||x<Ye&&!P)return!0;L=1<(L=(x-Ye)/Ve)?1:L,L=Me?1-L:L}else L=1,ue=0;if(X||(this._rendered||(this.render(),this._rendered=!0),this.emit(N,Ke),this._onStartCallbackFired=!0),V=Me&&oe||J,!Ke)return!0;for($ in Ct){var zt=mt[$];if(zt!=null||I[$]&&I[$].update){var yt=Ct[$],tr=V[$]?V[$](L):(typeof V=="function"?V:Ce)(L),ln=ce[$]?ce[$]:typeof ce=="function"?ce:fe.Linear;typeof yt=="number"?Ke[$]=zt+(yt-zt)*tr:!Array.isArray(yt)||yt.isString||Array.isArray(zt)?yt&&yt.update?yt.update(tr):typeof yt=="function"?Ke[$]=yt(tr):typeof yt=="string"&&typeof zt=="number"?Ke[$]=zt+parseFloat(yt[0]+yt.substr(2))*tr:ye($,Ke,mt,Ct,tr,L):Ke[$]=ln(yt,tr,Ke[$]),I[$]&&I[$].update&&I[$].update.call(this,Ke[$],zt,yt,tr,L,$),er++}}if(!er)return m(this),!1;if(Gt&&d.Renderer&&d.Renderer.update&&d.Renderer.update.call(this,Ke,L),this.emit(G,Ke,L,x),L===1||Me&&L===0){if(0<ue&&0<Ve){if($t&&this._repeat--,he)this._reversed=!Me;else for($ in Ct){var Nr=Ct[$];typeof Nr=="string"&&typeof mt[$]=="number"&&(mt[$]+=parseFloat(Nr[0]+Nr.substr(2)))}return this.emit(he&&!Me?z:H,Ke),this._startTime=Me&&xe?x-xe:x+me,!0}if(D||(this._isPlaying=!1,m(this),Ie--),this.emit(_,Ke),this._repeat=this._r,ct)for(var ri=0;ri<ct;ri++)this[W+ri].start(x+Ve);return!1}return!0}}]),d}(),De=function(){function d(){B(this,d),this.totalTime=0,this.labels=[],this.offsets=[]}return S(d,[{key:"parseLabel",value:function(x,D){var P=this.offsets,L=this.labels,V=L.indexOf(x);if(typeof x=="string"&&x.indexOf("=")!==-1&&!D&&V===-1){var $=x.substr(x.indexOf("=")-1,2),X=x.split($);D=X.length===2?$+X[1]:null,x=X[0],V=L.indexOf(x)}if(V!==-1&&x){var J=P[V]||0;if(typeof D=="number")J=D;else if(typeof D=="string"&&D.indexOf("=")!==-1){var ce=D.charAt(0);D=Number(D.substr(2)),ce==="+"||ce==="-"?J+=parseFloat(ce+D):ce==="*"?J*=D:ce==="/"?J/=D:ce==="%"&&(J*=D/100)}return J}return typeof D=="number"?D:0}},{key:"addLabel",value:function(x,D){return this.labels.push(x),this.offsets.push(this.parseLabel(x,D)),this}},{key:"setLabel",value:function(x,D){var P=this.labels.indexOf(x);return P!==-1&&this.offsets.splice(P,1,this.parseLabel(x,D)),this}},{key:"eraseLabel",value:function(x){var D=this.labels.indexOf(x);return D!==-1&&(this.labels.splice(D,1),this.offsets.splice(D,1)),this}}]),d}(),Ge=0,Z=function(){function d(x){var D;return B(this,d),(D=Y(this,M(d).call(this)))._duration=0,D._startTime=x&&x.startTime!==void 0?x.startTime:l(),D._tweens=[],D.elapsed=0,D._id=Ge++,D._defaultParams=x,D.position=new De,D.position.addLabel("afterLast",D._duration),D.position.addLabel("afterInit",D._startTime),D._onStartCallbackFired=!1,Y(D,k(D))}return function(x,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),D&&F(x,D)}(d,be),S(d,[{key:"mapTotal",value:function(x){return x.call(this,this._tweens),this}},{key:"timingOrder",value:function(x){var D=x(this._tweens.map(function(P){return P._startTime}));return this._tweens.map(function(P,L){P._startTime=D[L]}),this}},{key:"getTiming",value:function(x,D,P,L){var V=3<arguments.length&&L!==void 0?L:0;if(x==="reverse"){var $=P.stagger,X=($||0)*(D.length-1);return D.map(function(ue,me){return X-($||0)*me+V})}if(x==="async")return D.map(function(ue){return V});if(x==="sequence"||x==="delayed"){var J=P.stagger;return J=J||(P.duration||1e3)/(D.length-1),D.map(function(ue,me){return J*me+V})}if(x==="oneByOne")return D.map(function(ue){return P.duration});if(x==="shuffle"){var ce=P.stagger;return function(ue){var me,xe,he;for(he=ue.length;he;--he)me=Math.floor(Math.random()*he),xe=ue[he-1],ue[he-1]=ue[me],ue[me]=xe;return ue}(D.map(function(ue,me){return(ce||0)*me+V}))}var oe=P.stagger;return D.map(function(ue,me){return(oe||0)*me+V})}},{key:"fromTo",value:function(x,D,P,L){if((x=ke(x,!0,!0))&&x.length){this._defaultParams&&(L=L?Q({},this._defaultParams,{},L):this._defaultParams);for(var V,$=L.label,X=typeof $=="number"?$:this.position.parseLabel($!==void 0?$:"afterLast",null),J=this.getTiming(L.mode,x,L,X),ce=0,oe=x.length;ce<oe;ce++)V=x[ce],this.add(be.fromTo(V,typeof D=="function"?D(ce,x.length):b(D)==="object"&&D?Q({},D):null,typeof P=="function"?P(ce,x.length):P,typeof L=="function"?L(ce,x.length):L),J[ce])}return this.start()}},{key:"from",value:function(x,D,P){return this.fromTo(x,D,null,P)}},{key:"to",value:function(x,D,P){return this.fromTo(x,null,D,P)}},{key:"addLabel",value:function(x,D){return this.position.addLabel(x,D),this}},{key:"map",value:function(x){for(var D=0,P=this._tweens.length;D<P;D++){var L=this._tweens[D];x(L,D),this._duration=Math.max(this._duration,L._duration+L._startTime)}return this}},{key:"add",value:function(x,D){var P=this;if(Array.isArray(x))return x.map(function(J){P.add(J,D)}),this;b(x)!=="object"||x instanceof be||(x=new be(x.from).to(x.to,x));var L=this._defaultParams,V=this._duration;if(L)for(var $ in L)typeof x[$]=="function"&&x[$](L[$]);var X=typeof D=="number"?D:this.position.parseLabel(D!==void 0?D:"afterLast",null);return x._startTime=Math.max(this._startTime,x._delayTime,X),x._delayTime=X,x._isPlaying=!0,this._duration=Math.max(V,Math.max(x._startTime+x._delayTime,x._duration)),this._tweens.push(x),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=l(),e(this),this.emit(q)}},{key:"easing",value:function(x){return this.map(function(D){return D.easing(x)})}},{key:"interpolation",value:function(x){return this.map(function(D){return D.interpolation(x)})}},{key:"update",value:function(x){var D,P=this._tweens,L=this._duration,V=this._reverseDelayTime,$=this._startTime,X=this._reversed,J=this._yoyo,ce=this._repeat,oe=this._isFinite,ue=this._isPlaying,me=this._prevTime,xe=this._onStartCallbackFired,he=(x=x!==void 0?x:l())-me;if(this._prevTime=x,250<he&&o()&&r()&&(x-=he-K),!ue||x<$)return!0;D=1<(D=(x-$)/L)?1:D,D=X?1-D:D,this.elapsed=D,xe||(this.emit(N),this._onStartCallbackFired=!0);for(var Me=x-$,Ye=X?L-Me:Me,Oe=0;Oe<P.length;)P[Oe].update(Ye),Oe++;if(this.emit(G,D,Me),D===1||X&&D===0){if(ce){for(oe&&this._repeat--,this.emit(X?z:H),J&&(this._reversed=!X,this.timingOrder(function(Ve){return Ve.reverse()})),this._startTime=X&&V?x+V:x,Oe=0;Oe<P.length;)P[Oe].reassignValues(x),Oe++;return!0}return this.emit(_),this._repeat=this._r,m(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(x){return x!==void 0?this.update(x*this._duration):this.elapsed}}]),d}();i.Easing=E,i.FrameThrottle=function(d){y=1.05*(0<arguments.length&&d!==void 0?d:120)},i.Interpolation=fe,i.Interpolator=function(d,x){var D=Array.isArray(d)&&!d.isString,P=typeof d=="string"?d:D?d.slice():Q({},d);if(D)for(var L=0,V=d.length;L<V;L++)d[L]===x[L]&&typeof d[L]=="number"&&typeof x[L]!="number"||Ee(L,P,d,x);else if(b(d)==="object")for(var $ in d)d[$]===x[$]&&typeof d[$]=="number"&&typeof x[$]!="number"||Ee($,P,d,x);else if(typeof d=="string"){d=ne(d),x=ne(x);for(var X=1;X<d.length;)d[X]===x[X]&&typeof d[X-1]=="string"?(d.splice(X-1,2,d[X-1]+d[X]),x.splice(X-1,2,x[X-1]+x[X])):X++}return function(J){if(D)for(var ce=0,oe=d.length;ce<oe;ce++)ye(ce,P,d,x,J);else if(b(P)==="object")for(var ue in d)ye(ue,P,d,x,J);else typeof P=="string"&&(P=ye(0,0,d,x,J,J,!0));return P}},i.Plugins=I,i.Selector=ke,i.Timeline=Z,i.ToggleLagSmoothing=function(d){C=!(0<arguments.length&&d!==void 0)||d},i.Tween=be,i.add=e,i.autoPlay=function(d){f=d},i.get=n,i.getAll=function(){return u},i.has=function(d){return n(d)!==null},i.isRunning=o,i.now=l,i.onRequestTick=function(d){p.push(d)},i.onTick=function(d){return u.push({update:d})},i.remove=m,i.removeAll=function(){u.length=0,c(t),h=!1},i.update=v,i.utils=Re,Object.defineProperty(i,"__esModule",{value:!0})})});var df=Fe((Bn,Tn)=>{(function(i){var e=typeof Bn=="object"&&Bn&&!Bn.nodeType&&Bn,n=typeof Tn=="object"&&Tn&&!Tn.nodeType&&Tn,o=typeof global=="object"&&global;(o.global===o||o.window===o||o.self===o)&&(i=o);var r,t=2147483647,A=36,a=1,c=26,l=38,u=700,h=72,f=128,p="-",g=/^xn--/,w=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=A-a,v=Math.floor,I=String.fromCharCode,E;function b(W){throw new RangeError(C[W])}function B(W,O){for(var G=W.length,_=[];G--;)_[G]=O(W[G]);return _}function T(W,O){var G=W.split("@"),_="";G.length>1&&(_=G[0]+"@",W=G[1]),W=W.replace(y,".");var N=W.split("."),H=B(N,O).join(".");return _+H}function S(W){for(var O=[],G=0,_=W.length,N,H;G<_;)N=W.charCodeAt(G++),N>=55296&&N<=56319&&G<_?(H=W.charCodeAt(G++),(H&64512)==56320?O.push(((N&1023)<<10)+(H&1023)+65536):(O.push(N),G--)):O.push(N);return O}function R(W){return B(W,function(O){var G="";return O>65535&&(O-=65536,G+=I(O>>>10&1023|55296),O=56320|O&1023),G+=I(O),G}).join("")}function Q(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:A}function M(W,O){return W+22+75*(W<26)-((O!=0)<<5)}function F(W,O,G){var _=0;for(W=G?v(W/u):W>>1,W+=v(W/O);W>m*c>>1;_+=A)W=v(W/m);return v(_+(m+1)*W/(W+l))}function k(W){var O=[],G=W.length,_,N=0,H=f,z=h,q,ee,te,re,se,le,Ae,ne,Ee;for(q=W.lastIndexOf(p),q<0&&(q=0),ee=0;ee<q;++ee)W.charCodeAt(ee)>=128&&b("not-basic"),O.push(W.charCodeAt(ee));for(te=q>0?q+1:0;te<G;){for(re=N,se=1,le=A;te>=G&&b("invalid-input"),Ae=Q(W.charCodeAt(te++)),(Ae>=A||Ae>v((t-N)/se))&&b("overflow"),N+=Ae*se,ne=le<=z?a:le>=z+c?c:le-z,!(Ae<ne);le+=A)Ee=A-ne,se>v(t/Ee)&&b("overflow"),se*=Ee;_=O.length+1,z=F(N-re,_,re==0),v(N/_)>t-H&&b("overflow"),H+=v(N/_),N%=_,O.splice(N++,0,H)}return R(O)}function Y(W){var O,G,_,N,H,z,q,ee,te,re,se,le=[],Ae,ne,Ee,Te;for(W=S(W),Ae=W.length,O=f,G=0,H=h,z=0;z<Ae;++z)se=W[z],se<128&&le.push(I(se));for(_=N=le.length,N&&le.push(p);_<Ae;){for(q=t,z=0;z<Ae;++z)se=W[z],se>=O&&se<q&&(q=se);for(ne=_+1,q-O>v((t-G)/ne)&&b("overflow"),G+=(q-O)*ne,O=q,z=0;z<Ae;++z)if(se=W[z],se<O&&++G>t&&b("overflow"),se==O){for(ee=G,te=A;re=te<=H?a:te>=H+c?c:te-H,!(ee<re);te+=A)Te=ee-re,Ee=A-re,le.push(I(M(re+Te%Ee,0))),ee=v(Te/Ee);le.push(I(M(ee,0))),H=F(G,ne,_==N),G=0,++_}++G,++O}return le.join("")}function U(W){return T(W,function(O){return g.test(O)?k(O.slice(4).toLowerCase()):O})}function K(W){return T(W,function(O){return w.test(O)?"xn--"+Y(O):O})}if(r={version:"1.4.1",ucs2:{decode:S,encode:R},decode:k,encode:Y,toASCII:K,toUnicode:U},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return r});else if(e&&n)if(Tn.exports==e)n.exports=r;else for(E in r)r.hasOwnProperty(E)&&(e[E]=r[E]);else i.punycode=r})(Bn)});var mf=Fe((qx,gf)=>{"use strict";gf.exports=Error});var vf=Fe((Kx,yf)=>{"use strict";yf.exports=EvalError});var xf=Fe((Jx,wf)=>{"use strict";wf.exports=RangeError});var Cf=Fe((Xx,If)=>{"use strict";If.exports=ReferenceError});var Wa=Fe((Zx,Ef)=>{"use strict";Ef.exports=SyntaxError});var Sn=Fe(($x,bf)=>{"use strict";bf.exports=TypeError});var Tf=Fe((eI,Bf)=>{"use strict";Bf.exports=URIError});var Df=Fe((tI,Sf)=>{"use strict";Sf.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var r=42;e[n]=r;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var t=Object.getOwnPropertySymbols(e);if(t.length!==1||t[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var A=Object.getOwnPropertyDescriptor(e,n);if(A.value!==r||A.enumerable!==!0)return!1}return!0}});var _f=Fe((rI,Rf)=>{"use strict";var Mf=typeof Symbol<"u"&&Symbol,km=Df();Rf.exports=function(){return typeof Mf!="function"||typeof Symbol!="function"||typeof Mf("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:km()}});var Pf=Fe((nI,Ff)=>{"use strict";var qa={__proto__:null,foo:{}},Qm=Object;Ff.exports=function(){return{__proto__:qa}.foo===qa.foo&&!(qa instanceof Qm)}});var Uf=Fe((iI,Qf)=>{"use strict";var Um="Function.prototype.bind called on incompatible ",Lm=Object.prototype.toString,Om=Math.max,Nm="[object Function]",kf=function(e,n){for(var o=[],r=0;r<e.length;r+=1)o[r]=e[r];for(var t=0;t<n.length;t+=1)o[t+e.length]=n[t];return o},Gm=function(e,n){for(var o=[],r=n||0,t=0;r<e.length;r+=1,t+=1)o[t]=e[r];return o},zm=function(i,e){for(var n="",o=0;o<i.length;o+=1)n+=i[o],o+1<i.length&&(n+=e);return n};Qf.exports=function(e){var n=this;if(typeof n!="function"||Lm.apply(n)!==Nm)throw new TypeError(Um+n);for(var o=Gm(arguments,1),r,t=function(){if(this instanceof r){var u=n.apply(this,kf(o,arguments));return Object(u)===u?u:this}return n.apply(e,kf(o,arguments))},A=Om(0,n.length-o.length),a=[],c=0;c<A;c++)a[c]="$"+c;if(r=Function("binder","return function ("+zm(a,",")+"){ return binder.apply(this,arguments); }")(t),n.prototype){var l=function(){};l.prototype=n.prototype,r.prototype=new l,l.prototype=null}return r}});var eA=Fe((oI,Lf)=>{"use strict";var Hm=Uf();Lf.exports=Function.prototype.bind||Hm});var Nf=Fe((AI,Of)=>{"use strict";var Vm=Function.prototype.call,jm=Object.prototype.hasOwnProperty,Ym=eA();Of.exports=Ym.call(Vm,jm)});var Zr=Fe((sI,jf)=>{"use strict";var Ue,Wm=mf(),qm=vf(),Km=xf(),Jm=Cf(),_n=Wa(),Rn=Sn(),Xm=Tf(),Vf=Function,Ka=function(i){try{return Vf('"use strict"; return ('+i+").constructor;")()}catch{}},Jr=Object.getOwnPropertyDescriptor;if(Jr)try{Jr({},"")}catch{Jr=null}var Ja=function(){throw new Rn},Zm=Jr?function(){try{return arguments.callee,Ja}catch{try{return Jr(arguments,"callee").get}catch{return Ja}}}():Ja,Dn=_f()(),$m=Pf()(),ut=Object.getPrototypeOf||($m?function(i){return i.__proto__}:null),Mn={},e0=typeof Uint8Array>"u"||!ut?Ue:ut(Uint8Array),Xr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":Dn&&ut?ut([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":Mn,"%AsyncGenerator%":Mn,"%AsyncGeneratorFunction%":Mn,"%AsyncIteratorPrototype%":Mn,"%Atomics%":typeof Atomics>"u"?Ue:Atomics,"%BigInt%":typeof BigInt>"u"?Ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Wm,"%eval%":eval,"%EvalError%":qm,"%Float32Array%":typeof Float32Array>"u"?Ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ue:FinalizationRegistry,"%Function%":Vf,"%GeneratorFunction%":Mn,"%Int8Array%":typeof Int8Array>"u"?Ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dn&&ut?ut(ut([][Symbol.iterator]())):Ue,"%JSON%":typeof JSON=="object"?JSON:Ue,"%Map%":typeof Map>"u"?Ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dn||!ut?Ue:ut(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ue:Promise,"%Proxy%":typeof Proxy>"u"?Ue:Proxy,"%RangeError%":Km,"%ReferenceError%":Jm,"%Reflect%":typeof Reflect>"u"?Ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dn||!ut?Ue:ut(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dn&&ut?ut(""[Symbol.iterator]()):Ue,"%Symbol%":Dn?Symbol:Ue,"%SyntaxError%":_n,"%ThrowTypeError%":Zm,"%TypedArray%":e0,"%TypeError%":Rn,"%Uint8Array%":typeof Uint8Array>"u"?Ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ue:Uint32Array,"%URIError%":Xm,"%WeakMap%":typeof WeakMap>"u"?Ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ue:WeakSet};if(ut)try{null.error}catch(i){Gf=ut(ut(i)),Xr["%Error.prototype%"]=Gf}var Gf,t0=function i(e){var n;if(e==="%AsyncFunction%")n=Ka("async function () {}");else if(e==="%GeneratorFunction%")n=Ka("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Ka("async function* () {}");else if(e==="%AsyncGenerator%"){var o=i("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var r=i("%AsyncGenerator%");r&&ut&&(n=ut(r.prototype))}return Xr[e]=n,n},zf={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fi=eA(),tA=Nf(),r0=Fi.call(Function.call,Array.prototype.concat),n0=Fi.call(Function.apply,Array.prototype.splice),Hf=Fi.call(Function.call,String.prototype.replace),rA=Fi.call(Function.call,String.prototype.slice),i0=Fi.call(Function.call,RegExp.prototype.exec),o0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A0=/\\(\\)?/g,s0=function(e){var n=rA(e,0,1),o=rA(e,-1);if(n==="%"&&o!=="%")throw new _n("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new _n("invalid intrinsic syntax, expected opening `%`");var r=[];return Hf(e,o0,function(t,A,a,c){r[r.length]=a?Hf(c,A0,"$1"):A||t}),r},a0=function(e,n){var o=e,r;if(tA(zf,o)&&(r=zf[o],o="%"+r[0]+"%"),tA(Xr,o)){var t=Xr[o];if(t===Mn&&(t=t0(o)),typeof t>"u"&&!n)throw new Rn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:t}}throw new _n("intrinsic "+e+" does not exist!")};jf.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new Rn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Rn('"allowMissing" argument must be a boolean');if(i0(/^%?[^%]*%?$/,e)===null)throw new _n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=s0(e),r=o.length>0?o[0]:"",t=a0("%"+r+"%",n),A=t.name,a=t.value,c=!1,l=t.alias;l&&(r=l[0],n0(o,r0([0,1],l)));for(var u=1,h=!0;u<o.length;u+=1){var f=o[u],p=rA(f,0,1),g=rA(f,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new _n("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),r+="."+f,A="%"+r+"%",tA(Xr,A))a=Xr[A];else if(a!=null){if(!(f in a)){if(!n)throw new Rn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Jr&&u+1>=o.length){var w=Jr(a,f);h=!!w,h&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[f]}else h=tA(a,f),a=a[f];h&&!c&&(Xr[A]=a)}}return a}});var iA=Fe((aI,Yf)=>{"use strict";var c0=Zr(),nA=c0("%Object.defineProperty%",!0)||!1;if(nA)try{nA({},"a",{value:1})}catch{nA=!1}Yf.exports=nA});var Xa=Fe((cI,Wf)=>{"use strict";var l0=Zr(),oA=l0("%Object.getOwnPropertyDescriptor%",!0);if(oA)try{oA([],"length")}catch{oA=null}Wf.exports=oA});var Xf=Fe((lI,Jf)=>{"use strict";var qf=iA(),u0=Wa(),Fn=Sn(),Kf=Xa();Jf.exports=function(e,n,o){if(!e||typeof e!="object"&&typeof e!="function")throw new Fn("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Fn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fn("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,t=arguments.length>4?arguments[4]:null,A=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Kf&&Kf(e,n);if(qf)qf(e,n,{configurable:A===null&&c?c.configurable:!A,enumerable:r===null&&c?c.enumerable:!r,value:o,writable:t===null&&c?c.writable:!t});else if(a||!r&&!t&&!A)e[n]=o;else throw new u0("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var eh=Fe((uI,$f)=>{"use strict";var Za=iA(),Zf=function(){return!!Za};Zf.hasArrayLengthDefineBug=function(){if(!Za)return null;try{return Za([],"length",{value:1}).length!==1}catch{return!0}};$f.exports=Zf});var oh=Fe((fI,ih)=>{"use strict";var f0=Zr(),th=Xf(),h0=eh()(),rh=Xa(),nh=Sn(),p0=f0("%Math.floor%");ih.exports=function(e,n){if(typeof e!="function")throw new nh("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||p0(n)!==n)throw new nh("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],r=!0,t=!0;if("length"in e&&rh){var A=rh(e,"length");A&&!A.configurable&&(r=!1),A&&!A.writable&&(t=!1)}return(r||t||!o)&&(h0?th(e,"length",n,!0,!0):th(e,"length",n)),e}});var uh=Fe((hI,AA)=>{"use strict";var $a=eA(),sA=Zr(),d0=oh(),g0=Sn(),ah=sA("%Function.prototype.apply%"),ch=sA("%Function.prototype.call%"),lh=sA("%Reflect.apply%",!0)||$a.call(ch,ah),Ah=iA(),m0=sA("%Math.max%");AA.exports=function(e){if(typeof e!="function")throw new g0("a function is required");var n=lh($a,ch,arguments);return d0(n,1+m0(0,e.length-(arguments.length-1)),!0)};var sh=function(){return lh($a,ah,arguments)};Ah?Ah(AA.exports,"apply",{value:sh}):AA.exports.apply=sh});var dh=Fe((pI,ph)=>{"use strict";var fh=Zr(),hh=uh(),y0=hh(fh("String.prototype.indexOf"));ph.exports=function(e,n){var o=fh(e,!!n);return typeof o=="function"&&y0(e,".prototype.")>-1?hh(o):o}});var gh=Fe(()=>{});var Qh=Fe((mI,kh)=>{var cc=typeof Map=="function"&&Map.prototype,ec=Object.getOwnPropertyDescriptor&&cc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cA=cc&&ec&&typeof ec.get=="function"?ec.get:null,mh=cc&&Map.prototype.forEach,lc=typeof Set=="function"&&Set.prototype,tc=Object.getOwnPropertyDescriptor&&lc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,lA=lc&&tc&&typeof tc.get=="function"?tc.get:null,yh=lc&&Set.prototype.forEach,v0=typeof WeakMap=="function"&&WeakMap.prototype,ki=v0?WeakMap.prototype.has:null,w0=typeof WeakSet=="function"&&WeakSet.prototype,Qi=w0?WeakSet.prototype.has:null,x0=typeof WeakRef=="function"&&WeakRef.prototype,vh=x0?WeakRef.prototype.deref:null,I0=Boolean.prototype.valueOf,C0=Object.prototype.toString,E0=Function.prototype.toString,b0=String.prototype.match,uc=String.prototype.slice,Mr=String.prototype.replace,B0=String.prototype.toUpperCase,wh=String.prototype.toLowerCase,Dh=RegExp.prototype.test,xh=Array.prototype.concat,or=Array.prototype.join,T0=Array.prototype.slice,Ih=Math.floor,ic=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rc=Object.getOwnPropertySymbols,oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Pn||!0)?Symbol.toStringTag:null,Mh=Object.prototype.propertyIsEnumerable,Ch=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function Eh(i,e){if(i===1/0||i===-1/0||i!==i||i&&i>-1e3&&i<1e3||Dh.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof i=="number"){var o=i<0?-Ih(-i):Ih(i);if(o!==i){var r=String(o),t=uc.call(e,r.length+1);return Mr.call(r,n,"$&_")+"."+Mr.call(Mr.call(t,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Mr.call(e,n,"$&_")}var Ac=gh(),bh=Ac.custom,Bh=_h(bh)?bh:null;kh.exports=function i(e,n,o,r){var t=n||{};if(Dr(t,"quoteStyle")&&t.quoteStyle!=="single"&&t.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dr(t,"maxStringLength")&&(typeof t.maxStringLength=="number"?t.maxStringLength<0&&t.maxStringLength!==1/0:t.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var A=Dr(t,"customInspect")?t.customInspect:!0;if(typeof A!="boolean"&&A!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dr(t,"indent")&&t.indent!==null&&t.indent!=="	"&&!(parseInt(t.indent,10)===t.indent&&t.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dr(t,"numericSeparator")&&typeof t.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=t.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ph(e,t);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Eh(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?Eh(e,l):l}var u=typeof t.depth>"u"?5:t.depth;if(typeof o>"u"&&(o=0),o>=u&&u>0&&typeof e=="object")return sc(e)?"[Array]":"[Object]";var h=j0(t,o);if(typeof r>"u")r=[];else if(Fh(r,e)>=0)return"[Circular]";function f(F,k,Y){if(k&&(r=T0.call(r),r.push(k)),Y){var U={depth:t.depth};return Dr(t,"quoteStyle")&&(U.quoteStyle=t.quoteStyle),i(F,U,o+1,r)}return i(F,t,o+1,r)}if(typeof e=="function"&&!Th(e)){var p=Q0(e),g=aA(e,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+or.call(g,", ")+" }":"")}if(_h(e)){var w=Pn?Mr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):oc.call(e);return typeof e=="object"&&!Pn?Pi(w):w}if(z0(e)){for(var y="<"+wh.call(String(e.nodeName)),C=e.attributes||[],m=0;m<C.length;m++)y+=" "+C[m].name+"="+Rh(S0(C[m].value),"double",t);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+wh.call(String(e.nodeName))+">",y}if(sc(e)){if(e.length===0)return"[]";var v=aA(e,f);return h&&!V0(v)?"["+ac(v,h)+"]":"[ "+or.call(v,", ")+" ]"}if(M0(e)){var I=aA(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!Mh.call(e,"cause")?"{ ["+String(e)+"] "+or.call(xh.call("[cause]: "+f(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+or.call(I,", ")+" }"}if(typeof e=="object"&&A){if(Bh&&typeof e[Bh]=="function"&&Ac)return Ac(e,{depth:u-o});if(A!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(U0(e)){var E=[];return mh&&mh.call(e,function(F,k){E.push(f(k,e,!0)+" => "+f(F,e))}),Sh("Map",cA.call(e),E,h)}if(N0(e)){var b=[];return yh&&yh.call(e,function(F){b.push(f(F,e))}),Sh("Set",lA.call(e),b,h)}if(L0(e))return nc("WeakMap");if(G0(e))return nc("WeakSet");if(O0(e))return nc("WeakRef");if(_0(e))return Pi(f(Number(e)));if(P0(e))return Pi(f(ic.call(e)));if(F0(e))return Pi(I0.call(e));if(R0(e))return Pi(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!D0(e)&&!Th(e)){var B=aA(e,f),T=Ch?Ch(e)===Object.prototype:e instanceof Object||e.constructor===Object,S=e instanceof Object?"":"null prototype",R=!T&&vt&&Object(e)===e&&vt in e?uc.call(Rr(e),8,-1):S?"Object":"",Q=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",M=Q+(R||S?"["+or.call(xh.call([],R||[],S||[]),": ")+"] ":"");return B.length===0?M+"{}":h?M+"{"+ac(B,h)+"}":M+"{ "+or.call(B,", ")+" }"}return String(e)};function Rh(i,e,n){var o=(n.quoteStyle||e)==="double"?'"':"'";return o+i+o}function S0(i){return Mr.call(String(i),/"/g,"&quot;")}function sc(i){return Rr(i)==="[object Array]"&&(!vt||!(typeof i=="object"&&vt in i))}function D0(i){return Rr(i)==="[object Date]"&&(!vt||!(typeof i=="object"&&vt in i))}function Th(i){return Rr(i)==="[object RegExp]"&&(!vt||!(typeof i=="object"&&vt in i))}function M0(i){return Rr(i)==="[object Error]"&&(!vt||!(typeof i=="object"&&vt in i))}function R0(i){return Rr(i)==="[object String]"&&(!vt||!(typeof i=="object"&&vt in i))}function _0(i){return Rr(i)==="[object Number]"&&(!vt||!(typeof i=="object"&&vt in i))}function F0(i){return Rr(i)==="[object Boolean]"&&(!vt||!(typeof i=="object"&&vt in i))}function _h(i){if(Pn)return i&&typeof i=="object"&&i instanceof Symbol;if(typeof i=="symbol")return!0;if(!i||typeof i!="object"||!oc)return!1;try{return oc.call(i),!0}catch{}return!1}function P0(i){if(!i||typeof i!="object"||!ic)return!1;try{return ic.call(i),!0}catch{}return!1}var k0=Object.prototype.hasOwnProperty||function(i){return i in this};function Dr(i,e){return k0.call(i,e)}function Rr(i){return C0.call(i)}function Q0(i){if(i.name)return i.name;var e=b0.call(E0.call(i),/^function\s*([\w$]+)/);return e?e[1]:null}function Fh(i,e){if(i.indexOf)return i.indexOf(e);for(var n=0,o=i.length;n<o;n++)if(i[n]===e)return n;return-1}function U0(i){if(!cA||!i||typeof i!="object")return!1;try{cA.call(i);try{lA.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function L0(i){if(!ki||!i||typeof i!="object")return!1;try{ki.call(i,ki);try{Qi.call(i,Qi)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function O0(i){if(!vh||!i||typeof i!="object")return!1;try{return vh.call(i),!0}catch{}return!1}function N0(i){if(!lA||!i||typeof i!="object")return!1;try{lA.call(i);try{cA.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function G0(i){if(!Qi||!i||typeof i!="object")return!1;try{Qi.call(i,Qi);try{ki.call(i,ki)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function z0(i){return!i||typeof i!="object"?!1:typeof HTMLElement<"u"&&i instanceof HTMLElement?!0:typeof i.nodeName=="string"&&typeof i.getAttribute=="function"}function Ph(i,e){if(i.length>e.maxStringLength){var n=i.length-e.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return Ph(uc.call(i,0,e.maxStringLength),e)+o}var r=Mr.call(Mr.call(i,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H0);return Rh(r,"single",e)}function H0(i){var e=i.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+B0.call(e.toString(16))}function Pi(i){return"Object("+i+")"}function nc(i){return i+" { ? }"}function Sh(i,e,n,o){var r=o?ac(n,o):or.call(n,", ");return i+" ("+e+") {"+r+"}"}function V0(i){for(var e=0;e<i.length;e++)if(Fh(i[e],`
`)>=0)return!1;return!0}function j0(i,e){var n;if(i.indent==="	")n="	";else if(typeof i.indent=="number"&&i.indent>0)n=or.call(Array(i.indent+1)," ");else return null;return{base:n,prev:or.call(Array(e+1),n)}}function ac(i,e){if(i.length===0)return"";var n=`
`+e.prev+e.base;return n+or.call(i,","+n)+`
`+e.prev}function aA(i,e){var n=sc(i),o=[];if(n){o.length=i.length;for(var r=0;r<i.length;r++)o[r]=Dr(i,r)?e(i[r],i):""}var t=typeof rc=="function"?rc(i):[],A;if(Pn){A={};for(var a=0;a<t.length;a++)A["$"+t[a]]=t[a]}for(var c in i)Dr(i,c)&&(n&&String(Number(c))===c&&c<i.length||Pn&&A["$"+c]instanceof Symbol||(Dh.call(/[^\w$]/,c)?o.push(e(c,i)+": "+e(i[c],i)):o.push(c+": "+e(i[c],i))));if(typeof rc=="function")for(var l=0;l<t.length;l++)Mh.call(i,t[l])&&o.push("["+e(t[l])+"]: "+e(i[t[l]],i));return o}});var Oh=Fe((yI,Lh)=>{"use strict";var Uh=Zr(),kn=dh(),Y0=Qh(),W0=Sn(),uA=Uh("%WeakMap%",!0),fA=Uh("%Map%",!0),q0=kn("WeakMap.prototype.get",!0),K0=kn("WeakMap.prototype.set",!0),J0=kn("WeakMap.prototype.has",!0),X0=kn("Map.prototype.get",!0),Z0=kn("Map.prototype.set",!0),$0=kn("Map.prototype.has",!0),fc=function(i,e){for(var n=i,o;(o=n.next)!==null;n=o)if(o.key===e)return n.next=o.next,o.next=i.next,i.next=o,o},ey=function(i,e){var n=fc(i,e);return n&&n.value},ty=function(i,e,n){var o=fc(i,e);o?o.value=n:i.next={key:e,next:i.next,value:n}},ry=function(i,e){return!!fc(i,e)};Lh.exports=function(){var e,n,o,r={assert:function(t){if(!r.has(t))throw new W0("Side channel does not contain "+Y0(t))},get:function(t){if(uA&&t&&(typeof t=="object"||typeof t=="function")){if(e)return q0(e,t)}else if(fA){if(n)return X0(n,t)}else if(o)return ey(o,t)},has:function(t){if(uA&&t&&(typeof t=="object"||typeof t=="function")){if(e)return J0(e,t)}else if(fA){if(n)return $0(n,t)}else if(o)return ry(o,t);return!1},set:function(t,A){uA&&t&&(typeof t=="object"||typeof t=="function")?(e||(e=new uA),K0(e,t,A)):fA?(n||(n=new fA),Z0(n,t,A)):(o||(o={key:{},next:null}),ty(o,t,A))}};return r}});var hA=Fe((vI,Nh)=>{"use strict";var ny=String.prototype.replace,iy=/%20/g,hc={RFC1738:"RFC1738",RFC3986:"RFC3986"};Nh.exports={default:hc.RFC3986,formatters:{RFC1738:function(i){return ny.call(i,iy,"+")},RFC3986:function(i){return String(i)}},RFC1738:hc.RFC1738,RFC3986:hc.RFC3986}});var gc=Fe((wI,zh)=>{"use strict";var oy=hA(),pc=Object.prototype.hasOwnProperty,$r=Array.isArray,Ar=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),Ay=function(e){for(;e.length>1;){var n=e.pop(),o=n.obj[n.prop];if($r(o)){for(var r=[],t=0;t<o.length;++t)typeof o[t]<"u"&&r.push(o[t]);n.obj[n.prop]=r}}},Gh=function(e,n){for(var o=n&&n.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(o[r]=e[r]);return o},sy=function i(e,n,o){if(!n)return e;if(typeof n!="object"){if($r(e))e.push(n);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!pc.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var r=e;return $r(e)&&!$r(n)&&(r=Gh(e,o)),$r(e)&&$r(n)?(n.forEach(function(t,A){if(pc.call(e,A)){var a=e[A];a&&typeof a=="object"&&t&&typeof t=="object"?e[A]=i(a,t,o):e.push(t)}else e[A]=t}),e):Object.keys(n).reduce(function(t,A){var a=n[A];return pc.call(t,A)?t[A]=i(t[A],a,o):t[A]=a,t},r)},ay=function(e,n){return Object.keys(n).reduce(function(o,r){return o[r]=n[r],o},e)},cy=function(i,e,n){var o=i.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},dc=1024,ly=function(e,n,o,r,t){if(e.length===0)return e;var A=e;if(typeof e=="symbol"?A=Symbol.prototype.toString.call(e):typeof e!="string"&&(A=String(e)),o==="iso-8859-1")return escape(A).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<A.length;c+=dc){for(var l=A.length>=dc?A.slice(c,c+dc):A,u=[],h=0;h<l.length;++h){var f=l.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||t===oy.RFC1738&&(f===40||f===41)){u[u.length]=l.charAt(h);continue}if(f<128){u[u.length]=Ar[f];continue}if(f<2048){u[u.length]=Ar[192|f>>6]+Ar[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Ar[224|f>>12]+Ar[128|f>>6&63]+Ar[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|l.charCodeAt(h)&1023),u[u.length]=Ar[240|f>>18]+Ar[128|f>>12&63]+Ar[128|f>>6&63]+Ar[128|f&63]}a+=u.join("")}return a},uy=function(e){for(var n=[{obj:{o:e},prop:"o"}],o=[],r=0;r<n.length;++r)for(var t=n[r],A=t.obj[t.prop],a=Object.keys(A),c=0;c<a.length;++c){var l=a[c],u=A[l];typeof u=="object"&&u!==null&&o.indexOf(u)===-1&&(n.push({obj:A,prop:l}),o.push(u))}return Ay(n),e},fy=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},hy=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},py=function(e,n){return[].concat(e,n)},dy=function(e,n){if($r(e)){for(var o=[],r=0;r<e.length;r+=1)o.push(n(e[r]));return o}return n(e)};zh.exports={arrayToObject:Gh,assign:ay,combine:py,compact:uy,decode:cy,encode:ly,isBuffer:hy,isRegExp:fy,maybeMap:dy,merge:sy}});var qh=Fe((xI,Wh)=>{"use strict";var Vh=Oh(),pA=gc(),Ui=hA(),gy=Object.prototype.hasOwnProperty,jh={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},sr=Array.isArray,my=Array.prototype.push,Yh=function(i,e){my.apply(i,sr(e)?e:[e])},yy=Date.prototype.toISOString,Hh=Ui.default,st={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pA.encode,encodeValuesOnly:!1,format:Hh,formatter:Ui.formatters[Hh],indices:!1,serializeDate:function(e){return yy.call(e)},skipNulls:!1,strictNullHandling:!1},vy=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mc={},wy=function i(e,n,o,r,t,A,a,c,l,u,h,f,p,g,w,y,C,m){for(var v=e,I=m,E=0,b=!1;(I=I.get(mc))!==void 0&&!b;){var B=I.get(e);if(E+=1,typeof B<"u"){if(B===E)throw new RangeError("Cyclic object value");b=!0}typeof I.get(mc)>"u"&&(E=0)}if(typeof u=="function"?v=u(n,v):v instanceof Date?v=p(v):o==="comma"&&sr(v)&&(v=pA.maybeMap(v,function(G){return G instanceof Date?p(G):G})),v===null){if(A)return l&&!y?l(n,st.encoder,C,"key",g):n;v=""}if(vy(v)||pA.isBuffer(v)){if(l){var T=y?n:l(n,st.encoder,C,"key",g);return[w(T)+"="+w(l(v,st.encoder,C,"value",g))]}return[w(n)+"="+w(String(v))]}var S=[];if(typeof v>"u")return S;var R;if(o==="comma"&&sr(v))y&&l&&(v=pA.maybeMap(v,l)),R=[{value:v.length>0?v.join(",")||null:void 0}];else if(sr(u))R=u;else{var Q=Object.keys(v);R=h?Q.sort(h):Q}var M=c?n.replace(/\./g,"%2E"):n,F=r&&sr(v)&&v.length===1?M+"[]":M;if(t&&sr(v)&&v.length===0)return F+"[]";for(var k=0;k<R.length;++k){var Y=R[k],U=typeof Y=="object"&&typeof Y.value<"u"?Y.value:v[Y];if(!(a&&U===null)){var K=f&&c?Y.replace(/\./g,"%2E"):Y,W=sr(v)?typeof o=="function"?o(F,K):F:F+(f?"."+K:"["+K+"]");m.set(e,E);var O=Vh();O.set(mc,m),Yh(S,i(U,W,o,r,t,A,a,c,o==="comma"&&y&&sr(v)?null:l,u,h,f,p,g,w,y,C,O))}}return S},xy=function(e){if(!e)return st;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||st.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Ui.default;if(typeof e.format<"u"){if(!gy.call(Ui.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var r=Ui.formatters[o],t=st.filter;(typeof e.filter=="function"||sr(e.filter))&&(t=e.filter);var A;if(e.arrayFormat in jh?A=e.arrayFormat:"indices"in e?A=e.indices?"indices":"repeat":A=st.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:st.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:st.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:st.allowEmptyArrays,arrayFormat:A,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:st.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?st.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:st.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:st.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:st.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:st.encodeValuesOnly,filter:t,format:o,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:st.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:st.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:st.strictNullHandling}};Wh.exports=function(i,e){var n=i,o=xy(e),r,t;typeof o.filter=="function"?(t=o.filter,n=t("",n)):sr(o.filter)&&(t=o.filter,r=t);var A=[];if(typeof n!="object"||n===null)return"";var a=jh[o.arrayFormat],c=a==="comma"&&o.commaRoundTrip;r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var l=Vh(),u=0;u<r.length;++u){var h=r[u];o.skipNulls&&n[h]===null||Yh(A,wy(n[h],h,a,c,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,l))}var f=A.join(o.delimiter),p=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""}});var Xh=Fe((II,Jh)=>{"use strict";var Qn=gc(),yc=Object.prototype.hasOwnProperty,Iy=Array.isArray,$e={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Qn.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Cy=function(i){return i.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Kh=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},Ey="utf8=%26%2310003%3B",by="utf8=%E2%9C%93",By=function(e,n){var o={__proto__:null},r=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var t=n.parameterLimit===1/0?void 0:n.parameterLimit,A=r.split(n.delimiter,t),a=-1,c,l=n.charset;if(n.charsetSentinel)for(c=0;c<A.length;++c)A[c].indexOf("utf8=")===0&&(A[c]===by?l="utf-8":A[c]===Ey&&(l="iso-8859-1"),a=c,c=A.length);for(c=0;c<A.length;++c)if(c!==a){var u=A[c],h=u.indexOf("]="),f=h===-1?u.indexOf("="):h+1,p,g;f===-1?(p=n.decoder(u,$e.decoder,l,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(u.slice(0,f),$e.decoder,l,"key"),g=Qn.maybeMap(Kh(u.slice(f+1),n),function(y){return n.decoder(y,$e.decoder,l,"value")})),g&&n.interpretNumericEntities&&l==="iso-8859-1"&&(g=Cy(g)),u.indexOf("[]=")>-1&&(g=Iy(g)?[g]:g);var w=yc.call(o,p);w&&n.duplicates==="combine"?o[p]=Qn.combine(o[p],g):(!w||n.duplicates==="last")&&(o[p]=g)}return o},Ty=function(i,e,n,o){for(var r=o?e:Kh(e,n),t=i.length-1;t>=0;--t){var A,a=i[t];if(a==="[]"&&n.parseArrays)A=n.allowEmptyArrays&&(r===""||n.strictNullHandling&&r===null)?[]:[].concat(r);else{A=n.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!n.parseArrays&&l===""?A={0:r}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(A=[],A[u]=r):l!=="__proto__"&&(A[l]=r)}r=A}return r},Sy=function(e,n,o,r){if(e){var t=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,A=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.depth>0&&A.exec(t),l=c?t.slice(0,c.index):t,u=[];if(l){if(!o.plainObjects&&yc.call(Object.prototype,l)&&!o.allowPrototypes)return;u.push(l)}for(var h=0;o.depth>0&&(c=a.exec(t))!==null&&h<o.depth;){if(h+=1,!o.plainObjects&&yc.call(Object.prototype,c[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(c[1])}if(c){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");u.push("["+t.slice(c.index)+"]")}return Ty(u,n,o,r)}},Dy=function(e){if(!e)return $e;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?$e.charset:e.charset,o=typeof e.duplicates>"u"?$e.duplicates:e.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:$e.allowDots:!!e.allowDots;return{allowDots:r,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:$e.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$e.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:$e.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$e.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$e.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$e.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:$e.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:$e.decoder,delimiter:typeof e.delimiter=="string"||Qn.isRegExp(e.delimiter)?e.delimiter:$e.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$e.depth,duplicates:o,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$e.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$e.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$e.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:$e.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$e.strictNullHandling}};Jh.exports=function(i,e){var n=Dy(e);if(i===""||i===null||typeof i>"u")return n.plainObjects?Object.create(null):{};for(var o=typeof i=="string"?By(i,n):i,r=n.plainObjects?Object.create(null):{},t=Object.keys(o),A=0;A<t.length;++A){var a=t[A],c=Sy(a,o[a],n,typeof i=="string");r=Qn.merge(r,c,n)}return n.allowSparse===!0?r:Qn.compact(r)}});var $h=Fe((CI,Zh)=>{"use strict";var My=qh(),Ry=Xh(),_y=hA();Zh.exports={formats:_y,parse:Ry,stringify:My}});var Ic=Fe(Ln=>{"use strict";var Fy=df();function Lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Py=/^([a-z0-9.+-]+:)/i,ky=/:[0-9]*$/,Qy=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Uy=["<",">",'"',"`"," ","\r",`
`,"	"],Ly=["{","}","|","\\","^","`"].concat(Uy),vc=["'"].concat(Ly),ep=["%","/","?",";","#"].concat(vc),tp=["/","?","#"],Oy=255,rp=/^[+a-z0-9A-Z_-]{0,63}$/,Ny=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gy={javascript:!0,"javascript:":!0},wc={javascript:!0,"javascript:":!0},Un={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},xc=$h();function Li(i,e,n){if(i&&typeof i=="object"&&i instanceof Lt)return i;var o=new Lt;return o.parse(i,e,n),o}Lt.prototype.parse=function(i,e,n){if(typeof i!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof i);var o=i.indexOf("?"),r=o!==-1&&o<i.indexOf("#")?"?":"#",t=i.split(r),A=/\\/g;t[0]=t[0].replace(A,"/"),i=t.join(r);var a=i;if(a=a.trim(),!n&&i.split("#").length===1){var c=Qy.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=xc.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=Py.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(l&&wc[l])&&(a=a.substr(2),this.slashes=!0)}if(!wc[l]&&(h||l&&!Un[l])){for(var f=-1,p=0;p<tp.length;p++){var g=a.indexOf(tp[p]);g!==-1&&(f===-1||g<f)&&(f=g)}var w,y;f===-1?y=a.lastIndexOf("@"):y=a.lastIndexOf("@",f),y!==-1&&(w=a.slice(0,y),a=a.slice(y+1),this.auth=decodeURIComponent(w)),f=-1;for(var p=0;p<ep.length;p++){var g=a.indexOf(ep[p]);g!==-1&&(f===-1||g<f)&&(f=g)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var m=this.hostname.split(/\./),p=0,v=m.length;p<v;p++){var I=m[p];if(I&&!I.match(rp)){for(var E="",b=0,B=I.length;b<B;b++)I.charCodeAt(b)>127?E+="x":E+=I[b];if(!E.match(rp)){var T=m.slice(0,p),S=m.slice(p+1),R=I.match(Ny);R&&(T.push(R[1]),S.unshift(R[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=T.join(".");break}}}this.hostname.length>Oy?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=Fy.toASCII(this.hostname));var Q=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+Q,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Gy[u])for(var p=0,v=vc.length;p<v;p++){var F=vc[p];if(a.indexOf(F)!==-1){var k=encodeURIComponent(F);k===F&&(k=escape(F)),a=a.split(F).join(k)}}var Y=a.indexOf("#");Y!==-1&&(this.hash=a.substr(Y),a=a.slice(0,Y));var U=a.indexOf("?");if(U!==-1?(this.search=a.substr(U),this.query=a.substr(U+1),e&&(this.query=xc.parse(this.query)),a=a.slice(0,U)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Un[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",K=this.search||"";this.path=Q+K}return this.href=this.format(),this};function zy(i){return typeof i=="string"&&(i=Li(i)),i instanceof Lt?i.format():Lt.prototype.format.call(i)}Lt.prototype.format=function(){var i=this.auth||"";i&&(i=encodeURIComponent(i),i=i.replace(/%3A/i,":"),i+="@");var e=this.protocol||"",n=this.pathname||"",o=this.hash||"",r=!1,t="";this.host?r=i+this.host:this.hostname&&(r=i+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(t=xc.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var A=this.search||t&&"?"+t||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Un[e])&&r!==!1?(r="//"+(r||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):r||(r=""),o&&o.charAt(0)!=="#"&&(o="#"+o),A&&A.charAt(0)!=="?"&&(A="?"+A),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),A=A.replace("#","%23"),e+r+n+A+o};function Hy(i,e){return Li(i,!1,!0).resolve(e)}Lt.prototype.resolve=function(i){return this.resolveObject(Li(i,!1,!0)).format()};function Vy(i,e){return i?Li(i,!1,!0).resolveObject(e):e}Lt.prototype.resolveObject=function(i){if(typeof i=="string"){var e=new Lt;e.parse(i,!1,!0),i=e}for(var n=new Lt,o=Object.keys(this),r=0;r<o.length;r++){var t=o[r];n[t]=this[t]}if(n.hash=i.hash,i.href==="")return n.href=n.format(),n;if(i.slashes&&!i.protocol){for(var A=Object.keys(i),a=0;a<A.length;a++){var c=A[a];c!=="protocol"&&(n[c]=i[c])}return Un[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(i.protocol&&i.protocol!==n.protocol){if(!Un[i.protocol]){for(var l=Object.keys(i),u=0;u<l.length;u++){var h=l[u];n[h]=i[h]}return n.href=n.format(),n}if(n.protocol=i.protocol,!i.host&&!wc[i.protocol]){for(var v=(i.pathname||"").split("/");v.length&&!(i.host=v.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),n.pathname=v.join("/")}else n.pathname=i.pathname;if(n.search=i.search,n.query=i.query,n.host=i.host||"",n.auth=i.auth,n.hostname=i.hostname||i.host,n.port=i.port,n.pathname||n.search){var f=n.pathname||"",p=n.search||"";n.path=f+p}return n.slashes=n.slashes||i.slashes,n.href=n.format(),n}var g=n.pathname&&n.pathname.charAt(0)==="/",w=i.host||i.pathname&&i.pathname.charAt(0)==="/",y=w||g||n.host&&i.pathname,C=y,m=n.pathname&&n.pathname.split("/")||[],v=i.pathname&&i.pathname.split("/")||[],I=n.protocol&&!Un[n.protocol];if(I&&(n.hostname="",n.port=null,n.host&&(m[0]===""?m[0]=n.host:m.unshift(n.host)),n.host="",i.protocol&&(i.hostname=null,i.port=null,i.host&&(v[0]===""?v[0]=i.host:v.unshift(i.host)),i.host=null),y=y&&(v[0]===""||m[0]==="")),w)n.host=i.host||i.host===""?i.host:n.host,n.hostname=i.hostname||i.hostname===""?i.hostname:n.hostname,n.search=i.search,n.query=i.query,m=v;else if(v.length)m||(m=[]),m.pop(),m=m.concat(v),n.search=i.search,n.query=i.query;else if(i.search!=null){if(I){n.host=m.shift(),n.hostname=n.host;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return n.search=i.search,n.query=i.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var b=m.slice(-1)[0],B=(n.host||i.host||m.length>1)&&(b==="."||b==="..")||b==="",T=0,S=m.length;S>=0;S--)b=m[S],b==="."?m.splice(S,1):b===".."?(m.splice(S,1),T++):T&&(m.splice(S,1),T--);if(!y&&!C)for(;T--;T)m.unshift("..");y&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),B&&m.join("/").substr(-1)!=="/"&&m.push("");var R=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(I){n.hostname=R?"":m.length?m.shift():"",n.host=n.hostname;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return y=y||n.host&&m.length,y&&!R&&m.unshift(""),m.length>0?n.pathname=m.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=i.auth||n.auth,n.slashes=n.slashes||i.slashes,n.href=n.format(),n};Lt.prototype.parseHost=function(){var i=this.host,e=ky.exec(i);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),i=i.substr(0,i.length-e.length)),i&&(this.hostname=i)};Ln.parse=Li;Ln.resolve=Hy;Ln.resolveObject=Vy;Ln.format=zy;Ln.Url=Lt});var ip=Fe((np,dA)=>{(function(i,e){typeof define=="function"&&define.amd?define([],e):typeof dA=="object"&&dA.exports?dA.exports=e():i.xmlserializer=e()})(np,function(){var i=function(f){return f.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},n=function(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},o=function(f){var p=f.value;return" "+f.name+'="'+e(p)+'"'},r=function(f){var p=f.tagName;return f.namespaceURI==="http://www.w3.org/1999/xhtml"&&(p=p.toLowerCase()),p},t=function(f,p){var g=Array.prototype.map.call(f.attributes||f.attrs,function(w){return w.name}).indexOf("xmlns")>=0;return!g&&(p||f.namespaceURI!==f.parentNode.namespaceURI)?' xmlns="'+f.namespaceURI+'"':""},A=function(f){return Array.prototype.map.call(f.childNodes,function(p){return h(p)}).join("")},a=function(f,p){var g="<"+r(f);return g+=t(f,p),Array.prototype.forEach.call(f.attributes||f.attrs,function(w){g+=o(w)}),f.childNodes.length>0?(g+=">",g+=A(f),g+="</"+r(f)+">"):g+="/>",g},c=function(f){var p=f.nodeValue||f.value||"";return n(p)},l=function(f){return"<!--"+f.data.replace(/-/g,"&#45;")+"-->"},u=function(f){return"<![CDATA["+f.nodeValue+"]]>"},h=function(f,p){var g=p&&p.rootNode;if(f.nodeName==="#document"||f.nodeName==="#document-fragment")return A(f);if(f.tagName)return a(f,g);if(f.nodeName==="#text")return c(f);if(f.nodeName==="#comment")return l(f);if(f.nodeName==="#cdata-section")return u(f)};return{serializeToString:function(f){return i(h(f,{rootNode:!0}))}}})});var sp=Fe(Ap=>{"use strict";var jy=function(i){var e=new XMLSerializer;return Array.prototype.map.call(i.childNodes,function(n){return e.serializeToString(n)}).join("")},Yy=function(i){if(i.documentElement.tagName==="parsererror"&&i.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml")return i.documentElement;if((i.documentElement.tagName==="xml"||i.documentElement.tagName==="html")&&i.documentElement.childNodes&&i.documentElement.childNodes.length>0&&i.documentElement.childNodes[0].nodeName==="parsererror")return i.documentElement.childNodes[0];if(i.documentElement.tagName==="html"&&i.documentElement.childNodes&&i.documentElement.childNodes.length>0&&i.documentElement.childNodes[0].nodeName==="body"&&i.documentElement.childNodes[0].childNodes&&i.documentElement.childNodes[0].childNodes.length&&i.documentElement.childNodes[0].childNodes[0].nodeName==="parsererror")return i.documentElement.childNodes[0].childNodes[0]},op=[new RegExp(`^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)
?</div>`),new RegExp(`^(.+)
`)],Wy=function(i){var e=jy(i),n,o;for(n=0;n<op.length;n++)if(o=op[n].exec(e),o)return o[1]},qy=function(i){var e;if(i===null)throw new Error("Parse error");var n=Yy(i);if(n!==void 0)throw e=Wy(n)||"Parse error",new Error(e)};Ap.failOnParseError=function(i){return qy(i),i}});var Oi=Fe(wt=>{"use strict";var Ky=Ic();wt.getDocumentBaseUrl=function(i){return i.baseURI!=="about:blank"?i.baseURI:null};wt.clone=function(i){var e={},n;for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e};wt.cloneArray=function(i){return Array.prototype.slice.apply(i,[0])};wt.joinUrl=function(i,e){return i?Ky.resolve(i,e):e};wt.isDataUri=function(i){return/^data:/.test(i)};wt.collectAndReportErrors=function(i){var e=[];return Promise.all(i.map(function(n){return n.catch(function(o){e.push(o)})})).then(function(){return e})};var Cc=null,Jy=function(i,e){return e===!1||e==="none"||e==="repeated"?((Cc===null||e!=="repeated")&&(Cc=Date.now()),i+"?_="+Cc):i};wt.ajax=function(i,e){return new Promise(function(n,o){var r=new window.XMLHttpRequest,t=wt.joinUrl(e.baseUrl,i),A,a=function(){o({msg:"Unable to load url",url:t})};A=Jy(t,e.cache),r.addEventListener("load",function(){r.status===200||r.status===0?n(r.response):a()},!1),r.addEventListener("error",a,!1);try{r.open("GET",A,!0),r.overrideMimeType(e.mimeType),r.send(null)}catch{a()}})};wt.binaryAjax=function(i,e){var n=wt.clone(e);return n.mimeType="text/plain; charset=x-user-defined",wt.ajax(i,n).then(function(o){for(var r="",t=0;t<o.length;t++)r+=String.fromCharCode(o.charCodeAt(t)&255);return r})};var Xy=function(i){var e=function(n,o){return n.substring(0,o.length)===o};return e(i,"<?xml")||e(i,"<svg")?"image/svg+xml":"image/png"};wt.getDataURIForImageURL=function(i,e){return wt.binaryAjax(i,e).then(function(n){var o=btoa(n),r=Xy(n);return"data:"+r+";base64,"+o})};var Ec=[],Zy=function(i){return Ec.indexOf(i)<0&&Ec.push(i),Ec.indexOf(i)};wt.memoize=function(i,e,n){if(typeof n!="object")throw new Error("cacheBucket is not an object");return function(){var o=Array.prototype.slice.call(arguments),r=e(o),t=Zy(i),A;return n[t]&&n[t][r]?n[t][r]:(A=i.apply(null,o),n[t]=n[t]||{},n[t][r]=A,A)}}});var lp=Fe(cp=>{"use strict";var Ni=Oi(),$y=function(i,e){var n=null;i.hasAttribute("src")?n=i.getAttribute("src"):i.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=i.getAttributeNS("http://www.w3.org/1999/xlink","href"):i.hasAttribute("href")&&(n=i.getAttribute("href"));var o=Ni.getDocumentBaseUrl(i.ownerDocument),r=Ni.clone(e);return!r.baseUrl&&o&&(r.baseUrl=o),Ni.getDataURIForImageURL(n,r).then(function(t){return t},function(t){throw{resourceType:"image",url:t.url,msg:"Unable to load image "+t.url}})},ev=function(i){return i.filter(function(e){var n=null;return e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href")),n!==null&&!Ni.isDataUri(n)})},tv=function(i){return Array.prototype.filter.call(i,function(e){return e.type==="image"})},ap=function(i){return Array.prototype.slice.call(i)};cp.inline=function(i,e){var n=ap(i.getElementsByTagName("img")),o=ap(i.getElementsByTagName("image")),r=tv(i.getElementsByTagName("input"));n=n.concat(o),n=n.concat(r);var t=ev(n);return Ni.collectAndReportErrors(t.map(function(A){return $y(A,e).then(function(a){A.attributes.src?A.attributes.src.value=a:A.attributes["xlink:href"]?A.attributes["xlink:href"].value=a:A.attributes.href&&(A.attributes.href.value=a)})}))}});var fp=Fe(up=>{"use strict";var gA=Oi(),rv=function(i,e){var n=i.attributes.src.value,o=gA.getDocumentBaseUrl(i.ownerDocument),r=gA.clone(e);return!r.baseUrl&&o&&(r.baseUrl=o),gA.ajax(n,r).catch(function(t){throw{resourceType:"script",url:t.url,msg:"Unable to load script "+t.url}})},nv=function(i){return i.replace(/<\//g,"<\\/")},iv=function(i,e){i.attributes.removeNamedItem("src"),i.textContent=nv(e)},ov=function(i){var e=i.getElementsByTagName("script");return Array.prototype.filter.call(e,function(n){return!!n.attributes.src})};up.inline=function(i,e){var n=ov(i);return gA.collectAndReportErrors(n.map(function(o){return rv(o,e).then(function(r){iv(o,r)})}))}});var mA=Fe(_r=>{"use strict";_r.unquoteString=function(i){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(i)?i.replace(e,"$1"):n.test(i)?i.replace(n,"$1"):i};_r.rulesForCssText=function(i){var e=document.implementation.createHTMLDocument(""),n=document.createElement("style"),o;return n.textContent=i,e.body.appendChild(n),o=n.sheet.cssRules,Array.prototype.slice.call(o)};_r.cssRulesToText=function(i){return i.reduce(function(e,n){return e+n.cssText},"")};_r.exchangeRule=function(i,e,n){var o=i.indexOf(e);i[o]=_r.rulesForCssText(n)[0]};_r.changeFontFaceRuleSrc=function(i,e,n){var o="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(o+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(o+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),e.style.getPropertyValue("unicode-range")&&(o+="unicode-range: "+e.style.getPropertyValue("unicode-range")+"; "),o+="src: "+n+"}",_r.exchangeRule(i,e,o)}});var hp=Fe(Gi=>{"use strict";var Av=mA(),sv=function(i){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return i.replace(e,"$1")};Gi.extractCssUrl=function(i){var e=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/,n;if(!e.test(i))throw new Error("Invalid url");return n=e.exec(i)[1],Av.unquoteString(sv(n))};var av=function(i){var e=`\\s*(?:"[^"]*"|'[^']*'|[^\\(]+)\\s*`,n="(url\\("+e+"\\)|[^,\\s]+)",o="(?:\\s*"+n+")+",r="^\\s*("+o+")(?:\\s*,\\s*("+o+"))*\\s*$",t=new RegExp(o,"g"),A,a=[],c=function(l){var u=new RegExp(n,"g"),h=[],f;for(f=u.exec(l);f;)h.push(f[1]),f=u.exec(l);return h};if(i.match(new RegExp(r))){for(A=t.exec(i);A;)a.push(c(A[0])),A=t.exec(i);return a}return[]},cv=function(i){var e,n;for(e=0;e<i.length;e++)try{return n=Gi.extractCssUrl(i[e]),{url:n,idx:e}}catch{}};Gi.parse=function(i){var e=av(i);return e.map(function(n){var o=cv(n);return o?{preUrl:n.slice(0,o.idx),url:o.url,postUrl:n.slice(o.idx+1)}:{preUrl:n}})};Gi.serialize=function(i){var e=i.map(function(n){var o=[].concat(n.preUrl);return n.url&&o.push('url("'+n.url+'")'),n.postUrl&&(o=o.concat(n.postUrl)),o.join(" ")});return e.join(", ")}});var dp=Fe((pp,bc)=>{(function(i){if(typeof pp=="object"&&typeof bc<"u")bc.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.cssFontFaceSrc=i()}})(function(){var i,e,n;return function o(r,t,A){function a(u,h){if(!t[u]){if(!r[u]){var f=typeof br=="function"&&br;if(!h&&f)return f(u,!0);if(c)return c(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var g=t[u]={exports:{}};r[u][0].call(g.exports,function(w){var y=r[u][1][w];return a(y||w)},g,g.exports,o,r,t,A)}return t[u].exports}for(var c=typeof br=="function"&&br,l=0;l<A.length;l++)a(A[l]);return a}({1:[function(o,r,t){"use strict";function A(l,u){function h(){this.constructor=l}h.prototype=u.prototype,l.prototype=new h}function a(l,u,h,f){this.message=l,this.expected=u,this.found=h,this.location=f,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a)}A(a,Error),a.buildMessage=function(l,u){var h={literal:function(m){return'"'+p(m.text)+'"'},class:function(m){var v="",I;for(I=0;I<m.parts.length;I++)v+=m.parts[I]instanceof Array?g(m.parts[I][0])+"-"+g(m.parts[I][1]):g(m.parts[I]);return"["+(m.inverted?"^":"")+v+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function f(m){return m.charCodeAt(0).toString(16).toUpperCase()}function p(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+f(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+f(v)})}function g(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+f(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+f(v)})}function w(m){return h[m.type](m)}function y(m){var v=new Array(m.length),I,E;for(I=0;I<m.length;I++)v[I]=w(m[I]);if(v.sort(),v.length>0){for(I=1,E=1;I<v.length;I++)v[I-1]!==v[I]&&(v[E]=v[I],E++);v.length=E}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function C(m){return m?'"'+p(m)+'"':"end of input"}return"Expected "+y(l)+" but "+C(u)+" found."};function c(l,u){u=u!==void 0?u:{};var h={},f={start:Re},p=Re,g="",w=function(){return[]},y=",",C=ne(",",!1),m=function(Z,d){return[Z].concat(d)},v=function(Z){return[Z]},I=function(Z,d){return{url:Z,format:d}},E=function(Z){return{url:Z}},b="url(",B=ne("url(",!1),T=")",S=ne(")",!1),R=function(Z){return Z},Q="format(",M=ne("format(",!1),F="local(",k=ne("local(",!1),Y=function(Z){return{local:Z}},U=/^[^)]/,K=Ee([")"],!0,!1),W=function(Z){return Ge.extractValue(Z.join(""))},O=/^[ \t\r\n\f]/,G=Ee([" ","	","\r",`
`,"\f"],!1,!1),_=0,N=0,H=[{line:1,column:1}],z=0,q=[],ee=0,te;if("startRule"in u){if(!(u.startRule in f))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');p=f[u.startRule]}function re(){return l.substring(N,_)}function se(){return ae(N,_)}function le(Z,d){throw d=d!==void 0?d:ae(N,_),ie([ye(Z)],l.substring(N,_),d)}function Ae(Z,d){throw d=d!==void 0?d:ae(N,_),we(Z,d)}function ne(Z,d){return{type:"literal",text:Z,ignoreCase:d}}function Ee(Z,d,x){return{type:"class",parts:Z,inverted:d,ignoreCase:x}}function Te(){return{type:"any"}}function de(){return{type:"end"}}function ye(Z){return{type:"other",description:Z}}function Be(Z){var d=H[Z],x;if(d)return d;for(x=Z-1;!H[x];)x--;for(d=H[x],d={line:d.line,column:d.column};x<Z;)l.charCodeAt(x)===10?(d.line++,d.column=1):d.column++,x++;return H[Z]=d,d}function ae(Z,d){var x=Be(Z),D=Be(d);return{start:{offset:Z,line:x.line,column:x.column},end:{offset:d,line:D.line,column:D.column}}}function pe(Z){_<z||(_>z&&(z=_,q=[]),q.push(Z))}function we(Z,d){return new a(Z,null,null,d)}function ie(Z,d,x){return new a(a.buildMessage(Z,d),Z,d,x)}function Re(){var Z,d;return Z=fe(),Z===h&&(Z=_,d=g,d!==h&&(N=Z,d=w()),Z=d),Z}function fe(){var Z,d,x,D,P,L;if(Z=_,d=ve(),d!==h){for(x=[],D=De();D!==h;)x.push(D),D=De();if(x!==h)if(l.charCodeAt(_)===44?(D=y,_++):(D=h,ee===0&&pe(C)),D!==h){for(P=[],L=De();L!==h;)P.push(L),L=De();P!==h?(L=fe(),L!==h?(N=Z,d=m(d,L),Z=d):(_=Z,Z=h)):(_=Z,Z=h)}else _=Z,Z=h;else _=Z,Z=h}else _=Z,Z=h;return Z===h&&(Z=_,d=ve(),d!==h&&(N=Z,d=v(d)),Z=d),Z}function ve(){var Z;return Z=ge(),Z===h&&(Z=Ce()),Z}function ge(){var Z,d,x,D;if(Z=_,d=ke(),d!==h){if(x=[],D=De(),D!==h)for(;D!==h;)x.push(D),D=De();else x=h;x!==h?(D=Ie(),D!==h?(N=Z,d=I(d,D),Z=d):(_=Z,Z=h)):(_=Z,Z=h)}else _=Z,Z=h;return Z===h&&(Z=_,d=ke(),d!==h&&(N=Z,d=E(d)),Z=d),Z}function ke(){var Z,d,x,D;return Z=_,l.substr(_,4)===b?(d=b,_+=4):(d=h,ee===0&&pe(B)),d!==h?(x=be(),x!==h?(l.charCodeAt(_)===41?(D=T,_++):(D=h,ee===0&&pe(S)),D!==h?(N=Z,d=R(x),Z=d):(_=Z,Z=h)):(_=Z,Z=h)):(_=Z,Z=h),Z}function Ie(){var Z,d,x,D;return Z=_,l.substr(_,7)===Q?(d=Q,_+=7):(d=h,ee===0&&pe(M)),d!==h?(x=be(),x!==h?(l.charCodeAt(_)===41?(D=T,_++):(D=h,ee===0&&pe(S)),D!==h?(N=Z,d=R(x),Z=d):(_=Z,Z=h)):(_=Z,Z=h)):(_=Z,Z=h),Z}function Ce(){var Z,d,x,D;return Z=_,l.substr(_,6)===F?(d=F,_+=6):(d=h,ee===0&&pe(k)),d!==h?(x=be(),x!==h?(l.charCodeAt(_)===41?(D=T,_++):(D=h,ee===0&&pe(S)),D!==h?(N=Z,d=Y(x),Z=d):(_=Z,Z=h)):(_=Z,Z=h)):(_=Z,Z=h),Z}function be(){var Z,d,x;if(Z=_,d=[],U.test(l.charAt(_))?(x=l.charAt(_),_++):(x=h,ee===0&&pe(K)),x!==h)for(;x!==h;)d.push(x),U.test(l.charAt(_))?(x=l.charAt(_),_++):(x=h,ee===0&&pe(K));else d=h;return d!==h&&(N=Z,d=W(d)),Z=d,Z}function De(){var Z;return O.test(l.charAt(_))?(Z=l.charAt(_),_++):(Z=h,ee===0&&pe(G)),Z}var Ge=o("../util");if(te=p(),te!==h&&_===l.length)return te;throw te!==h&&_<l.length&&pe(de()),ie(q,z<l.length?l.charAt(z):null,z<l.length?ae(z,z+1):ae(z,z))}r.exports={SyntaxError:a,parse:c}},{"../util":3}],2:[function(o,r,t){var A=o("./grammar");t.SyntaxError=function(a,c){this.message=a,this.offset=c},t.parse=function(a){try{return A.parse(a)}catch(c){throw new t.SyntaxError(c.message,c.offset)}},t.serialize=function(a){return a.map(function(c){var l;return c.url?(l='url("'+c.url+'")',c.format&&(l+=' format("'+c.format+'")')):l='local("'+c.local+'")',l}).join(", ")}},{"./grammar":1}],3:[function(o,r,t){var A=function(c){var l=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return c.replace(l,"$1")},a=function(c){var l=/^"(.*)"$/,u=/^'(.*)'$/;return l.test(c)?c.replace(l,"$1"):u.test(c)?c.replace(u,"$1"):c};t.extractValue=function(c){return a(A(c))}},{}]},{},[2])(2)})});var Ep=Fe(On=>{"use strict";var Yt=Oi(),zi=mA(),yA=hp(),vA=dp(),mp=function(i,e,n){i.style.setProperty(e,n,i.style.getPropertyPriority(e))},yp=function(i){return i.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})},vp=function(i){var e=[];return i.forEach(function(n){n.style.getPropertyValue("background-image")?e.push({property:"background-image",value:n.style.getPropertyValue("background-image"),rule:n}):n.style.getPropertyValue("background")&&e.push({property:"background",value:n.style.getPropertyValue("background"),rule:n})}),e},wp=function(i){return i.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})},xp=function(i){return i.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})},Ip=function(i){var e=[];return i.forEach(function(n,o){n.url&&!Yt.isDataUri(n.url)&&e.push(o)}),e},Cp=function(i){var e=[];return i.forEach(function(n,o){n.url&&!Yt.isDataUri(n.url)&&e.push(o)}),e};On.adjustPathsOfCssResources=function(i,e){var n=yp(e),o=vp(n),r=!1;return o.forEach(function(t){var A=yA.parse(t.value),a=Ip(A),c;a.length>0&&(a.forEach(function(l){var u=A[l].url,h=Yt.joinUrl(i,u);A[l].url=h}),c=yA.serialize(A),mp(t.rule,t.property,c),r=!0)}),wp(e).forEach(function(t){var A=t.style.getPropertyValue("src"),a,c;try{a=vA.parse(A)}catch{return}c=Cp(a),c.length>0&&(c.forEach(function(l){var u=a[l].url,h=Yt.joinUrl(i,u);a[l].url=h}),zi.changeFontFaceRuleSrc(e,t,vA.serialize(a)),r=!0)}),xp(e).forEach(function(t){var A=t.href,a=Yt.joinUrl(i,A);zi.exchangeRule(e,t,"@import url("+a+");"),r=!0}),r};var gp=function(i,e,n){var o=i.indexOf(e);i.splice(o,1),n.forEach(function(r,t){i.splice(o+t,0,r)})},lv=function(i,e,n,o){var r=e.href,t;return r=zi.unquoteString(r),t=Yt.joinUrl(o.baseUrl,r),n.indexOf(t)>=0?(gp(i,e,[]),Promise.resolve([])):(n.push(t),Yt.ajax(r,o).then(function(A){var a=zi.rulesForCssText(A);return On.loadCSSImportsForRules(a,n,o).then(function(c){return On.adjustPathsOfCssResources(r,a),gp(i,e,a),c.errors})},function(A){throw{resourceType:"stylesheet",url:A.url,msg:"Unable to load stylesheet "+A.url}}))};On.loadCSSImportsForRules=function(i,e,n){var o=xp(i),r=[],t=!1;return Promise.all(o.map(function(A){return lv(i,A,e,n).then(function(a){r=r.concat(a),t=!0},function(a){r.push(a)})})).then(function(){return{hasChanges:t,errors:r}})};var uv=function(i,e){var n=yA.parse(i),o=Ip(n),r=!1;return Yt.collectAndReportErrors(o.map(function(t){var A=n[t].url;return Yt.getDataURIForImageURL(A,e).then(function(a){n[t].url=a,r=!0},function(a){throw{resourceType:"backgroundImage",url:a.url,msg:"Unable to load background-image "+a.url}})})).then(function(t){return{backgroundValue:yA.serialize(n),hasChanges:r,errors:t}})},fv=function(i,e){var n=yp(i),o=vp(n),r=[],t=!1;return Promise.all(o.map(function(A){return uv(A.value,e).then(function(a){a.hasChanges&&(mp(A.rule,A.property,a.backgroundValue),t=!0),r=r.concat(a.errors)})})).then(function(){return{hasChanges:t,errors:r}})},hv=function(i,e){var n=!1,o,r;try{o=vA.parse(i)}catch{o=[]}return r=Cp(o),Yt.collectAndReportErrors(r.map(function(t){var A=o[t],a=A.format||"woff";return Yt.binaryAjax(A.url,e).then(function(c){var l=btoa(c);A.url="data:font/"+a+";base64,"+l,n=!0},function(c){throw{resourceType:"fontFace",url:c.url,msg:"Unable to load font-face "+c.url}})})).then(function(t){return{srcDeclarationValue:vA.serialize(o),hasChanges:n,errors:t}})},pv=function(i,e){var n=wp(i),o=[],r=!1;return Promise.all(n.map(function(t){var A=t.style.getPropertyValue("src");return hv(A,e).then(function(a){a.hasChanges&&(zi.changeFontFaceRuleSrc(i,t,a.srcDeclarationValue),r=!0),o=o.concat(a.errors)})})).then(function(){return{hasChanges:r,errors:o}})};On.loadAndInlineCSSResourcesForRules=function(i,e){var n=!1,o=[];return Promise.all([fv,pv].map(function(r){return r(i,e).then(function(t){n=n||t.hasChanges,o=o.concat(t.errors)})})).then(function(){return{hasChanges:n,errors:o}})}});var Bp=Fe(ar=>{"use strict";var mr=Oi(),dv=lp(),gv=fp(),Hi=Ep(),wA=mA(),mv=function(i){return mr.joinUrl(i,".")},yv=function(i){var e=i.map(function(n,o){return o===i.length-1&&(n={baseUrl:mv(n.baseUrl)}),JSON.stringify(n)});return e},bp=function(i,e){return e.cache!==!1&&e.cache!=="none"&&e.cacheBucket?mr.memoize(i,yv,e.cacheBucket):i},vv=function(i,e,n){var o=wA.rulesForCssText(i);return Hi.loadCSSImportsForRules(o,e,n).then(function(r){return Hi.loadAndInlineCSSResourcesForRules(o,n).then(function(t){var A=r.errors.concat(t.errors),a=r.hasChanges||t.hasChanges;return a&&(i=wA.cssRulesToText(o)),{hasChanges:a,content:i,errors:A}})})},wv=function(i,e,n){var o=i.textContent,r=bp(vv,e);return r(o,n,e).then(function(t){return t.hasChanges&&(i.childNodes[0].nodeValue=t.content),mr.cloneArray(t.errors)})},xv=function(i){var e=i.getElementsByTagName("style");return Array.prototype.filter.call(e,function(n){return!n.attributes.type||n.attributes.type.value==="text/css"})};ar.loadAndInlineStyles=function(i,e){var n=xv(i),o=[],r=[],t;return t=mr.clone(e),t.baseUrl=t.baseUrl||mr.getDocumentBaseUrl(i),Promise.all(n.map(function(A){return wv(A,t,r).then(function(a){o=o.concat(a)})})).then(function(){return o})};var Iv=function(i,e){var n=i.parentNode,o;e=e.trim(),e&&(o=i.ownerDocument.createElement("style"),o.type="text/css",o.appendChild(i.ownerDocument.createTextNode(e)),n.insertBefore(o,i)),n.removeChild(i)},Cv=function(i,e){return mr.ajax(i,e).then(function(n){var o=wA.rulesForCssText(n);return{content:n,cssRules:o}}).then(function(n){var o=Hi.adjustPathsOfCssResources(i,n.cssRules);return{content:n.content,cssRules:n.cssRules,hasChanges:o}}).then(function(n){return Hi.loadCSSImportsForRules(n.cssRules,[],e).then(function(o){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||o.hasChanges,errors:o.errors}})}).then(function(n){return Hi.loadAndInlineCSSResourcesForRules(n.cssRules,e).then(function(o){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||o.hasChanges,errors:n.errors.concat(o.errors)}})}).then(function(n){var o=n.content;return n.hasChanges&&(o=wA.cssRulesToText(n.cssRules)),{content:o,errors:n.errors}})},Ev=function(i,e){var n=i.attributes.href.value,o=mr.getDocumentBaseUrl(i.ownerDocument),r=mr.clone(e);!r.baseUrl&&o&&(r.baseUrl=o);var t=bp(Cv,e);return t(n,r).then(function(A){return{content:A.content,errors:mr.cloneArray(A.errors)}})},bv=function(i){var e=i.getElementsByTagName("link");return Array.prototype.filter.call(e,function(n){return n.attributes.rel&&n.attributes.rel.value==="stylesheet"&&(!n.attributes.type||n.attributes.type.value==="text/css")})};ar.loadAndInlineCssLinks=function(i,e){var n=bv(i),o=[];return Promise.all(n.map(function(r){return Ev(r,e).then(function(t){Iv(r,t.content+`
`),o=o.concat(t.errors)},function(t){o.push({resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url})})})).then(function(){return o})};ar.loadAndInlineImages=dv.inline;ar.loadAndInlineScript=gv.inline;ar.inlineReferences=function(i,e){var n=[],o=[ar.loadAndInlineImages,ar.loadAndInlineStyles,ar.loadAndInlineCssLinks];return e.inlineScripts!==!1&&o.push(ar.loadAndInlineScript),Promise.all(o.map(function(r){return r(i,e).then(function(t){n=n.concat(t)})})).then(function(){return n})}});var Sp=Fe((Tp,xA)=>{(function(i,e){i===void 0&&window!==void 0&&(i=window),typeof define=="function"&&define.amd?define(["url","xmlserializer","sane-domparser-error","inlineresources"],function(n,o,r,t){return i.rasterizeHTML=e(n,o,r,t)}):typeof xA=="object"&&xA.exports?xA.exports=e(Ic(),ip(),sp(),Bp()):i.rasterizeHTML=e(i.url,i.xmlserializer,i.sanedomparsererror,i.inlineresources)})(Tp,function(i,e,n,o){var r=function(p){"use strict";var g={},w=[];g.joinUrl=function(m,v){return m?p.resolve(m,v):v},g.getConstantUniqueIdFor=function(m){return w.indexOf(m)<0&&w.push(m),w.indexOf(m)},g.clone=function(m){var v={},I;for(I in m)m.hasOwnProperty(I)&&(v[I]=m[I]);return v};var y=function(m){return typeof m=="object"&&m!==null},C=function(m){return y(m)&&Object.prototype.toString.apply(m).match(/\[object (Canvas|HTMLCanvasElement)\]/i)};return g.parseOptionalParameters=function(m){var v={canvas:null,options:{}};return m[0]==null||C(m[0])?(v.canvas=m[0]||null,v.options=g.clone(m[1])):v.options=g.clone(m[0]),v},g}(i),t=function(p){"use strict";var g={},w=function(y,C,m){var v=y[C];return y[C]=function(){var I=Array.prototype.slice.call(arguments);return m.apply(this,[I,v])},v};return g.baseUrlRespectingXhr=function(y,C){var m=function(){var v=new y;return w(v,"open",function(I,E){var b=I.shift(),B=I.shift(),T=p.joinUrl(C,B);return E.apply(this,[b,T].concat(I))}),v};return m},g.finishNotifyingXhr=function(y){var C=0,m=0,v=!1,I,E=new Promise(function(B){I=function(){var T=C-m;T<=0&&v&&B({totalCount:C})}}),b=function(){var B=new y;return w(B,"send",function(T,S){return C+=1,S.apply(this,arguments)}),B.addEventListener("load",function(){m+=1,I()}),B};return b.waitForRequestsToFinish=function(){return v=!0,I(),E},b},g}(r),A=function(){"use strict";var p={},g=function(b){return Array.prototype.slice.call(b)};p.addClassName=function(b,B){b.className+=" "+B},p.addClassNameRecursively=function(b,B){p.addClassName(b,B),b.parentNode!==b.ownerDocument&&p.addClassNameRecursively(b.parentNode,B)};var w=function(b,B){var T=b.parentStyleSheet,S=g(T.cssRules).indexOf(b);T.insertRule(B,S+1),T.deleteRule(S)},y=function(b,B){var T=b.cssText.replace(/^[^\{]+/,""),S=B+" "+T;w(b,S)},C=function(b){return g(b).reduce(function(B,T){return B+T.cssText},"")},m=function(b){b.textContent=C(b.sheet.cssRules)},v=function(b){var B=document.implementation.createHTMLDocument(""),T=document.createElement("style");T.textContent=b.textContent,B.body.appendChild(T),b.sheet=T.sheet},I=function(b){return"((?:^|[^.#:\\w])|(?=\\W))("+b.join("|")+")(?=\\W|$)"},E=function(b,B,T){var S=I(B);g(b.querySelectorAll("style")).forEach(function(R){typeof R.sheet>"u"&&v(R);var Q=g(R.sheet.cssRules).filter(function(M){return M.selectorText&&new RegExp(S,"i").test(M.selectorText)});Q.length&&(Q.forEach(function(M){var F=M.selectorText.replace(new RegExp(S,"gi"),function(k,Y,U){return Y+T(U)});F!==M.selectorText&&y(M,F)}),m(R))})};return p.rewriteCssSelectorWith=function(b,B,T){E(b,[B],function(){return T})},p.lowercaseCssTypeSelectors=function(b,B){E(b,B,function(T){return T.toLowerCase()})},p.findHtmlOnlyNodeNames=function(b){var B=b.ownerDocument.createTreeWalker(b,NodeFilter.SHOW_ELEMENT),T={},S={},R;do R=B.currentNode.tagName.toLowerCase(),B.currentNode.namespaceURI==="http://www.w3.org/1999/xhtml"?T[R]=!0:S[R]=!0;while(B.nextNode());return Object.keys(T).filter(function(Q){return!S[Q]})},p}(),a=function(p){"use strict";var g={},w=function(C){return Array.prototype.slice.call(C)},y={active:!0,hover:!0,focus:!1,target:!1};return g.fakeUserAction=function(C,m,v){var I=C.querySelector(m),E=":"+v,b="rasterizehtml"+v;I&&(y[v]?p.addClassNameRecursively(I,b):p.addClassName(I,b),p.rewriteCssSelectorWith(C,E,"."+b))},g.persistInputValues=function(C){var m=C.querySelectorAll("input"),v=C.querySelectorAll("textarea"),I=function(E){return E.type==="checkbox"||E.type==="radio"};w(m).filter(I).forEach(function(E){E.checked?E.setAttribute("checked",""):E.removeAttribute("checked")}),w(m).filter(function(E){return!I(E)}).forEach(function(E){E.setAttribute("value",E.value)}),w(v).forEach(function(E){E.textContent=E.value})},g.rewriteTagNameSelectorsToLowerCase=function(C){p.lowercaseCssTypeSelectors(C,p.findHtmlOnlyNodeNames(C))},g}(A),c=function(p,g,w,y){"use strict";var C={},m=function(U,K,W,O){var G=U.createElement(K);return G.style.visibility="hidden",G.style.width=W+"px",G.style.height=O+"px",G.style.position="absolute",G.style.top=-1e4-O+"px",G.style.left=-1e4-W+"px",U.getElementsByTagName("body")[0].appendChild(G),G},v=function(U){return U>0?new Promise(function(K){setTimeout(K,U)}):Promise.resolve()};C.executeJavascript=function(U,K){return new Promise(function(W){var O=m(y.document,"iframe",K.width,K.height),G=U.outerHTML,_=[],N=K.executeJsTimeout||0,H=function(){y.document.getElementsByTagName("body")[0].removeChild(O)},z=function(){var re=O.contentDocument;W({document:re,errors:_,cleanUp:H})},q=O.contentWindow.XMLHttpRequest,ee=g.finishNotifyingXhr(q),te=g.baseUrlRespectingXhr(ee,K.baseUrl);O.onload=function(){v(N).then(ee.waitForRequestsToFinish).then(z)},O.contentDocument.open(),O.contentWindow.XMLHttpRequest=te,O.contentWindow.onerror=function(re){_.push({resourceType:"scriptExecution",msg:re})},O.contentDocument.write("<!DOCTYPE html>"),O.contentDocument.write(G),O.contentDocument.close()})};var I=function(U,K,W){var O=U.createElement("iframe");return O.style.width=K+"px",O.style.height=W+"px",O.style.visibility="hidden",O.style.position="absolute",O.style.top=-1e4-W+"px",O.style.left=-1e4-K+"px",O.style.borderWidth=0,O.sandbox="allow-same-origin",O.scrolling="no",O},E=function(U,K,W){var O=Math.floor(U/W),G=Math.floor(K/W);return I(y.document,O,G)},b=function(U,K,W,O){return{width:Math.max(U.width*O,K),height:Math.max(U.height*O,W)}},B=function(U,K){var W=U.querySelector(K);if(W)return W;if(U.ownerDocument.querySelector(K)===U)return U;throw{message:"Clipping selector not found"}},T=function(U,K,W,O,G){var _=Math.max(U.scrollWidth,U.clientWidth),N=Math.max(U.scrollHeight,U.clientHeight),H,z,q,ee,te,re,se,le;return K?(re=B(U,K),se=re.getBoundingClientRect(),H=se.top,z=se.left,q=se.width,ee=se.height):(H=0,z=0,q=_,ee=N),le=b({width:q,height:ee},W,O,G),te=y.getComputedStyle(U.ownerDocument.documentElement).fontSize,{left:z,top:H,width:le.width,height:le.height,viewportWidth:_,viewportHeight:N,rootFontSize:te}},S=function(U,K){var W=U.tagName;return K.querySelector(W)},R=function(U){var K=U.tagName.toLowerCase();return K==="html"||K==="body"?U.outerHTML:'<body style="margin: 0;">'+U.outerHTML+"</body>"};C.calculateDocumentContentSize=function(U,K){return new Promise(function(W,O){var G=K.zoom||1,_;_=E(K.width,K.height,G),y.document.getElementsByTagName("body")[0].appendChild(_),_.onload=function(){var N=_.contentDocument,H;try{H=T(S(U,N),K.clip,K.width,K.height,G),W(H)}catch(z){O(z)}finally{y.document.getElementsByTagName("body")[0].removeChild(_)}},_.contentDocument.open(),_.contentDocument.write("<!DOCTYPE html>"),_.contentDocument.write(R(U)),_.contentDocument.close()})},C.parseHtmlFragment=function(U){var K=y.document.implementation.createHTMLDocument("");K.documentElement.innerHTML=U;var W=K.querySelector("body").firstChild;if(!W)throw"Invalid source";return W};var Q=function(U,K){var W=/<html((?:\s+[^>]*)?)>/im.exec(K),O=y.document.implementation.createHTMLDocument(""),G,_,N,H;if(W)for(G="<div"+W[1]+"></div>",O.documentElement.innerHTML=G,N=O.querySelector("div"),_=0;_<N.attributes.length;_++)H=N.attributes[_],U.documentElement.setAttribute(H.name,H.value)};C.parseHTML=function(U){var K=y.document.implementation.createHTMLDocument("");return K.documentElement.innerHTML=U,Q(K,U),K};var M=function(U){try{return w.failOnParseError(U)}catch(K){throw{message:"Invalid source",originalError:K}}};C.validateXHTML=function(U){var K=new DOMParser,W=K.parseFromString(U,"application/xml");M(W)};var F=null,k=function(U,K){return K==="none"||K==="repeated"?((F===null||K!=="repeated")&&(F=Date.now()),U+"?_="+F):U},Y=function(U,K){return new Promise(function(W,O){var G=new window.XMLHttpRequest,_=p.joinUrl(K.baseUrl,U),N=k(_,K.cache),H=function(z){O({message:"Unable to load page",originalError:z})};G.addEventListener("load",function(){G.status===200||G.status===0?W(G.responseXML):H(G.statusText)},!1),G.addEventListener("error",function(z){H(z)},!1);try{G.open("GET",N,!0),G.responseType="document",G.send(null)}catch(z){H(z)}})};return C.loadDocument=function(U,K){return Y(U,K).then(function(W){return M(W)})},C}(r,t,n,window),l=function(p){"use strict";var g={},w=function(S,R){return R?URL.createObjectURL(new Blob([S],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(S)},y=function(S){S instanceof Blob&&URL.revokeObjectURL(S)},C='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',m=function(S){return new Promise(function(R,Q){var M=document.createElement("canvas"),F=new Image;F.onload=function(){var k=M.getContext("2d");try{k.drawImage(F,0,0),M.toDataURL("image/png"),R(!0)}catch{R(!1)}},F.onerror=Q,F.src=S})},v=function(){var S=w(C,!0);return m(S).then(function(R){return y(S),R?!1:m(w(C,!1)).then(function(Q){return Q})},function(){return!1})},I=function(){if(p.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch{}return!1},E=function(){return new Promise(function(S,R){I()&&p.URL?v().then(function(Q){S(!Q)},function(){R()}):S(!1)})},b,B=function(){return b===void 0&&(b=E()),b},T=function(S){return B().then(function(R){return w(S,R)})};return g.renderSvg=function(S){return new Promise(function(R,Q){var M,F,k=function(){F.onload=null,F.onerror=null},Y=function(){M&&y(M)};F=new Image,F.onload=function(){k(),Y(),R(F)},F.onerror=function(){Y(),Q()},T(S).then(function(U){M=U,F.src=M},Q)})},g}(window),u=function(p,g,w,y){"use strict";var C={},m=function(S,R){var Q=R||1,M={width:S.width,height:S.height,"font-size":S.rootFontSize};return Q!==1&&(M.style="transform:scale("+Q+"); transform-origin: 0 0;"),M},v=function(S){var R,Q,M,F;R=Math.round(S.viewportWidth),Q=Math.round(S.viewportHeight),M=-S.left,F=-S.top;var k={x:M,y:F,width:R,height:Q};return k},I=function(S){var R=S.style||"";S.style=R+"float: left;"},E=function(S){S.externalResourcesRequired=!0},b=function(){return'<style scoped="">html::-webkit-scrollbar { display: none; }</style>'},B=function(S){var R=Object.keys(S);return R.length?" "+R.map(function(Q){return Q+'="'+S[Q]+'"'}).join(" "):""},T=function(S,R,Q){var M=y.serializeToString(S);g.validateXHTML(M);var F=v(R);return I(F),E(F),'<svg xmlns="http://www.w3.org/2000/svg"'+B(m(R,Q))+">"+b()+"<foreignObject"+B(F)+">"+M+"</foreignObject></svg>"};return C.getSvgForDocument=function(S,R,Q){return w.rewriteTagNameSelectorsToLowerCase(S),T(S,R,Q)},C.drawDocumentAsSvg=function(S,R){return["hover","active","focus","target"].forEach(function(Q){R[Q]&&w.fakeUserAction(S,R[Q],Q)}),g.calculateDocumentContentSize(S,R).then(function(Q){return C.getSvgForDocument(S,Q,R.zoom)})},C}(r,c,a,e),h=function(p,g,w,y,C,m){"use strict";var v={},I=function(S){return{message:"Error rendering page",originalError:S}},E=function(S){return C.renderSvg(S).then(function(R){return{image:R,svg:S}},function(R){throw I(R)})},b=function(S,R){try{R.getContext("2d").drawImage(S,0,0)}catch(Q){throw I(Q)}},B=function(S,R,Q){return y.drawDocumentAsSvg(S,Q).then(E).then(function(M){return R&&b(M.image,R),M})},T=function(S,R){return g.executeJavascript(S,R).then(function(Q){var M=Q.document;return w.persistInputValues(M),{document:M,errors:Q.errors,cleanUp:Q.cleanUp}})};return v.rasterize=function(S,R,Q){var M;return M=p.clone(Q),M.inlineScripts=Q.executeJs===!0,m.inlineReferences(S,M).then(function(F){return Q.executeJs?T(S,Q).then(function(k){return{element:k.document.documentElement,errors:F.concat(k.errors),cleanUp:k.cleanUp}}):{element:S,errors:F,cleanUp:function(){}}}).then(function(F){return B(F.element,R,Q).then(function(k){return F.cleanUp(),{image:k.image,svg:k.svg,errors:F.errors}})})},v}(r,c,a,u,l,o),f=function(p,g,w){"use strict";var y={},C=function(b,B){var T=300,S=200,R=b?b.width:T,Q=b?b.height:S,M=B.width!==void 0?B.width:R,F=B.height!==void 0?B.height:Q;return{width:M,height:F}},m=function(b){var B=C(b.canvas,b.options),T;return T=p.clone(b.options),T.width=B.width,T.height=B.height,T};y.drawDocument=function(){var b=arguments[0],B=Array.prototype.slice.call(arguments,1),T=p.parseOptionalParameters(B),S=b.documentElement?b.documentElement:b;return w.rasterize(S,T.canvas,m(T))};var v=function(b,B,T){var S=g.parseHTML(b);return y.drawDocument(S,B,T)};y.drawHTML=function(){var b=arguments[0],B=Array.prototype.slice.call(arguments,1),T=p.parseOptionalParameters(B);return v(b,T.canvas,T.options)};var I=function(b,B,T){var S=document.implementation.createHTMLDocument("");S.replaceChild(b.documentElement,S.documentElement);var R=T?p.clone(T):{};return T.baseUrl||(R.baseUrl=B),{document:S,options:R}},E=function(b,B,T){return g.loadDocument(b,T).then(function(S){var R=I(S,b,T);return y.drawDocument(R.document,B,R.options)})};return y.drawURL=function(){var b=arguments[0],B=Array.prototype.slice.call(arguments,1),T=p.parseOptionalParameters(B);return E(b,T.canvas,T.options)},y}(r,c,h);return f})});var Ww=new j,qw=new _t,Kw=new j,ko=class extends Pt{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof Element&&n.element.parentNode!==null&&n.element.parentNode.removeChild(n.element)})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this}};var Jw=new Pe,Xw=new Pe;var js={};Ss(js,{computeMikkTSpaceTangents:()=>vg,computeMorphedAttributes:()=>Bg,deepCloneAttribute:()=>xg,deinterleaveAttribute:()=>Qo,deinterleaveGeometry:()=>Cg,estimateBytesUsed:()=>Eg,interleaveAttributes:()=>Ig,mergeAttributes:()=>Vs,mergeGeometries:()=>wg,mergeGroups:()=>Tg,mergeVertices:()=>bg,toCreasedNormals:()=>Sg,toTrianglesDrawMode:()=>Uo});function vg(i,e,n=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!i.hasAttribute("position")||!i.hasAttribute("normal")||!i.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function o(A){if(A.normalized||A.isInterleavedBufferAttribute){let a=new Float32Array(A.count*A.itemSize);for(let c=0,l=0;c<A.count;c++)a[l++]=A.getX(c),a[l++]=A.getY(c),A.itemSize>2&&(a[l++]=A.getZ(c));return a}return A.array instanceof Float32Array?A.array:new Float32Array(A.array)}let r=i.index?i.toNonIndexed():i,t=e.generateTangents(o(r.attributes.position),o(r.attributes.normal),o(r.attributes.uv));if(n)for(let A=3;A<t.length;A+=4)t[A]*=-1;return r.setAttribute("tangent",new je(t,4)),i!==r&&i.copy(r),i}function wg(i,e=!1){let n=i[0].index!==null,o=new Set(Object.keys(i[0].attributes)),r=new Set(Object.keys(i[0].morphAttributes)),t={},A={},a=i[0].morphTargetsRelative,c=new lt,l=0;for(let u=0;u<i.length;++u){let h=i[u],f=0;if(n!==(h.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let p in h.attributes){if(!o.has(p))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;t[p]===void 0&&(t[p]=[]),t[p].push(h.attributes[p]),f++}if(f!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(a!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let p in h.morphAttributes){if(!r.has(p))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;A[p]===void 0&&(A[p]=[]),A[p].push(h.morphAttributes[p])}if(e){let p;if(n)p=h.index.count;else if(h.attributes.position!==void 0)p=h.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;c.addGroup(l,p,u),l+=p}}if(n){let u=0,h=[];for(let f=0;f<i.length;++f){let p=i[f].index;for(let g=0;g<p.count;++g)h.push(p.getX(g)+u);u+=i[f].attributes.position.count}c.setIndex(h)}for(let u in t){let h=Vs(t[u]);if(!h)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" attribute."),null;c.setAttribute(u,h)}for(let u in A){let h=A[u][0].length;if(h===0)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[u]=[];for(let f=0;f<h;++f){let p=[];for(let w=0;w<A[u].length;++w)p.push(A[u][w][f]);let g=Vs(p);if(!g)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" morphAttribute."),null;c.morphAttributes[u].push(g)}}return c}function Vs(i){let e,n,o,r=-1,t=0;for(let l=0;l<i.length;++l){let u=i[l];if(e===void 0&&(e=u.array.constructor),e!==u.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=u.itemSize),n!==u.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(o===void 0&&(o=u.normalized),o!==u.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(r===-1&&(r=u.gpuType),r!==u.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;t+=u.count*n}let A=new e(t),a=new je(A,n,o),c=0;for(let l=0;l<i.length;++l){let u=i[l];if(u.isInterleavedBufferAttribute){let h=c/n;for(let f=0,p=u.count;f<p;f++)for(let g=0;g<n;g++){let w=u.getComponent(f,g);a.setComponent(f+h,g,w)}}else A.set(u.array,c);c+=u.count*n}return r!==void 0&&(a.gpuType=r),a}function xg(i){return i.isInstancedInterleavedBufferAttribute||i.isInterleavedBufferAttribute?Qo(i):i.isInstancedBufferAttribute?new zr().copy(i):new je().copy(i)}function Ig(i){let e,n=0,o=0;for(let l=0,u=i.length;l<u;++l){let h=i[l];if(e===void 0&&(e=h.array.constructor),e!==h.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=h.array.length,o+=h.itemSize}let r=new wn(new e(n),o),t=0,A=[],a=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let l=0,u=i.length;l<u;l++){let h=i[l],f=h.itemSize,p=h.count,g=new nr(r,f,t,h.normalized);A.push(g),t+=f;for(let w=0;w<p;w++)for(let y=0;y<f;y++)g[c[y]](w,h[a[y]](w))}return A}function Qo(i){let e=i.data.array.constructor,n=i.count,o=i.itemSize,r=i.normalized,t=new e(n*o),A;i.isInstancedInterleavedBufferAttribute?A=new zr(t,o,r,i.meshPerAttribute):A=new je(t,o,r);for(let a=0;a<n;a++)A.setX(a,i.getX(a)),o>=2&&A.setY(a,i.getY(a)),o>=3&&A.setZ(a,i.getZ(a)),o>=4&&A.setW(a,i.getW(a));return A}function Cg(i){let e=i.attributes,n=i.morphTargets,o=new Map;for(let r in e){let t=e[r];t.isInterleavedBufferAttribute&&(o.has(t)||o.set(t,Qo(t)),e[r]=o.get(t))}for(let r in n){let t=n[r];t.isInterleavedBufferAttribute&&(o.has(t)||o.set(t,Qo(t)),n[r]=o.get(t))}}function Eg(i){let e=0;for(let o in i.attributes){let r=i.getAttribute(o);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}let n=i.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}function bg(i,e=1e-4){e=Math.max(e,Number.EPSILON);let n={},o=i.getIndex(),r=i.getAttribute("position"),t=o?o.count:r.count,A=0,a=Object.keys(i.attributes),c={},l={},u=[],h=["getX","getY","getZ","getW"],f=["setX","setY","setZ","setW"];for(let m=0,v=a.length;m<v;m++){let I=a[m],E=i.attributes[I];c[I]=new E.constructor(new E.array.constructor(E.count*E.itemSize),E.itemSize,E.normalized);let b=i.morphAttributes[I];b&&(l[I]||(l[I]=[]),b.forEach((B,T)=>{let S=new B.array.constructor(B.count*B.itemSize);l[I][T]=new B.constructor(S,B.itemSize,B.normalized)}))}let p=e*.5,g=Math.log10(1/e),w=Math.pow(10,g),y=p*w;for(let m=0;m<t;m++){let v=o?o.getX(m):m,I="";for(let E=0,b=a.length;E<b;E++){let B=a[E],T=i.getAttribute(B),S=T.itemSize;for(let R=0;R<S;R++)I+=`${~~(T[h[R]](v)*w+y)},`}if(I in n)u.push(n[I]);else{for(let E=0,b=a.length;E<b;E++){let B=a[E],T=i.getAttribute(B),S=i.morphAttributes[B],R=T.itemSize,Q=c[B],M=l[B];for(let F=0;F<R;F++){let k=h[F],Y=f[F];if(Q[Y](A,T[k](v)),S)for(let U=0,K=S.length;U<K;U++)M[U][Y](A,S[U][k](v))}}n[I]=A,u.push(A),A++}}let C=i.clone();for(let m in i.attributes){let v=c[m];if(C.setAttribute(m,new v.constructor(v.array.slice(0,A*v.itemSize),v.itemSize,v.normalized)),m in l)for(let I=0;I<l[m].length;I++){let E=l[m][I];C.morphAttributes[m][I]=new E.constructor(E.array.slice(0,A*E.itemSize),E.itemSize,E.normalized)}}return C.setIndex(u),C}function Uo(i,e){if(e===nu)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===di||e===bo){let n=i.getIndex();if(n===null){let A=[],a=i.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)A.push(c);i.setIndex(A),n=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}let o=n.count-2,r=[];if(e===di)for(let A=1;A<=o;A++)r.push(n.getX(0)),r.push(n.getX(A)),r.push(n.getX(A+1));else for(let A=0;A<o;A++)A%2===0?(r.push(n.getX(A)),r.push(n.getX(A+1)),r.push(n.getX(A+2))):(r.push(n.getX(A+2)),r.push(n.getX(A+1)),r.push(n.getX(A)));r.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let t=i.clone();return t.setIndex(r),t.clearGroups(),t}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}function Bg(i){let e=new j,n=new j,o=new j,r=new j,t=new j,A=new j,a=new j,c=new j,l=new j;function u(O,G,_,N,H,z,q,ee){e.fromBufferAttribute(G,H),n.fromBufferAttribute(G,z),o.fromBufferAttribute(G,q);let te=O.morphTargetInfluences;if(_&&te){a.set(0,0,0),c.set(0,0,0),l.set(0,0,0);for(let re=0,se=_.length;re<se;re++){let le=te[re],Ae=_[re];le!==0&&(r.fromBufferAttribute(Ae,H),t.fromBufferAttribute(Ae,z),A.fromBufferAttribute(Ae,q),N?(a.addScaledVector(r,le),c.addScaledVector(t,le),l.addScaledVector(A,le)):(a.addScaledVector(r.sub(e),le),c.addScaledVector(t.sub(n),le),l.addScaledVector(A.sub(o),le)))}e.add(a),n.add(c),o.add(l)}O.isSkinnedMesh&&(O.applyBoneTransform(H,e),O.applyBoneTransform(z,n),O.applyBoneTransform(q,o)),ee[H*3+0]=e.x,ee[H*3+1]=e.y,ee[H*3+2]=e.z,ee[z*3+0]=n.x,ee[z*3+1]=n.y,ee[z*3+2]=n.z,ee[q*3+0]=o.x,ee[q*3+1]=o.y,ee[q*3+2]=o.z}let h=i.geometry,f=i.material,p,g,w,y=h.index,C=h.attributes.position,m=h.morphAttributes.position,v=h.morphTargetsRelative,I=h.attributes.normal,E=h.morphAttributes.position,b=h.groups,B=h.drawRange,T,S,R,Q,M,F,k,Y=new Float32Array(C.count*C.itemSize),U=new Float32Array(I.count*I.itemSize);if(y!==null)if(Array.isArray(f))for(T=0,R=b.length;T<R;T++)for(M=b[T],F=Math.max(M.start,B.start),k=Math.min(M.start+M.count,B.start+B.count),S=F,Q=k;S<Q;S+=3)p=y.getX(S),g=y.getX(S+1),w=y.getX(S+2),u(i,C,m,v,p,g,w,Y),u(i,I,E,v,p,g,w,U);else for(F=Math.max(0,B.start),k=Math.min(y.count,B.start+B.count),T=F,R=k;T<R;T+=3)p=y.getX(T),g=y.getX(T+1),w=y.getX(T+2),u(i,C,m,v,p,g,w,Y),u(i,I,E,v,p,g,w,U);else if(Array.isArray(f))for(T=0,R=b.length;T<R;T++)for(M=b[T],F=Math.max(M.start,B.start),k=Math.min(M.start+M.count,B.start+B.count),S=F,Q=k;S<Q;S+=3)p=S,g=S+1,w=S+2,u(i,C,m,v,p,g,w,Y),u(i,I,E,v,p,g,w,U);else for(F=Math.max(0,B.start),k=Math.min(C.count,B.start+B.count),T=F,R=k;T<R;T+=3)p=T,g=T+1,w=T+2,u(i,C,m,v,p,g,w,Y),u(i,I,E,v,p,g,w,U);let K=new Gr(Y,3),W=new Gr(U,3);return{positionAttribute:C,normalAttribute:I,morphedPositionAttribute:K,morphedNormalAttribute:W}}function Tg(i){if(i.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),i;let e=i.groups;if(e=e.sort((A,a)=>A.materialIndex!==a.materialIndex?A.materialIndex-a.materialIndex:A.start-a.start),i.getIndex()===null){let A=i.getAttribute("position"),a=[];for(let c=0;c<A.count;c+=3)a.push(c,c+1,c+2);i.setIndex(a)}let n=i.getIndex(),o=[];for(let A=0;A<e.length;A++){let a=e[A],c=a.start,l=c+a.count;for(let u=c;u<l;u++)o.push(n.getX(u))}i.dispose(),i.setIndex(o);let r=0;for(let A=0;A<e.length;A++){let a=e[A];a.start=r,r+=a.count}let t=e[0];i.groups=[t];for(let A=1;A<e.length;A++){let a=e[A];t.materialIndex===a.materialIndex?t.count+=a.count:(t=a,i.groups.push(t))}return i}function Sg(i,e=Math.PI/3){let n=Math.cos(e),o=(1+1e-10)*100,r=[new j,new j,new j],t=new j,A=new j,a=new j,c=new j;function l(w){let y=~~(w.x*o),C=~~(w.y*o),m=~~(w.z*o);return`${y},${C},${m}`}let u=i.index?i.toNonIndexed():i,h=u.attributes.position,f={};for(let w=0,y=h.count/3;w<y;w++){let C=3*w,m=r[0].fromBufferAttribute(h,C+0),v=r[1].fromBufferAttribute(h,C+1),I=r[2].fromBufferAttribute(h,C+2);t.subVectors(I,v),A.subVectors(m,v);let E=new j().crossVectors(t,A).normalize();for(let b=0;b<3;b++){let B=r[b],T=l(B);T in f||(f[T]=[]),f[T].push(E)}}let p=new Float32Array(h.count*3),g=new je(p,3,!1);for(let w=0,y=h.count/3;w<y;w++){let C=3*w,m=r[0].fromBufferAttribute(h,C+0),v=r[1].fromBufferAttribute(h,C+1),I=r[2].fromBufferAttribute(h,C+2);t.subVectors(I,v),A.subVectors(m,v),a.crossVectors(t,A).normalize();for(let E=0;E<3;E++){let b=r[E],B=l(b),T=f[B];c.set(0,0,0);for(let S=0,R=T.length;S<R;S++){let Q=T[S];a.dot(Q)>n&&c.add(Q)}c.normalize(),g.setXYZ(C+E,c.x,c.y,c.z)}}return u.setAttribute("normal",g),u}var ex=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),tx=new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);var In=Uint8Array,Eu=Uint16Array,Dg=Int32Array,Mg=new In([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Rg=new In([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nx=new In([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bu=function(i,e){for(var n=new Eu(31),o=0;o<31;++o)n[o]=e+=1<<i[o-1];for(var r=new Dg(n[30]),o=1;o<30;++o)for(var t=n[o];t<n[o+1];++t)r[t]=t-n[o]<<5|o;return{b:n,r}},Bu=bu(Mg,2),_g=Bu.b,Fg=Bu.r;_g[28]=258,Fg[258]=28;var Tu=bu(Rg,0),ix=Tu.b,ox=Tu.r,Pg=new Eu(32768);for(Ne=0;Ne<32768;++Ne)pr=(Ne&43690)>>1|(Ne&21845)<<1,pr=(pr&52428)>>2|(pr&13107)<<2,pr=(pr&61680)>>4|(pr&3855)<<4,Pg[Ne]=((pr&65280)>>8|(pr&255)<<8)>>1;var pr,Ne;var Lo=new In(288);for(Ne=0;Ne<144;++Ne)Lo[Ne]=8;var Ne;for(Ne=144;Ne<256;++Ne)Lo[Ne]=9;var Ne;for(Ne=256;Ne<280;++Ne)Lo[Ne]=7;var Ne;for(Ne=280;Ne<288;++Ne)Lo[Ne]=8;var Ne,kg=new In(32);for(Ne=0;Ne<32;++Ne)kg[Ne]=5;var Ne;var Qg=new In(0);var Ug=typeof TextDecoder<"u"&&new TextDecoder,Lg=0;try{Ug.decode(Qg,{stream:!0}),Lg=1}catch{}var mx=new Au,yx=new j;var Oo=class extends vi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Zs(n)}),this.register(function(n){return new $s(n)}),this.register(function(n){return new aa(n)}),this.register(function(n){return new ca(n)}),this.register(function(n){return new la(n)}),this.register(function(n){return new ta(n)}),this.register(function(n){return new ra(n)}),this.register(function(n){return new na(n)}),this.register(function(n){return new ia(n)}),this.register(function(n){return new Xs(n)}),this.register(function(n){return new oa(n)}),this.register(function(n){return new ea(n)}),this.register(function(n){return new sa(n)}),this.register(function(n){return new Aa(n)}),this.register(function(n){return new Ks(n)}),this.register(function(n){return new ua(n)}),this.register(function(n){return new fa(n)})}load(e,n,o,r){let t=this,A;if(this.resourcePath!=="")A=this.resourcePath;else if(this.path!==""){let l=Vr.extractUrlBase(e);A=Vr.resolveURL(l,this.path)}else A=Vr.extractUrlBase(e);this.manager.itemStart(e);let a=function(l){r?r(l):console.error(l),t.manager.itemError(e),t.manager.itemEnd(e)},c=new Hr(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(l){try{t.parse(l,A,function(u){n(u),t.manager.itemEnd(e)},a)}catch(u){a(u)}},o,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,o,r){let t,A={},a={},c=new TextDecoder;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===_u){try{A[Qe.KHR_BINARY_GLTF]=new ha(e)}catch(h){r&&r(h);return}t=JSON.parse(A[Qe.KHR_BINARY_GLTF].content)}else t=JSON.parse(c.decode(e));else t=e;if(t.asset===void 0||t.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let l=new wa(t,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){let h=this.pluginCallbacks[u](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,A[h.name]=!0}if(t.extensionsUsed)for(let u=0;u<t.extensionsUsed.length;++u){let h=t.extensionsUsed[u],f=t.extensionsRequired||[];switch(h){case Qe.KHR_MATERIALS_UNLIT:A[h]=new Js;break;case Qe.KHR_DRACO_MESH_COMPRESSION:A[h]=new pa(t,this.dracoLoader);break;case Qe.KHR_TEXTURE_TRANSFORM:A[h]=new da;break;case Qe.KHR_MESH_QUANTIZATION:A[h]=new ga;break;default:f.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(A),l.setPlugins(a),l.parse(o,r)}parseAsync(e,n){let o=this;return new Promise(function(r,t){o.parse(e,n,r,t)})}};function zg(){let i={};return{get:function(e){return i[e]},add:function(e,n){i[e]=n},remove:function(e){delete i[e]},removeAll:function(){i={}}}}var Qe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},Ks=class{constructor(e){this.parser=e,this.name=Qe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,n=this.parser.json.nodes||[];for(let o=0,r=n.length;o<r;o++){let t=n[o];t.extensions&&t.extensions[this.name]&&t.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,t.extensions[this.name].light)}}_loadLight(e){let n=this.parser,o="light:"+e,r=n.cache.get(o);if(r)return r;let t=n.json,c=((t.extensions&&t.extensions[this.name]||{}).lights||[])[e],l,u=new qe(16777215);c.color!==void 0&&u.setRGB(c.color[0],c.color[1],c.color[2],Rt);let h=c.range!==void 0?c.range:0;switch(c.type){case"directional":l=new zs(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new xi(u),l.distance=h;break;case"spot":l=new Gs(u),l.distance=h,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,dr(l,c),c.intensity!==void 0&&(l.intensity=c.intensity),l.name=n.createUniqueName(c.name||"light_"+e),r=Promise.resolve(l),n.cache.add(o,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){let n=this,o=this.parser,t=o.json.nodes[e],a=(t.extensions&&t.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return o._getNodeRef(n.cache,a,c)})}},Js=class{constructor(){this.name=Qe.KHR_MATERIALS_UNLIT}getMaterialType(){return pt}extendParams(e,n,o){let r=[];e.color=new qe(1,1,1),e.opacity=1;let t=n.pbrMetallicRoughness;if(t){if(Array.isArray(t.baseColorFactor)){let A=t.baseColorFactor;e.color.setRGB(A[0],A[1],A[2],Rt),e.opacity=A[3]}t.baseColorTexture!==void 0&&r.push(o.assignTexture(e,"map",t.baseColorTexture,jt))}return Promise.all(r)}},Xs=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=r.extensions[this.name].emissiveStrength;return t!==void 0&&(n.emissiveIntensity=t),Promise.resolve()}},Zs=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];if(A.clearcoatFactor!==void 0&&(n.clearcoat=A.clearcoatFactor),A.clearcoatTexture!==void 0&&t.push(o.assignTexture(n,"clearcoatMap",A.clearcoatTexture)),A.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=A.clearcoatRoughnessFactor),A.clearcoatRoughnessTexture!==void 0&&t.push(o.assignTexture(n,"clearcoatRoughnessMap",A.clearcoatRoughnessTexture)),A.clearcoatNormalTexture!==void 0&&(t.push(o.assignTexture(n,"clearcoatNormalMap",A.clearcoatNormalTexture)),A.clearcoatNormalTexture.scale!==void 0)){let a=A.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new tt(a,a)}return Promise.all(t)}},$s=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_DISPERSION}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=r.extensions[this.name];return n.dispersion=t.dispersion!==void 0?t.dispersion:0,Promise.resolve()}},ea=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];return A.iridescenceFactor!==void 0&&(n.iridescence=A.iridescenceFactor),A.iridescenceTexture!==void 0&&t.push(o.assignTexture(n,"iridescenceMap",A.iridescenceTexture)),A.iridescenceIor!==void 0&&(n.iridescenceIOR=A.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),A.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=A.iridescenceThicknessMinimum),A.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=A.iridescenceThicknessMaximum),A.iridescenceThicknessTexture!==void 0&&t.push(o.assignTexture(n,"iridescenceThicknessMap",A.iridescenceThicknessTexture)),Promise.all(t)}},ta=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SHEEN}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[];n.sheenColor=new qe(0,0,0),n.sheenRoughness=0,n.sheen=1;let A=r.extensions[this.name];if(A.sheenColorFactor!==void 0){let a=A.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Rt)}return A.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=A.sheenRoughnessFactor),A.sheenColorTexture!==void 0&&t.push(o.assignTexture(n,"sheenColorMap",A.sheenColorTexture,jt)),A.sheenRoughnessTexture!==void 0&&t.push(o.assignTexture(n,"sheenRoughnessMap",A.sheenRoughnessTexture)),Promise.all(t)}},ra=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];return A.transmissionFactor!==void 0&&(n.transmission=A.transmissionFactor),A.transmissionTexture!==void 0&&t.push(o.assignTexture(n,"transmissionMap",A.transmissionTexture)),Promise.all(t)}},na=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_VOLUME}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];n.thickness=A.thicknessFactor!==void 0?A.thicknessFactor:0,A.thicknessTexture!==void 0&&t.push(o.assignTexture(n,"thicknessMap",A.thicknessTexture)),n.attenuationDistance=A.attenuationDistance||1/0;let a=A.attenuationColor||[1,1,1];return n.attenuationColor=new qe().setRGB(a[0],a[1],a[2],Rt),Promise.all(t)}},ia=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IOR}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=r.extensions[this.name];return n.ior=t.ior!==void 0?t.ior:1.5,Promise.resolve()}},oa=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SPECULAR}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];n.specularIntensity=A.specularFactor!==void 0?A.specularFactor:1,A.specularTexture!==void 0&&t.push(o.assignTexture(n,"specularIntensityMap",A.specularTexture));let a=A.specularColorFactor||[1,1,1];return n.specularColor=new qe().setRGB(a[0],a[1],a[2],Rt),A.specularColorTexture!==void 0&&t.push(o.assignTexture(n,"specularColorMap",A.specularColorTexture,jt)),Promise.all(t)}},Aa=class{constructor(e){this.parser=e,this.name=Qe.EXT_MATERIALS_BUMP}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];return n.bumpScale=A.bumpFactor!==void 0?A.bumpFactor:1,A.bumpTexture!==void 0&&t.push(o.assignTexture(n,"bumpMap",A.bumpTexture)),Promise.all(t)}},sa=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,r=o.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();let t=[],A=r.extensions[this.name];return A.anisotropyStrength!==void 0&&(n.anisotropy=A.anisotropyStrength),A.anisotropyRotation!==void 0&&(n.anisotropyRotation=A.anisotropyRotation),A.anisotropyTexture!==void 0&&t.push(o.assignTexture(n,"anisotropyMap",A.anisotropyTexture)),Promise.all(t)}},aa=class{constructor(e){this.parser=e,this.name=Qe.KHR_TEXTURE_BASISU}loadTexture(e){let n=this.parser,o=n.json,r=o.textures[e];if(!r.extensions||!r.extensions[this.name])return null;let t=r.extensions[this.name],A=n.options.ktx2Loader;if(!A){if(o.extensionsRequired&&o.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,t.source,A)}},ca=class{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){let n=this.name,o=this.parser,r=o.json,t=r.textures[e];if(!t.extensions||!t.extensions[n])return null;let A=t.extensions[n],a=r.images[A.source],c=o.textureLoader;if(a.uri){let l=o.options.manager.getHandler(a.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return o.loadTextureImage(e,A.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return o.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}},la=class{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){let n=this.name,o=this.parser,r=o.json,t=r.textures[e];if(!t.extensions||!t.extensions[n])return null;let A=t.extensions[n],a=r.images[A.source],c=o.textureLoader;if(a.uri){let l=o.options.manager.getHandler(a.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return o.loadTextureImage(e,A.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return o.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}},ua=class{constructor(e){this.name=Qe.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let n=this.parser.json,o=n.bufferViews[e];if(o.extensions&&o.extensions[this.name]){let r=o.extensions[this.name],t=this.parser.getDependency("buffer",r.buffer),A=this.parser.options.meshoptDecoder;if(!A||!A.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return t.then(function(a){let c=r.byteOffset||0,l=r.byteLength||0,u=r.count,h=r.byteStride,f=new Uint8Array(a,c,l);return A.decodeGltfBufferAsync?A.decodeGltfBufferAsync(u,h,f,r.mode,r.filter).then(function(p){return p.buffer}):A.ready.then(function(){let p=new ArrayBuffer(u*h);return A.decodeGltfBuffer(new Uint8Array(p),u,h,f,r.mode,r.filter),p})})}else return null}},fa=class{constructor(e){this.name=Qe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let n=this.parser.json,o=n.nodes[e];if(!o.extensions||!o.extensions[this.name]||o.mesh===void 0)return null;let r=n.meshes[o.mesh];for(let l of r.primitives)if(l.mode!==Ut.TRIANGLES&&l.mode!==Ut.TRIANGLE_STRIP&&l.mode!==Ut.TRIANGLE_FAN&&l.mode!==void 0)return null;let A=o.extensions[this.name].attributes,a=[],c={};for(let l in A)a.push(this.parser.getDependency("accessor",A[l]).then(u=>(c[l]=u,c[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{let u=l.pop(),h=u.isGroup?u.children:[u],f=l[0].count,p=[];for(let g of h){let w=new Pe,y=new j,C=new _t,m=new j(1,1,1),v=new To(g.geometry,g.material,f);for(let I=0;I<f;I++)c.TRANSLATION&&y.fromBufferAttribute(c.TRANSLATION,I),c.ROTATION&&C.fromBufferAttribute(c.ROTATION,I),c.SCALE&&m.fromBufferAttribute(c.SCALE,I),v.setMatrixAt(I,w.compose(y,C,m));for(let I in c)if(I==="_COLOR_0"){let E=c[I];v.instanceColor=new zr(E.array,E.itemSize,E.normalized)}else I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&g.geometry.setAttribute(I,c[I]);Pt.prototype.copy.call(v,g),this.parser.assignFinalMaterial(v),p.push(v)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}},_u="glTF",Ci=12,Su={JSON:1313821514,BIN:5130562},ha=class{constructor(e){this.name=Qe.KHR_BINARY_GLTF,this.content=null,this.body=null;let n=new DataView(e,0,Ci),o=new TextDecoder;if(this.header={magic:o.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==_u)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");let r=this.header.length-Ci,t=new DataView(e,Ci),A=0;for(;A<r;){let a=t.getUint32(A,!0);A+=4;let c=t.getUint32(A,!0);if(A+=4,c===Su.JSON){let l=new Uint8Array(e,Ci+A,a);this.content=o.decode(l)}else if(c===Su.BIN){let l=Ci+A;this.body=e.slice(l,l+a)}A+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}},pa=class{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){let o=this.json,r=this.dracoLoader,t=e.extensions[this.name].bufferView,A=e.extensions[this.name].attributes,a={},c={},l={};for(let u in A){let h=ya[u]||u.toLowerCase();a[h]=A[u]}for(let u in e.attributes){let h=ya[u]||u.toLowerCase();if(A[u]!==void 0){let f=o.accessors[e.attributes[u]],p=Cn[f.componentType];l[h]=p.name,c[h]=f.normalized===!0}}return n.getDependency("bufferView",t).then(function(u){return new Promise(function(h,f){r.decodeDracoFile(u,function(p){for(let g in p.attributes){let w=p.attributes[g],y=c[g];y!==void 0&&(w.normalized=y)}h(p)},a,l,Rt,f)})})}},da=class{constructor(){this.name=Qe.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}},ga=class{constructor(){this.name=Qe.KHR_MESH_QUANTIZATION}},No=class extends xu{constructor(e,n,o,r){super(e,n,o,r)}copySampleValue_(e){let n=this.resultBuffer,o=this.sampleValues,r=this.valueSize,t=e*r*3+r;for(let A=0;A!==r;A++)n[A]=o[t+A];return n}interpolate_(e,n,o,r){let t=this.resultBuffer,A=this.sampleValues,a=this.valueSize,c=a*2,l=a*3,u=r-n,h=(o-n)/u,f=h*h,p=f*h,g=e*l,w=g-l,y=-2*p+3*f,C=p-f,m=1-y,v=C-f+h;for(let I=0;I!==a;I++){let E=A[w+I+a],b=A[w+I+c]*u,B=A[g+I+a],T=A[g+I]*u;t[I]=m*E+v*b+y*B+C*T}return t}},Hg=new _t,ma=class extends No{interpolate_(e,n,o,r){let t=super.interpolate_(e,n,o,r);return Hg.fromArray(t).normalize().toArray(t),t}},Ut={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Cn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Du={9728:Jl,9729:dn,9984:Xl,9985:$l,9986:Zl,9987:Rs},Mu={33071:Ms,33648:Kl,10497:pi},Ys={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ya={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Tr={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Vg={CUBICSPLINE:void 0,LINEAR:_s,STEP:ru},Ws={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function jg(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new Mt({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:hi})),i.DefaultMaterial}function jr(i,e,n){for(let o in n.extensions)i[o]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[o]=n.extensions[o])}function dr(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Yg(i,e,n){let o=!1,r=!1,t=!1;for(let l=0,u=e.length;l<u;l++){let h=e[l];if(h.POSITION!==void 0&&(o=!0),h.NORMAL!==void 0&&(r=!0),h.COLOR_0!==void 0&&(t=!0),o&&r&&t)break}if(!o&&!r&&!t)return Promise.resolve(i);let A=[],a=[],c=[];for(let l=0,u=e.length;l<u;l++){let h=e[l];if(o){let f=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):i.attributes.position;A.push(f)}if(r){let f=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):i.attributes.normal;a.push(f)}if(t){let f=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):i.attributes.color;c.push(f)}}return Promise.all([Promise.all(A),Promise.all(a),Promise.all(c)]).then(function(l){let u=l[0],h=l[1],f=l[2];return o&&(i.morphAttributes.position=u),r&&(i.morphAttributes.normal=h),t&&(i.morphAttributes.color=f),i.morphTargetsRelative=!0,i})}function Wg(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let n=0,o=e.weights.length;n<o;n++)i.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){let n=e.extras.targetNames;if(i.morphTargetInfluences.length===n.length){i.morphTargetDictionary={};for(let o=0,r=n.length;o<r;o++)i.morphTargetDictionary[n[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function qg(i){let e,n=i.extensions&&i.extensions[Qe.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+qs(n.attributes):e=i.indices+":"+qs(i.attributes)+":"+i.mode,i.targets!==void 0)for(let o=0,r=i.targets.length;o<r;o++)e+=":"+qs(i.targets[o]);return e}function qs(i){let e="",n=Object.keys(i).sort();for(let o=0,r=n.length;o<r;o++)e+=n[o]+":"+i[n[o]]+";";return e}function va(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Kg(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}var Jg=new Pe,wa=class{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new zg,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let o=!1,r=-1,t=!1,A=-1;if(typeof navigator<"u"){let a=navigator.userAgent;o=/^((?!chrome|android).)*safari/i.test(a)===!0;let c=a.match(/Version\/(\d+)/);r=o&&c?parseInt(c[1],10):-1,t=a.indexOf("Firefox")>-1,A=t?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||o&&r<17||t&&A<98?this.textureLoader=new wi(this.options.manager):this.textureLoader=new Iu(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Hr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){let o=this,r=this.json,t=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(A){return A._markDefs&&A._markDefs()}),Promise.all(this._invokeAll(function(A){return A.beforeRoot&&A.beforeRoot()})).then(function(){return Promise.all([o.getDependencies("scene"),o.getDependencies("animation"),o.getDependencies("camera")])}).then(function(A){let a={scene:A[0][r.scene||0],scenes:A[0],animations:A[1],cameras:A[2],asset:r.asset,parser:o,userData:{}};return jr(t,a,r),dr(a,r),Promise.all(o._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(let c of a.scenes)c.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){let e=this.json.nodes||[],n=this.json.skins||[],o=this.json.meshes||[];for(let r=0,t=n.length;r<t;r++){let A=n[r].joints;for(let a=0,c=A.length;a<c;a++)e[A[a]].isBone=!0}for(let r=0,t=e.length;r<t;r++){let A=e[r];A.mesh!==void 0&&(this._addNodeRef(this.meshCache,A.mesh),A.skin!==void 0&&(o[A.mesh].isSkinnedMesh=!0)),A.camera!==void 0&&this._addNodeRef(this.cameraCache,A.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,o){if(e.refs[n]<=1)return o;let r=o.clone(),t=(A,a)=>{let c=this.associations.get(A);c!=null&&this.associations.set(a,c);for(let[l,u]of A.children.entries())t(u,a.children[l])};return t(o,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){let n=Object.values(this.plugins);n.push(this);for(let o=0;o<n.length;o++){let r=e(n[o]);if(r)return r}return null}_invokeAll(e){let n=Object.values(this.plugins);n.unshift(this);let o=[];for(let r=0;r<n.length;r++){let t=e(n[r]);t&&o.push(t)}return o}getDependency(e,n){let o=e+":"+n,r=this.cache.get(o);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(t){return t.loadNode&&t.loadNode(n)});break;case"mesh":r=this._invokeOne(function(t){return t.loadMesh&&t.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(t){return t.loadBufferView&&t.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(t){return t.loadMaterial&&t.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(t){return t.loadTexture&&t.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(t){return t.loadAnimation&&t.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(t){return t!=this&&t.getDependency&&t.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(o,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){let o=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(t,A){return o.getDependency(e,A)})),this.cache.add(e,n)}return n}loadBuffer(e){let n=this.json.buffers[e],o=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qe.KHR_BINARY_GLTF].body);let r=this.options;return new Promise(function(t,A){o.load(Vr.resolveURL(n.uri,r.path),t,void 0,function(){A(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){let n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(o){let r=n.byteLength||0,t=n.byteOffset||0;return o.slice(t,t+r)})}loadAccessor(e){let n=this,o=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){let A=Ys[r.type],a=Cn[r.componentType],c=r.normalized===!0,l=new a(r.count*A);return Promise.resolve(new je(l,A,c))}let t=[];return r.bufferView!==void 0?t.push(this.getDependency("bufferView",r.bufferView)):t.push(null),r.sparse!==void 0&&(t.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),t.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(t).then(function(A){let a=A[0],c=Ys[r.type],l=Cn[r.componentType],u=l.BYTES_PER_ELEMENT,h=u*c,f=r.byteOffset||0,p=r.bufferView!==void 0?o.bufferViews[r.bufferView].byteStride:void 0,g=r.normalized===!0,w,y;if(p&&p!==h){let C=Math.floor(f/p),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+C+":"+r.count,v=n.cache.get(m);v||(w=new l(a,C*p,r.count*p/u),v=new wn(w,p/u),n.cache.add(m,v)),y=new nr(v,c,f%p/u,g)}else a===null?w=new l(r.count*c):w=new l(a,f,r.count*c),y=new je(w,c,g);if(r.sparse!==void 0){let C=Ys.SCALAR,m=Cn[r.sparse.indices.componentType],v=r.sparse.indices.byteOffset||0,I=r.sparse.values.byteOffset||0,E=new m(A[1],v,r.sparse.count*C),b=new l(A[2],I,r.sparse.count*c);a!==null&&(y=new je(y.array.slice(),y.itemSize,y.normalized)),y.normalized=!1;for(let B=0,T=E.length;B<T;B++){let S=E[B];if(y.setX(S,b[B*c]),c>=2&&y.setY(S,b[B*c+1]),c>=3&&y.setZ(S,b[B*c+2]),c>=4&&y.setW(S,b[B*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}y.normalized=g}return y})}loadTexture(e){let n=this.json,o=this.options,t=n.textures[e].source,A=n.images[t],a=this.textureLoader;if(A.uri){let c=o.manager.getHandler(A.uri);c!==null&&(a=c)}return this.loadTextureImage(e,t,a)}loadTextureImage(e,n,o){let r=this,t=this.json,A=t.textures[e],a=t.images[n],c=(a.uri||a.bufferView)+":"+A.sampler;if(this.textureCache[c])return this.textureCache[c];let l=this.loadImageSource(n,o).then(function(u){u.flipY=!1,u.name=A.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);let f=(t.samplers||{})[A.sampler]||{};return u.magFilter=Du[f.magFilter]||dn,u.minFilter=Du[f.minFilter]||Rs,u.wrapS=Mu[f.wrapS]||pi,u.wrapT=Mu[f.wrapT]||pi,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(e,n){let o=this,r=this.json,t=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());let A=r.images[e],a=self.URL||self.webkitURL,c=A.uri||"",l=!1;if(A.bufferView!==void 0)c=o.getDependency("bufferView",A.bufferView).then(function(h){l=!0;let f=new Blob([h],{type:A.mimeType});return c=a.createObjectURL(f),c});else if(A.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let u=Promise.resolve(c).then(function(h){return new Promise(function(f,p){let g=f;n.isImageBitmapLoader===!0&&(g=function(w){let y=new yn(w);y.needsUpdate=!0,f(y)}),n.load(Vr.resolveURL(h,t.path),g,void 0,p)})}).then(function(h){return l===!0&&a.revokeObjectURL(c),dr(h,A),h.userData.mimeType=A.mimeType||Kg(A.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),h});return this.sourceCache[e]=u,u}assignTexture(e,n,o,r){let t=this;return this.getDependency("texture",o.index).then(function(A){if(!A)return null;if(o.texCoord!==void 0&&o.texCoord>0&&(A=A.clone(),A.channel=o.texCoord),t.extensions[Qe.KHR_TEXTURE_TRANSFORM]){let a=o.extensions!==void 0?o.extensions[Qe.KHR_TEXTURE_TRANSFORM]:void 0;if(a){let c=t.associations.get(A);A=t.extensions[Qe.KHR_TEXTURE_TRANSFORM].extendTexture(A,a),t.associations.set(A,c)}}return r!==void 0&&(A.colorSpace=r),e[n]=A,A})}assignFinalMaterial(e){let n=e.geometry,o=e.material,r=n.attributes.tangent===void 0,t=n.attributes.color!==void 0,A=n.attributes.normal===void 0;if(e.isPoints){let a="PointsMaterial:"+o.uuid,c=this.cache.get(a);c||(c=new So,Bo.prototype.copy.call(c,o),c.color.copy(o.color),c.map=o.map,c.sizeAttenuation=!1,this.cache.add(a,c)),o=c}else if(e.isLine){let a="LineBasicMaterial:"+o.uuid,c=this.cache.get(a);c||(c=new mi,Bo.prototype.copy.call(c,o),c.color.copy(o.color),c.map=o.map,this.cache.add(a,c)),o=c}if(r||t||A){let a="ClonedMaterial:"+o.uuid+":";r&&(a+="derivative-tangents:"),t&&(a+="vertex-colors:"),A&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=o.clone(),t&&(c.vertexColors=!0),A&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(o))),o=c}e.material=o}getMaterialType(){return Mt}loadMaterial(e){let n=this,o=this.json,r=this.extensions,t=o.materials[e],A,a={},c=t.extensions||{},l=[];if(c[Qe.KHR_MATERIALS_UNLIT]){let h=r[Qe.KHR_MATERIALS_UNLIT];A=h.getMaterialType(),l.push(h.extendParams(a,t,n))}else{let h=t.pbrMetallicRoughness||{};if(a.color=new qe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){let f=h.baseColorFactor;a.color.setRGB(f[0],f[1],f[2],Rt),a.opacity=f[3]}h.baseColorTexture!==void 0&&l.push(n.assignTexture(a,"map",h.baseColorTexture,jt)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(l.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),l.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),A=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}t.doubleSided===!0&&(a.side=At);let u=t.alphaMode||Ws.OPAQUE;if(u===Ws.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Ws.MASK&&(a.alphaTest=t.alphaCutoff!==void 0?t.alphaCutoff:.5)),t.normalTexture!==void 0&&A!==pt&&(l.push(n.assignTexture(a,"normalMap",t.normalTexture)),a.normalScale=new tt(1,1),t.normalTexture.scale!==void 0)){let h=t.normalTexture.scale;a.normalScale.set(h,h)}if(t.occlusionTexture!==void 0&&A!==pt&&(l.push(n.assignTexture(a,"aoMap",t.occlusionTexture)),t.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=t.occlusionTexture.strength)),t.emissiveFactor!==void 0&&A!==pt){let h=t.emissiveFactor;a.emissive=new qe().setRGB(h[0],h[1],h[2],Rt)}return t.emissiveTexture!==void 0&&A!==pt&&l.push(n.assignTexture(a,"emissiveMap",t.emissiveTexture,jt)),Promise.all(l).then(function(){let h=new A(a);return t.name&&(h.name=t.name),dr(h,t),n.associations.set(h,{materials:e}),t.extensions&&jr(r,h,t),h})}createUniqueName(e){let n=Hs.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){let n=this,o=this.extensions,r=this.primitiveCache;function t(a){return o[Qe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(c){return Ru(c,a,n)})}let A=[];for(let a=0,c=e.length;a<c;a++){let l=e[a],u=qg(l),h=r[u];if(h)A.push(h.promise);else{let f;l.extensions&&l.extensions[Qe.KHR_DRACO_MESH_COMPRESSION]?f=t(l):f=Ru(new lt,l,n),r[u]={primitive:l,promise:f},A.push(f)}}return Promise.all(A)}loadMesh(e){let n=this,o=this.json,r=this.extensions,t=o.meshes[e],A=t.primitives,a=[];for(let c=0,l=A.length;c<l;c++){let u=A[c].material===void 0?jg(this.cache):this.getDependency("material",A[c].material);a.push(u)}return a.push(n.loadGeometries(A)),Promise.all(a).then(function(c){let l=c.slice(0,c.length-1),u=c[c.length-1],h=[];for(let p=0,g=u.length;p<g;p++){let w=u[p],y=A[p],C,m=l[p];if(y.mode===Ut.TRIANGLES||y.mode===Ut.TRIANGLE_STRIP||y.mode===Ut.TRIANGLE_FAN||y.mode===void 0)C=t.isSkinnedMesh===!0?new Ps(w,m):new _e(w,m),C.isSkinnedMesh===!0&&C.normalizeSkinWeights(),y.mode===Ut.TRIANGLE_STRIP?C.geometry=Uo(C.geometry,bo):y.mode===Ut.TRIANGLE_FAN&&(C.geometry=Uo(C.geometry,di));else if(y.mode===Ut.LINES)C=new xn(w,m);else if(y.mode===Ut.LINE_STRIP)C=new Us(w,m);else if(y.mode===Ut.LINE_LOOP)C=new du(w,m);else if(y.mode===Ut.POINTS)C=new Do(w,m);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(C.geometry.morphAttributes).length>0&&Wg(C,t),C.name=n.createUniqueName(t.name||"mesh_"+e),dr(C,t),y.extensions&&jr(r,C,y),n.assignFinalMaterial(C),h.push(C)}for(let p=0,g=h.length;p<g;p++)n.associations.set(h[p],{meshes:e,primitives:p});if(h.length===1)return t.extensions&&jr(r,h[0],t),h[0];let f=new Qt;t.extensions&&jr(r,f,t),n.associations.set(f,{meshes:e});for(let p=0,g=h.length;p<g;p++)f.add(h[p]);return f})}loadCamera(e){let n,o=this.json.cameras[e],r=o[o.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return o.type==="perspective"?n=new Fs(gn.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):o.type==="orthographic"&&(n=new cu(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),o.name&&(n.name=this.createUniqueName(o.name)),dr(n,o),Promise.resolve(n)}loadSkin(e){let n=this.json.skins[e],o=[];for(let r=0,t=n.joints.length;r<t;r++)o.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?o.push(this.getDependency("accessor",n.inverseBindMatrices)):o.push(null),Promise.all(o).then(function(r){let t=r.pop(),A=r,a=[],c=[];for(let l=0,u=A.length;l<u;l++){let h=A[l];if(h){a.push(h);let f=new Pe;t!==null&&f.fromArray(t.array,l*16),c.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[l])}return new Qs(a,c)})}loadAnimation(e){let n=this.json,o=this,r=n.animations[e],t=r.name?r.name:"animation_"+e,A=[],a=[],c=[],l=[],u=[];for(let h=0,f=r.channels.length;h<f;h++){let p=r.channels[h],g=r.samplers[p.sampler],w=p.target,y=w.node,C=r.parameters!==void 0?r.parameters[g.input]:g.input,m=r.parameters!==void 0?r.parameters[g.output]:g.output;w.node!==void 0&&(A.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",C)),c.push(this.getDependency("accessor",m)),l.push(g),u.push(w))}return Promise.all([Promise.all(A),Promise.all(a),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(h){let f=h[0],p=h[1],g=h[2],w=h[3],y=h[4],C=[];for(let m=0,v=f.length;m<v;m++){let I=f[m],E=p[m],b=g[m],B=w[m],T=y[m];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();let S=o._createAnimationTracks(I,E,b,B,T);if(S)for(let R=0;R<S.length;R++)C.push(S[R])}return new Ns(t,void 0,C)})}createNodeMesh(e){let n=this.json,o=this,r=n.nodes[e];return r.mesh===void 0?null:o.getDependency("mesh",r.mesh).then(function(t){let A=o._getNodeRef(o.meshCache,r.mesh,t);return r.weights!==void 0&&A.traverse(function(a){if(a.isMesh)for(let c=0,l=r.weights.length;c<l;c++)a.morphTargetInfluences[c]=r.weights[c]}),A})}loadNode(e){let n=this.json,o=this,r=n.nodes[e],t=o._loadNodeShallow(e),A=[],a=r.children||[];for(let l=0,u=a.length;l<u;l++)A.push(o.getDependency("node",a[l]));let c=r.skin===void 0?Promise.resolve(null):o.getDependency("skin",r.skin);return Promise.all([t,Promise.all(A),c]).then(function(l){let u=l[0],h=l[1],f=l[2];f!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(f,Jg)});for(let p=0,g=h.length;p<g;p++)u.add(h[p]);return u})}_loadNodeShallow(e){let n=this.json,o=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];let t=n.nodes[e],A=t.name?r.createUniqueName(t.name):"",a=[],c=r._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return c&&a.push(c),t.camera!==void 0&&a.push(r.getDependency("camera",t.camera).then(function(l){return r._getNodeRef(r.cameraCache,t.camera,l)})),r._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){a.push(l)}),this.nodeCache[e]=Promise.all(a).then(function(l){let u;if(t.isBone===!0?u=new ks:l.length>1?u=new Qt:l.length===1?u=l[0]:u=new Pt,u!==l[0])for(let h=0,f=l.length;h<f;h++)u.add(l[h]);if(t.name&&(u.userData.name=t.name,u.name=A),dr(u,t),t.extensions&&jr(o,u,t),t.matrix!==void 0){let h=new Pe;h.fromArray(t.matrix),u.applyMatrix4(h)}else t.translation!==void 0&&u.position.fromArray(t.translation),t.rotation!==void 0&&u.quaternion.fromArray(t.rotation),t.scale!==void 0&&u.scale.fromArray(t.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){let n=this.extensions,o=this.json.scenes[e],r=this,t=new Qt;o.name&&(t.name=r.createUniqueName(o.name)),dr(t,o),o.extensions&&jr(n,t,o);let A=o.nodes||[],a=[];for(let c=0,l=A.length;c<l;c++)a.push(r.getDependency("node",A[c]));return Promise.all(a).then(function(c){for(let u=0,h=c.length;u<h;u++)t.add(c[u]);let l=u=>{let h=new Map;for(let[f,p]of r.associations)(f instanceof Bo||f instanceof yn)&&h.set(f,p);return u.traverse(f=>{let p=r.associations.get(f);p!=null&&h.set(f,p)}),h};return r.associations=l(t),t})}_createAnimationTracks(e,n,o,r,t){let A=[],a=e.name?e.name:e.uuid,c=[];Tr[t.path]===Tr.weights?e.traverse(function(f){f.morphTargetInfluences&&c.push(f.name?f.name:f.uuid)}):c.push(a);let l;switch(Tr[t.path]){case Tr.weights:l=Ro;break;case Tr.rotation:l=_o;break;case Tr.position:case Tr.scale:l=Fo;break;default:switch(o.itemSize){case 1:l=Ro;break;case 2:case 3:default:l=Fo;break}break}let u=r.interpolation!==void 0?Vg[r.interpolation]:_s,h=this._getArrayFromAccessor(o);for(let f=0,p=c.length;f<p;f++){let g=new l(c[f]+"."+Tr[t.path],n.array,h,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),A.push(g)}return A}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){let o=va(n.constructor),r=new Float32Array(n.length);for(let t=0,A=n.length;t<A;t++)r[t]=n[t]*o;n=r}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(o){let r=this instanceof _o?ma:No;return new r(this.times,this.values,this.getValueSize()/3,o)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}};function Xg(i,e,n){let o=e.attributes,r=new Je;if(o.POSITION!==void 0){let a=n.json.accessors[o.POSITION],c=a.min,l=a.max;if(c!==void 0&&l!==void 0){if(r.set(new j(c[0],c[1],c[2]),new j(l[0],l[1],l[2])),a.normalized){let u=va(Cn[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;let t=e.targets;if(t!==void 0){let a=new j,c=new j;for(let l=0,u=t.length;l<u;l++){let h=t[l];if(h.POSITION!==void 0){let f=n.json.accessors[h.POSITION],p=f.min,g=f.max;if(p!==void 0&&g!==void 0){if(c.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),c.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),c.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),f.normalized){let w=va(Cn[f.componentType]);c.multiplyScalar(w)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}i.boundingBox=r;let A=new Ft;r.getCenter(A.center),A.radius=r.min.distanceTo(r.max)/2,i.boundingSphere=A}function Ru(i,e,n){let o=e.attributes,r=[];function t(A,a){return n.getDependency("accessor",A).then(function(c){i.setAttribute(a,c)})}for(let A in o){let a=ya[A]||A.toLowerCase();a in i.attributes||r.push(t(o[A],a))}if(e.indices!==void 0&&!i.index){let A=n.getDependency("accessor",e.indices).then(function(a){i.setIndex(a)});r.push(A)}return mn.workingColorSpace!==Rt&&"COLOR_0"in o&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${mn.workingColorSpace}" not supported.`),dr(i,e),Xg(i,e,n),Promise.all(r).then(function(){return e.targets!==void 0?Yg(i,e.targets,n):i})}var xa=new WeakMap,Go=class extends vi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,o,r){let t=new Hr(this.manager);t.setPath(this.path),t.setResponseType("arraybuffer"),t.setRequestHeader(this.requestHeader),t.setWithCredentials(this.withCredentials),t.load(e,A=>{this.parse(A,n,r)},o,r)}parse(e,n,o=()=>{}){this.decodeDracoFile(e,n,null,null,jt,o).catch(o)}decodeDracoFile(e,n,o,r,t=Rt,A=()=>{}){let a={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!o,vertexColorSpace:t};return this.decodeGeometry(e,a).then(n).catch(A)}decodeGeometry(e,n){let o=JSON.stringify(n);if(xa.has(e)){let c=xa.get(e);if(c.key===o)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r,t=this.workerNextTaskID++,A=e.byteLength,a=this._getWorker(t,A).then(c=>(r=c,new Promise((l,u)=>{r._callbacks[t]={resolve:l,reject:u},r.postMessage({type:"decode",id:t,taskConfig:n,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{r&&t&&this._releaseTask(r,t)}),xa.set(e,{key:o,promise:a}),a}_createGeometry(e){let n=new lt;e.index&&n.setIndex(new je(e.index.array,1));for(let o=0;o<e.attributes.length;o++){let r=e.attributes[o],t=r.name,A=r.array,a=r.itemSize,c=new je(A,a);t==="color"&&(this._assignVertexColorSpace(c,r.vertexColorSpace),c.normalized=!(A instanceof Float32Array)),n.setAttribute(t,c)}return n}_assignVertexColorSpace(e,n){if(n!==jt)return;let o=new qe;for(let r=0,t=e.count;r<t;r++)o.fromBufferAttribute(e,r),mn.toWorkingColorSpace(o,jt),e.setXYZ(r,o.r,o.g,o.b)}_loadLibrary(e,n){let o=new Hr(this.manager);return o.setPath(this.decoderPath),o.setResponseType(n),o.setWithCredentials(this.withCredentials),new Promise((r,t)=>{o.load(e,r,void 0,t)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(o=>{let r=o[0];e||(this.decoderConfig.wasmBinary=o[1]);let t=Zg.toString(),A=["/* draco decoder */",r,"","/* worker */",t.substring(t.indexOf("{")+1,t.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([A]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(t){let A=t.data;switch(A.type){case"decode":r._callbacks[A.id].resolve(A);break;case"error":r._callbacks[A.id].reject(A);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+A.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,t){return r._taskLoad>t._taskLoad?-1:1});let o=this.workerPool[this.workerPool.length-1];return o._taskCosts[e]=n,o._taskLoad+=n,o})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function Zg(){let i,e;onmessage=function(A){let a=A.data;switch(a.type){case"init":i=a.decoderConfig,e=new Promise(function(u){i.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(i)});break;case"decode":let c=a.buffer,l=a.taskConfig;e.then(u=>{let h=u.draco,f=new h.Decoder;try{let p=n(h,f,new Int8Array(c),l),g=p.attributes.map(w=>w.array.buffer);p.index&&g.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},g)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{h.destroy(f)}});break}};function n(A,a,c,l){let u=l.attributeIDs,h=l.attributeTypes,f,p,g=a.GetEncodedGeometryType(c);if(g===A.TRIANGULAR_MESH)f=new A.Mesh,p=a.DecodeArrayToMesh(c,c.byteLength,f);else if(g===A.POINT_CLOUD)f=new A.PointCloud,p=a.DecodeArrayToPointCloud(c,c.byteLength,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());let w={index:null,attributes:[]};for(let y in u){let C=self[h[y]],m,v;if(l.useUniqueIDs)v=u[y],m=a.GetAttributeByUniqueId(f,v);else{if(v=a.GetAttributeId(f,A[u[y]]),v===-1)continue;m=a.GetAttribute(f,v)}let I=r(A,a,f,y,C,m);y==="color"&&(I.vertexColorSpace=l.vertexColorSpace),w.attributes.push(I)}return g===A.TRIANGULAR_MESH&&(w.index=o(A,a,f)),A.destroy(f),w}function o(A,a,c){let u=c.num_faces()*3,h=u*4,f=A._malloc(h);a.GetTrianglesUInt32Array(c,h,f);let p=new Uint32Array(A.HEAPF32.buffer,f,u).slice();return A._free(f),{array:p,itemSize:1}}function r(A,a,c,l,u,h){let f=h.num_components(),g=c.num_points()*f,w=g*u.BYTES_PER_ELEMENT,y=t(A,u),C=A._malloc(w);a.GetAttributeDataArrayForAllPoints(c,h,y,w,C);let m=new u(A.HEAPF32.buffer,C,g).slice();return A._free(C),{name:l,array:m,itemSize:f}}function t(A,a){switch(a){case Float32Array:return A.DT_FLOAT32;case Int8Array:return A.DT_INT8;case Int16Array:return A.DT_INT16;case Int32Array:return A.DT_INT32;case Uint8Array:return A.DT_UINT8;case Uint16Array:return A.DT_UINT16;case Uint32Array:return A.DT_UINT32}}}var ir=ql(Pu());function Bt(i,e){let n=new ir.Tween(i).easing(ir.Easing.Cubic.InOut);return e||n.start(),n}function e1(){try{ir.update()}catch(i){console.warn("tween update lossage",i),ir.removeAll()}}window.tween=Bt;window.tweenupdate=e1;function t1(i){return document.querySelector(i)}function gr(i,e,n){return new j(i,e,n)}window.vec3=gr;function r1(i,e,n){e=e||10,n=n||50;let o=!1,r=[],t=function(){if(r.length&&!o){o=!0;for(let A=0;A<e&&r.length;A++)r.shift().call();setTimeout(function(){o=!1,t()},n)}};return function(){r.push(i.bind(this,...arguments)),t()}}function n1(i,e,n){return r1(function(){i.modelsync&&i.modelsync(n)},20,51)}var Ei=n1;function i1(i,e,n,o,r,t){return Bt(i.position,t).to({x:e,y:n,z:o},r).on("update",Ei(i))}window.slide=i1;function o1(i,e,n){return Bt(i.scale).to({x:e,y:e,z:e},n||1e3).on("update",Ei(i))}window.grow=o1;function A1(i,e,n,o,r,t){return Bt(i.quaternion).to({x:e,y:n,z:o,w:r},t||1e3).on("update",Ei(i))}window.toquat=A1;function s1(i,e,n,o,r){return Bt(i.rotation).to({x:e,y:n,z:o},r===void 0?1e3:r).on("update",Ei(i))}window.rot=s1;function a1(i,e,n,o,r){let t=new _t,A=new Pt,a,c={t:0};return t.copy(i.quaternion),A.quaternion.copy(t),A.rotateOnAxis(e,n),a=A.quaternion,Bt(c).to({t:1},o).easing(ir.Easing.Linear.None).on("update",function(){i.quaternion.slerpQuaternions(t,a,c.t),r&&r()})}function c1(i,e,n){return a1(i,gr(0,1,0),e,n,Ei(i))}window.roty=c1;function ku(i,e){var n=[""].concat(Array.prototype.slice.call(arguments,0));console.log.apply(console,arguments)}function l1(i,e){var n=document.createElement("script");n.type="module",n.readyState?n.onreadystatechange=function(){ku("ldmodule ready",n),(n.readyState=="loaded"||n.readyState=="complete")&&(n.onreadystatechange=null,e&&e(n))}:e&&(n.onload=function(){e(n)}),n.src=i,document.getElementsByTagName("head")[0].appendChild(n)}window.ldmodule=l1;function u1(i,e){var n=document.createElement("script");n.type="application/javascript",n.readyState?n.onreadystatechange=function(){ku("ldready",n),(n.readyState=="loaded"||n.readyState=="complete")&&(n.onreadystatechange=null,e&&e(n))}:e&&(n.onload=function(){e(n)}),n.src=i,document.getElementsByTagName("head")[0].appendChild(n)}window.ld=u1;function f1(i,e,n,o){e=e||.8,n=n??0,o=o||1e3;let r=lim,t=r.orbitcontrols||r.fpcontrols,A=r.camera;if(i.position?i=i.position.clone():i=i.clone(),r.orbitcontrols&&Bt(t.target).to({x:i.x,y:i.y,z:i.z},o).on("update",function(a){A.lookAt(a),A.userData.targetRotation.copy(A.rotation)}),r.fpcontrols){let a=A.matrixWorld.clone(),c=new j,l=new _t,u=new j;Bt({n:0}).to({n:1},o).on("update",h=>{a.lookAt(A.position,i,A.up),a.decompose(c,l,u),A.quaternion.slerp(l,h.n),A.userData.targetRotation.copy(A.rotation)})}Bt(A.position).to({x:i.x,y:i.y+n,z:i.z+e},o).on("update",function(a){A.userData.targetPosition.copy(A.position)})}function h1(i,e){e=e||1e3;let n=lim,o=n.orbitcontrols||n.fpcontrols,r=n.camera;if(i.position?i=i.position.clone():i=i.clone(),n.orbitcontrols&&Bt(o.target).to({x:i.x,y:i.y,z:i.z},e).on("update",function(t){r.lookAt(t),r.userData.targetRotation.copy(r.rotation)}),n.fpcontrols){let t=r.matrixWorld.clone(),A=new j,a=new _t,c=new j;Bt({n:0}).to({n:1},e).on("update",l=>{t.lookAt(r.position,i,r.up),t.decompose(A,a,c),r.quaternion.slerp(a,l.n),r.userData.targetRotation.copy(r.rotation)})}}window.lookat=h1;window.lookto=f1;function p1(i,e,n,o,r,t){let A=window.app,a=A.orbitcontrols||A.fpcontrols,c=A.camera,l=1e3;return(o||r||t)&&Bt(a.target).to({x:o,y:r,z:t},l).on("update",()=>a.update()),Bt(c.position).to({x:i,y:e,z:n},l).on("update",()=>a.update())}window.camto=p1;function d1(i,e){e=e||(i.path&&i.path.length?i.path[0]:i.srcElement),document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),e.exitFullscreen&&e.exitFullscreen()):e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}window.togglefullscreen=d1;window.togglefullscreen0=g1;function g1(i){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen()}var Ho;function m1(i,e,n){let o=new Oo;Ho||(Ho=new Go,Ho.setDecoderPath("./jsm/libs/draco/")),o.setDRACOLoader(Ho),o.setPath(e||"./stuff/"),o.load(i,function(r){n&&n(r)})}function y1(i,e,n){let o=new Pt;return e=e||"./stuff/",bi(i,e,r=>{let t=r.scene;if(r.animations.length){let A=new Ii(t);r.animations.forEach(a=>A.clipAction(a).play())}o.add(t),t.traverse(A=>{A.receiveShadow=!1,A.castShadow=!0,A.frustumCulled=!1,A.material&&(console.warn(A.material),A.material.transparent=!0)}),n&&n(o)}),o}var bi=m1;window.gltf=bi;window.sgltf=y1;function v1(i,e,n){let o="https://sublambda.github.io/",r=new Pt,t=o||"";return r.tag=e||i,r.contenthook=()=>{i.indexOf(".")>0||(i+=".glb"),bi(i,t+"stuff/",A=>{let a=A.scene;if(A.animations.length){let c=new Ii(a);A.animations.forEach(l=>c.clipAction(l).play()),window.app.mixers.push(c),c.timeScale=.8}r.add(a),a.traverse(c=>{if(c.receiveShadow=!0,c.castShadow=!0,c.frustumCulled=!1,c.geometry,c.material){let l=u=>{};Array.isArray(c.material)?c.material.map(l):l(c.material)}}),r.onload&&r.onload(),n&&n(r)})},r.contenthook(),r}window.sogltf=v1;function w1(i,e,n,o,r){return i.ball(Math.floor(e*100),Math.floor(n*100),Math.floor(o*100),r,[180,170,170],1)}window.sball=w1;var _x=gr(-1,-1,-1),Fx=gr(0,0,0);function x1(i){let e=document.createElement("video"),n=new gu(e);return e.style.visible="hidden",e.src=i,e.muted=!0,e.autoplay=!1,e.playsinline=!1,e.webkitPlaysinline=!1,e.crossOrigin="anonymous",n.vid=e,n}function Ia(i){let e=new x1(i),n=e.vid,o=new _e(new kt(1,.8,1),new it({color:16777215,map:e,transparent:!0,side:At}));return o.tag="vidbox",o.vid=n,n.onloadeddata=()=>{n.pause(),n.currentTime=0,n.playsinline=!0,n.loop=!0,n.fullscreen=!1},o.castShadow=!0,o.receiveShadow=!1,o}window.vidbox=Ia;function I1(i,e){e===void 0&&(e=!0),i.traverse(n=>n.material&&(n.material.wireframe=e))}window.wireframe=I1;async function C1(i){}window.loadjs=C1;function E1(i,e,n,o){return(i/=o/2)<1?n/2*i*i+e:-n/2*(--i*(i-2)-1)+e}window.easeInOutQuad=E1;function b1(i,e,n,o){return(i/=o/2)<1?n/2*i*i*i+e:n/2*((i-=2)*i*i+2)+e}window.easeInOutCubic=b1;function B1(){let i=document.createElement("iframe");return i.sandbox="allow-scripts allow-same-origin",i.src="sandbox.html",i.style.visible=!1,document.body.append(i),i.send=e=>i.contentWindow.postMessage(e),i}window.sandboxframe=B1;function T1(i){let e=new Blob([i],{type:"application/javascript"}),n=new Worker(URL.createObjectURL(e));return n.onmessage=o=>console.log("worker.onmessage",o.data),n}window.blobworker=T1;function S1(i){t1("#status").innerHTML=i}window.setstatus=S1;async function D1(i){let e=new CompressionStream("gzip"),n=e.writer.getWriter(),o=[],r=e.readable.getReader(),t=0;for(n.write(i),n.close();;){let{value:c,done:l}=await r.read();if(l)break;o.push(c),t+=c.byteLength}let A=new Uint8Array(totalSize),a=0;for(let c of o)A.set(c,a),a+=c.byteLength;return A}window.compress=D1;var Qa={};Ss(Qa,{BatchedText:()=>_a,GlyphsGeometry:()=>Jo,Text:()=>Sr,configureTextBuilder:()=>om,createTextDerivedMaterial:()=>Pa,dumpSDFTextures:()=>am,fontResolverWorkerModule:()=>tf,getCaretAtPoint:()=>Cm,getSelectionRects:()=>Em,getTextRenderInfo:()=>Fa,preloadFont:()=>Af,typesetterWorkerModule:()=>cf});function M1(){var i=Object.create(null);function e(r,t){var A=r.id,a=r.name,c=r.dependencies;c===void 0&&(c=[]);var l=r.init;l===void 0&&(l=function(){});var u=r.getTransferables;if(u===void 0&&(u=null),!i[A])try{c=c.map(function(f){return f&&f.isWorkerModule&&(e(f,function(p){if(p instanceof Error)throw p}),f=i[f.id].value),f}),l=o("<"+a+">.init",l),u&&(u=o("<"+a+">.getTransferables",u));var h=null;typeof l=="function"?h=l.apply(void 0,c):console.error("worker module init function failed to rehydrate"),i[A]={id:A,value:h,getTransferables:u},t(h)}catch(f){f&&f.noLog||console.error(f),t(f)}}function n(r,t){var A,a=r.id,c=r.args;(!i[a]||typeof i[a].value!="function")&&t(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var l=(A=i[a]).value.apply(A,c);l&&typeof l.then=="function"?l.then(u,function(h){return t(h instanceof Error?h:new Error(""+h))}):u(l)}catch(h){t(h)}function u(h){try{var f=i[a].getTransferables&&i[a].getTransferables(h);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),t(h,f)}catch(p){console.error(p),t(p)}}}function o(r,t){var A=void 0;self.troikaDefine=function(c){return A=c};var a=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+t+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(c){console.error(c)}return URL.revokeObjectURL(a),delete self.troikaDefine,A}self.addEventListener("message",function(r){var t=r.data,A=t.messageId,a=t.action,c=t.data;try{a==="registerModule"&&e(c,function(l){l instanceof Error?postMessage({messageId:A,success:!1,error:l.message}):postMessage({messageId:A,success:!0,result:{isCallable:typeof l=="function"}})}),a==="callModule"&&n(c,function(l,u){l instanceof Error?postMessage({messageId:A,success:!1,error:l.message}):postMessage({messageId:A,success:!0,result:l},u||void 0)})}catch(l){postMessage({messageId:A,success:!1,error:l.stack})}})}function R1(i){var e=function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return e._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=i.dependencies,o=i.init;n=Array.isArray(n)?n.map(function(t){return t&&t._getInitResult?t._getInitResult():t}):[];var r=Promise.all(n).then(function(t){return o.apply(null,t)});return e._getInitResult=function(){return r},r},e}var Uu=function(){var i=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),i=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return Uu=function(){return i},i},_1=0,F1=0,Ca=!1,Bi=Object.create(null),Ti=Object.create(null),Ea=Object.create(null);function Yr(i){if((!i||typeof i.init!="function")&&!Ca)throw new Error("requires `options.init` function");var e=i.dependencies,n=i.init,o=i.getTransferables,r=i.workerId;if(!Uu())return R1(i);r==null&&(r="#default");var t="workerModule"+ ++_1,A=i.name||t,a=null;e=e&&e.map(function(l){return typeof l=="function"&&!l.workerModuleData&&(Ca=!0,l=Yr({workerId:r,name:"<"+A+"> function dependency: "+l.name,init:`function(){return (
`+Vo(l)+`
)}`}),Ca=!1),l&&l.workerModuleData&&(l=l.workerModuleData),l});function c(){for(var l=[],u=arguments.length;u--;)l[u]=arguments[u];if(!a){a=Qu(r,"registerModule",c.workerModuleData);var h=function(){a=null,Ti[r].delete(h)};(Ti[r]||(Ti[r]=new Set)).add(h)}return a.then(function(f){var p=f.isCallable;if(p)return Qu(r,"callModule",{id:t,args:l});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:t,name:A,dependencies:e,init:Vo(n),getTransferables:o&&Vo(o)},c}function Lu(i){Ti[i]&&Ti[i].forEach(function(e){e()}),Bi[i]&&(Bi[i].terminate(),delete Bi[i])}function Vo(i){var e=i.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function P1(i){var e=Bi[i];if(!e){var n=Vo(M1);e=Bi[i]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+i.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(o){var r=o.data,t=r.messageId,A=Ea[t];if(!A)throw new Error("WorkerModule response with empty or unknown messageId");delete Ea[t],A(r)}}return e}function Qu(i,e,n){return new Promise(function(o,r){var t=++F1;Ea[t]=function(A){A.success?o(A.result):r(new Error("Error in worker "+e+" call: "+A.error))},P1(i).postMessage({messageId:t,action:e,data:n})})}function ba(){var i=function(e){function n(O,G,_,N,H,z,q,ee){var te=1-q;ee.x=te*te*O+2*te*q*_+q*q*H,ee.y=te*te*G+2*te*q*N+q*q*z}function o(O,G,_,N,H,z,q,ee,te,re){var se=1-te;re.x=se*se*se*O+3*se*se*te*_+3*se*te*te*H+te*te*te*q,re.y=se*se*se*G+3*se*se*te*N+3*se*te*te*z+te*te*te*ee}function r(O,G){for(var _=/([MLQCZ])([^MLQCZ]*)/g,N,H,z,q,ee;N=_.exec(O);){var te=N[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(re){return parseFloat(re)});switch(N[1]){case"M":q=H=te[0],ee=z=te[1];break;case"L":(te[0]!==q||te[1]!==ee)&&G("L",q,ee,q=te[0],ee=te[1]);break;case"Q":{G("Q",q,ee,q=te[2],ee=te[3],te[0],te[1]);break}case"C":{G("C",q,ee,q=te[4],ee=te[5],te[0],te[1],te[2],te[3]);break}case"Z":(q!==H||ee!==z)&&G("L",q,ee,H,z);break}}}function t(O,G,_){_===void 0&&(_=16);var N={x:0,y:0};r(O,function(H,z,q,ee,te,re,se,le,Ae){switch(H){case"L":G(z,q,ee,te);break;case"Q":{for(var ne=z,Ee=q,Te=1;Te<_;Te++)n(z,q,re,se,ee,te,Te/(_-1),N),G(ne,Ee,N.x,N.y),ne=N.x,Ee=N.y;break}case"C":{for(var de=z,ye=q,Be=1;Be<_;Be++)o(z,q,re,se,le,Ae,ee,te,Be/(_-1),N),G(de,ye,N.x,N.y),de=N.x,ye=N.y;break}}})}var A="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",c=new WeakMap,l={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(O,G){var _=O.getContext?O.getContext("webgl",l):O,N=c.get(_);if(!N){let se=function(de){var ye=z[de];if(!ye&&(ye=z[de]=_.getExtension(de),!ye))throw new Error(de+" not supported");return ye},le=function(de,ye){var Be=_.createShader(ye);return _.shaderSource(Be,de),_.compileShader(Be),Be},Ae=function(de,ye,Be,ae){if(!q[de]){var pe={},we={},ie=_.createProgram();_.attachShader(ie,le(ye,_.VERTEX_SHADER)),_.attachShader(ie,le(Be,_.FRAGMENT_SHADER)),_.linkProgram(ie),q[de]={program:ie,transaction:function(fe){_.useProgram(ie),fe({setUniform:function(ge,ke){for(var Ie=[],Ce=arguments.length-2;Ce-- >0;)Ie[Ce]=arguments[Ce+2];var be=we[ke]||(we[ke]=_.getUniformLocation(ie,ke));_["uniform"+ge].apply(_,[be].concat(Ie))},setAttribute:function(ge,ke,Ie,Ce,be){var De=pe[ge];De||(De=pe[ge]={buf:_.createBuffer(),loc:_.getAttribLocation(ie,ge),data:null}),_.bindBuffer(_.ARRAY_BUFFER,De.buf),_.vertexAttribPointer(De.loc,ke,_.FLOAT,!1,0,0),_.enableVertexAttribArray(De.loc),H?_.vertexAttribDivisor(De.loc,Ce):se("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(De.loc,Ce),be!==De.data&&(_.bufferData(_.ARRAY_BUFFER,be,Ie),De.data=be)}})}}}q[de].transaction(ae)},ne=function(de,ye){te++;try{_.activeTexture(_.TEXTURE0+te);var Be=ee[de];Be||(Be=ee[de]=_.createTexture(),_.bindTexture(_.TEXTURE_2D,Be),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST)),_.bindTexture(_.TEXTURE_2D,Be),ye(Be,te)}finally{te--}},Ee=function(de,ye,Be){var ae=_.createFramebuffer();re.push(ae),_.bindFramebuffer(_.FRAMEBUFFER,ae),_.activeTexture(_.TEXTURE0+ye),_.bindTexture(_.TEXTURE_2D,de),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,de,0);try{Be(ae)}finally{_.deleteFramebuffer(ae),_.bindFramebuffer(_.FRAMEBUFFER,re[--re.length-1]||null)}},Te=function(){z={},q={},ee={},te=-1,re.length=0};var H=typeof WebGL2RenderingContext<"u"&&_ instanceof WebGL2RenderingContext,z={},q={},ee={},te=-1,re=[];_.canvas.addEventListener("webglcontextlost",function(de){Te(),de.preventDefault()},!1),c.set(_,N={gl:_,isWebGL2:H,getExtension:se,withProgram:Ae,withTexture:ne,withTextureFramebuffer:Ee,handleContextLoss:Te})}G(N)}function h(O,G,_,N,H,z,q,ee){q===void 0&&(q=15),ee===void 0&&(ee=null),u(O,function(te){var re=te.gl,se=te.withProgram,le=te.withTexture;le("copy",function(Ae,ne){re.texImage2D(re.TEXTURE_2D,0,re.RGBA,H,z,0,re.RGBA,re.UNSIGNED_BYTE,G),se("copy",A,a,function(Ee){var Te=Ee.setUniform,de=Ee.setAttribute;de("aUV",2,re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Te("1i","image",ne),re.bindFramebuffer(re.FRAMEBUFFER,ee||null),re.disable(re.BLEND),re.colorMask(q&8,q&4,q&2,q&1),re.viewport(_,N,H,z),re.scissor(_,N,H,z),re.drawArrays(re.TRIANGLES,0,3)})})})}function f(O,G,_){var N=O.width,H=O.height;u(O,function(z){var q=z.gl,ee=new Uint8Array(N*H*4);q.readPixels(0,0,N,H,q.RGBA,q.UNSIGNED_BYTE,ee),O.width=G,O.height=_,h(q,ee,0,0,N,H)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:h,resizeWebGLCanvasWithoutClearing:f});function g(O,G,_,N,H,z){z===void 0&&(z=1);var q=new Uint8Array(O*G),ee=N[2]-N[0],te=N[3]-N[1],re=[];t(_,function(de,ye,Be,ae){re.push({x1:de,y1:ye,x2:Be,y2:ae,minX:Math.min(de,Be),minY:Math.min(ye,ae),maxX:Math.max(de,Be),maxY:Math.max(ye,ae)})}),re.sort(function(de,ye){return de.maxX-ye.maxX});for(var se=0;se<O;se++)for(var le=0;le<G;le++){var Ae=Ee(N[0]+ee*(se+.5)/O,N[1]+te*(le+.5)/G),ne=Math.pow(1-Math.abs(Ae)/H,z)/2;Ae<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),q[le*O+se]=ne}return q;function Ee(de,ye){for(var Be=1/0,ae=1/0,pe=re.length;pe--;){var we=re[pe];if(we.maxX+ae<=de)break;if(de+ae>we.minX&&ye-ae<we.maxY&&ye+ae>we.minY){var ie=C(de,ye,we.x1,we.y1,we.x2,we.y2);ie<Be&&(Be=ie,ae=Math.sqrt(Be))}}return Te(de,ye)&&(ae=-ae),ae}function Te(de,ye){for(var Be=0,ae=re.length;ae--;){var pe=re[ae];if(pe.maxX<=de)break;var we=pe.y1>ye!=pe.y2>ye&&de<(pe.x2-pe.x1)*(ye-pe.y1)/(pe.y2-pe.y1)+pe.x1;we&&(Be+=pe.y1<pe.y2?1:-1)}return Be!==0}}function w(O,G,_,N,H,z,q,ee,te,re){z===void 0&&(z=1),ee===void 0&&(ee=0),te===void 0&&(te=0),re===void 0&&(re=0),y(O,G,_,N,H,z,q,null,ee,te,re)}function y(O,G,_,N,H,z,q,ee,te,re,se){z===void 0&&(z=1),te===void 0&&(te=0),re===void 0&&(re=0),se===void 0&&(se=0);for(var le=g(O,G,_,N,H,z),Ae=new Uint8Array(le.length*4),ne=0;ne<le.length;ne++)Ae[ne*4+se]=le[ne];h(q,Ae,te,re,O,G,1<<3-se,ee)}function C(O,G,_,N,H,z){var q=H-_,ee=z-N,te=q*q+ee*ee,re=te?Math.max(0,Math.min(1,((O-_)*q+(G-N)*ee)/te)):0,se=O-(_+re*q),le=G-(N+re*ee);return se*se+le*le}var m=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:w,generateIntoFramebuffer:y}),v="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",I="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",b=new Float32Array([0,0,2,0,0,2]),B=null,T=!1,S={},R=new WeakMap;function Q(O){if(!T&&!Y(O))throw new Error("WebGL generation not supported")}function M(O,G,_,N,H,z,q){if(z===void 0&&(z=1),q===void 0&&(q=null),!q&&(q=B,!q)){var ee=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ee)throw new Error("OffscreenCanvas or DOM canvas not supported");q=B=ee.getContext("webgl",{depth:!1})}Q(q);var te=new Uint8Array(O*G*4);u(q,function(Ae){var ne=Ae.gl,Ee=Ae.withTexture,Te=Ae.withTextureFramebuffer;Ee("readable",function(de,ye){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,O,G,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Te(de,ye,function(Be){k(O,G,_,N,H,z,ne,Be,0,0,0),ne.readPixels(0,0,O,G,ne.RGBA,ne.UNSIGNED_BYTE,te)})})});for(var re=new Uint8Array(O*G),se=0,le=0;se<te.length;se+=4)re[le++]=te[se];return re}function F(O,G,_,N,H,z,q,ee,te,re){z===void 0&&(z=1),ee===void 0&&(ee=0),te===void 0&&(te=0),re===void 0&&(re=0),k(O,G,_,N,H,z,q,null,ee,te,re)}function k(O,G,_,N,H,z,q,ee,te,re,se){z===void 0&&(z=1),te===void 0&&(te=0),re===void 0&&(re=0),se===void 0&&(se=0),Q(q);var le=[];t(_,function(Ae,ne,Ee,Te){le.push(Ae,ne,Ee,Te)}),le=new Float32Array(le),u(q,function(Ae){var ne=Ae.gl,Ee=Ae.isWebGL2,Te=Ae.getExtension,de=Ae.withProgram,ye=Ae.withTexture,Be=Ae.withTextureFramebuffer,ae=Ae.handleContextLoss;if(ye("rawDistances",function(pe,we){(O!==pe._lastWidth||G!==pe._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,pe._lastWidth=O,pe._lastHeight=G,0,ne.RGBA,ne.UNSIGNED_BYTE,null),de("main",v,I,function(ie){var Re=ie.setAttribute,fe=ie.setUniform,ve=!Ee&&Te("ANGLE_instanced_arrays"),ge=!Ee&&Te("EXT_blend_minmax");Re("aUV",2,ne.STATIC_DRAW,0,b),Re("aLineSegment",4,ne.DYNAMIC_DRAW,1,le),fe.apply(void 0,["4f","uGlyphBounds"].concat(N)),fe("1f","uMaxDistance",H),fe("1f","uExponent",z),Be(pe,we,function(ke){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,O,G),ne.scissor(0,0,O,G),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,Ee?ne.MAX:ge.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),Ee?ne.drawArraysInstanced(ne.TRIANGLES,0,3,le.length/4):ve.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,le.length/4)})}),de("post",A,E,function(ie){ie.setAttribute("aUV",2,ne.STATIC_DRAW,0,b),ie.setUniform("1i","tex",we),ne.bindFramebuffer(ne.FRAMEBUFFER,ee),ne.disable(ne.BLEND),ne.colorMask(se===0,se===1,se===2,se===3),ne.viewport(te,re,O,G),ne.scissor(te,re,O,G),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw ae(),new Error("webgl context lost")})}function Y(O){var G=!O||O===B?S:O.canvas||O,_=R.get(G);if(_===void 0){T=!0;var N=null;try{var H=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],z=M(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,O);_=z&&H.length===z.length&&z.every(function(q,ee){return q===H[ee]}),_||(N="bad trial run results",console.info(H,z))}catch(q){_=!1,N=q.message}N&&console.warn("WebGL SDF generation not supported:",N),T=!1,R.set(G,_)}return _}var U=Object.freeze({__proto__:null,generate:M,generateIntoCanvas:F,generateIntoFramebuffer:k,isSupported:Y});function K(O,G,_,N,H,z){H===void 0&&(H=Math.max(N[2]-N[0],N[3]-N[1])/2),z===void 0&&(z=1);try{return M.apply(U,arguments)}catch(q){return console.info("WebGL SDF generation failed, falling back to JS",q),g.apply(m,arguments)}}function W(O,G,_,N,H,z,q,ee,te,re){H===void 0&&(H=Math.max(N[2]-N[0],N[3]-N[1])/2),z===void 0&&(z=1),ee===void 0&&(ee=0),te===void 0&&(te=0),re===void 0&&(re=0);try{return F.apply(U,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),w.apply(m,arguments)}}return e.forEachPathCommand=r,e.generate=K,e.generateIntoCanvas=W,e.javascript=m,e.pathToLineSegments=t,e.webgl=U,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}function k1(){var i=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},r={};o.L=1,r[1]="L",Object.keys(n).forEach(function(ae,pe){o[ae]=1<<pe+1,r[o[ae]]=ae}),Object.freeze(o);var t=o.LRI|o.RLI|o.FSI,A=o.L|o.R|o.AL,a=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,c=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,l=o.S|o.WS|o.B|t|o.PDI|c,u=null;function h(){if(!u){u=new Map;var ae=function(we){if(n.hasOwnProperty(we)){var ie=0;n[we].split(",").forEach(function(Re){var fe=Re.split("+"),ve=fe[0],ge=fe[1];ve=parseInt(ve,36),ge=ge?parseInt(ge,36):0,u.set(ie+=ve,o[we]);for(var ke=0;ke<ge;ke++)u.set(++ie,o[we])})}};for(var pe in n)ae(pe)}}function f(ae){return h(),u.get(ae.codePointAt(0))||o.L}function p(ae){return r[f(ae)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function w(ae,pe){var we=36,ie=0,Re=new Map,fe=pe&&new Map,ve;return ae.split(",").forEach(function ge(ke){if(ke.indexOf("+")!==-1)for(var Ie=+ke;Ie--;)ge(ve);else{ve=ke;var Ce=ke.split(">"),be=Ce[0],De=Ce[1];be=String.fromCodePoint(ie+=parseInt(be,we)),De=String.fromCodePoint(ie+=parseInt(De,we)),Re.set(be,De),pe&&fe.set(De,be)}}),{map:Re,reverseMap:fe}}var y,C,m;function v(){if(!y){var ae=w(g.pairs,!0),pe=ae.map,we=ae.reverseMap;y=pe,C=we,m=w(g.canonical,!1).map}}function I(ae){return v(),y.get(ae)||null}function E(ae){return v(),C.get(ae)||null}function b(ae){return v(),m.get(ae)||null}var B=o.L,T=o.R,S=o.EN,R=o.ES,Q=o.ET,M=o.AN,F=o.CS,k=o.B,Y=o.S,U=o.ON,K=o.BN,W=o.NSM,O=o.AL,G=o.LRO,_=o.RLO,N=o.LRE,H=o.RLE,z=o.PDF,q=o.LRI,ee=o.RLI,te=o.FSI,re=o.PDI;function se(ae,pe){for(var we=125,ie=new Uint32Array(ae.length),Re=0;Re<ae.length;Re++)ie[Re]=f(ae[Re]);var fe=new Map;function ve(Et,Vt){var bt=ie[Et];ie[Et]=Vt,fe.set(bt,fe.get(bt)-1),bt&a&&fe.set(a,fe.get(a)-1),fe.set(Vt,(fe.get(Vt)||0)+1),Vt&a&&fe.set(a,(fe.get(a)||0)+1)}for(var ge=new Uint8Array(ae.length),ke=new Map,Ie=[],Ce=null,be=0;be<ae.length;be++)Ce||Ie.push(Ce={start:be,end:ae.length-1,level:pe==="rtl"?1:pe==="ltr"?0:Yl(be,!1)}),ie[be]&k&&(Ce.end=be,Ce=null);for(var De=H|N|_|G|t|re|z|k,Ge=function(Et){return Et+(Et&1?1:2)},Z=function(Et){return Et+(Et&1?2:1)},d=0;d<Ie.length;d++){Ce=Ie[d];var x=[{_level:Ce.level,_override:0,_isolate:0}],D=void 0,P=0,L=0,V=0;fe.clear();for(var $=Ce.start;$<=Ce.end;$++){var X=ie[$];if(D=x[x.length-1],fe.set(X,(fe.get(X)||0)+1),X&a&&fe.set(a,(fe.get(a)||0)+1),X&De)if(X&(H|N)){ge[$]=D._level;var J=(X===H?Z:Ge)(D._level);J<=we&&!P&&!L?x.push({_level:J,_override:0,_isolate:0}):P||L++}else if(X&(_|G)){ge[$]=D._level;var ce=(X===_?Z:Ge)(D._level);ce<=we&&!P&&!L?x.push({_level:ce,_override:X&_?T:B,_isolate:0}):P||L++}else if(X&t){X&te&&(X=Yl($+1,!0)===1?ee:q),ge[$]=D._level,D._override&&ve($,D._override);var oe=(X===ee?Z:Ge)(D._level);oe<=we&&P===0&&L===0?(V++,x.push({_level:oe,_override:0,_isolate:1,_isolInitIndex:$})):P++}else if(X&re){if(P>0)P--;else if(V>0){for(L=0;!x[x.length-1]._isolate;)x.pop();var ue=x[x.length-1]._isolInitIndex;ue!=null&&(ke.set(ue,$),ke.set($,ue)),x.pop(),V--}D=x[x.length-1],ge[$]=D._level,D._override&&ve($,D._override)}else X&z?(P===0&&(L>0?L--:!D._isolate&&x.length>1&&(x.pop(),D=x[x.length-1])),ge[$]=D._level):X&k&&(ge[$]=Ce.level);else ge[$]=D._level,D._override&&X!==K&&ve($,D._override)}for(var me=[],xe=null,he=Ce.start;he<=Ce.end;he++){var Me=ie[he];if(!(Me&c)){var Ye=ge[he],Oe=Me&t,Ve=Me===re;xe&&Ye===xe._level?(xe._end=he,xe._endsWithIsolInit=Oe):me.push(xe={_start:he,_end:he,_level:Ye,_startsWithPDI:Ve,_endsWithIsolInit:Oe})}}for(var mt=[],Ct=0;Ct<me.length;Ct++){var Ke=me[Ct];if(!Ke._startsWithPDI||Ke._startsWithPDI&&!ke.has(Ke._start)){for(var $t=[xe=Ke],fr=void 0;xe&&xe._endsWithIsolInit&&(fr=ke.get(xe._end))!=null;)for(var Gt=Ct+1;Gt<me.length;Gt++)if(me[Gt]._start===fr){$t.push(xe=me[Gt]);break}for(var ct=[],er=0;er<$t.length;er++)for(var ti=$t[er],zt=ti._start;zt<=ti._end;zt++)ct.push(zt);for(var yt=ge[ct[0]],tr=Ce.level,ln=ct[0]-1;ln>=0;ln--)if(!(ie[ln]&c)){tr=ge[ln];break}var Nr=ct[ct.length-1],ri=ge[Nr],Sl=Ce.level;if(!(ie[Nr]&t)){for(var lo=Nr+1;lo<=Ce.end;lo++)if(!(ie[lo]&c)){Sl=ge[lo];break}}mt.push({_seqIndices:ct,_sosType:Math.max(tr,yt)%2?T:B,_eosType:Math.max(Sl,ri)%2?T:B})}}for(var ls=0;ls<mt.length;ls++){var us=mt[ls],Se=us._seqIndices,ni=us._sosType,dg=us._eosType,un=ge[Se[0]]&1?T:B;if(fe.get(W))for(var uo=0;uo<Se.length;uo++){var Dl=Se[uo];if(ie[Dl]&W){for(var fs=ni,fo=uo-1;fo>=0;fo--)if(!(ie[Se[fo]]&c)){fs=ie[Se[fo]];break}ve(Dl,fs&(t|re)?U:fs)}}if(fe.get(S))for(var ho=0;ho<Se.length;ho++){var Ml=Se[ho];if(ie[Ml]&S)for(var po=ho-1;po>=-1;po--){var Rl=po===-1?ni:ie[Se[po]];if(Rl&A){Rl===O&&ve(Ml,M);break}}}if(fe.get(O))for(var hs=0;hs<Se.length;hs++){var _l=Se[hs];ie[_l]&O&&ve(_l,T)}if(fe.get(R)||fe.get(F))for(var ii=1;ii<Se.length-1;ii++){var ps=Se[ii];if(ie[ps]&(R|F)){for(var fn=0,ds=0,gs=ii-1;gs>=0&&(fn=ie[Se[gs]],!!(fn&c));gs--);for(var ms=ii+1;ms<Se.length&&(ds=ie[Se[ms]],!!(ds&c));ms++);fn===ds&&(ie[ps]===R?fn===S:fn&(S|M))&&ve(ps,fn)}}if(fe.get(S))for(var rr=0;rr<Se.length;rr++){var gg=Se[rr];if(ie[gg]&S){for(var go=rr-1;go>=0&&ie[Se[go]]&(Q|c);go--)ve(Se[go],S);for(rr++;rr<Se.length&&ie[Se[rr]]&(Q|c|S);rr++)ie[Se[rr]]!==S&&ve(Se[rr],S)}}if(fe.get(Q)||fe.get(R)||fe.get(F))for(var oi=0;oi<Se.length;oi++){var Fl=Se[oi];if(ie[Fl]&(Q|R|F)){ve(Fl,U);for(var mo=oi-1;mo>=0&&ie[Se[mo]]&c;mo--)ve(Se[mo],U);for(var yo=oi+1;yo<Se.length&&ie[Se[yo]]&c;yo++)ve(Se[yo],U)}}if(fe.get(S))for(var ys=0,Pl=ni;ys<Se.length;ys++){var kl=Se[ys],vs=ie[kl];vs&S?Pl===B&&ve(kl,B):vs&A&&(Pl=vs)}if(fe.get(a)){var Ai=T|S|M,Ql=Ai|B,vo=[];{for(var hn=[],pn=0;pn<Se.length;pn++)if(ie[Se[pn]]&a){var si=ae[Se[pn]],Ul=void 0;if(I(si)!==null)if(hn.length<63)hn.push({char:si,seqIndex:pn});else break;else if((Ul=E(si))!==null)for(var ai=hn.length-1;ai>=0;ai--){var ws=hn[ai].char;if(ws===Ul||ws===E(b(si))||I(b(ws))===si){vo.push([hn[ai].seqIndex,pn]),hn.length=ai;break}}}vo.sort(function(Et,Vt){return Et[0]-Vt[0]})}for(var xs=0;xs<vo.length;xs++){for(var Ll=vo[xs],wo=Ll[0],Is=Ll[1],Ol=!1,Ht=0,Cs=wo+1;Cs<Is;Cs++){var Nl=Se[Cs];if(ie[Nl]&Ql){Ol=!0;var Gl=ie[Nl]&Ai?T:B;if(Gl===un){Ht=Gl;break}}}if(Ol&&!Ht){Ht=ni;for(var Es=wo-1;Es>=0;Es--){var zl=Se[Es];if(ie[zl]&Ql){var Hl=ie[zl]&Ai?T:B;Hl!==un?Ht=Hl:Ht=un;break}}}if(Ht){if(ie[Se[wo]]=ie[Se[Is]]=Ht,Ht!==un){for(var ci=wo+1;ci<Se.length;ci++)if(!(ie[Se[ci]]&c)){f(ae[Se[ci]])&W&&(ie[Se[ci]]=Ht);break}}if(Ht!==un){for(var li=Is+1;li<Se.length;li++)if(!(ie[Se[li]]&c)){f(ae[Se[li]])&W&&(ie[Se[li]]=Ht);break}}}}for(var Cr=0;Cr<Se.length;Cr++)if(ie[Se[Cr]]&a){for(var Vl=Cr,bs=Cr,Bs=ni,ui=Cr-1;ui>=0;ui--)if(ie[Se[ui]]&c)Vl=ui;else{Bs=ie[Se[ui]]&Ai?T:B;break}for(var jl=dg,fi=Cr+1;fi<Se.length;fi++)if(ie[Se[fi]]&(a|c))bs=fi;else{jl=ie[Se[fi]]&Ai?T:B;break}for(var Ts=Vl;Ts<=bs;Ts++)ie[Se[Ts]]=Bs===jl?Bs:un;Cr=bs}}}for(var St=Ce.start;St<=Ce.end;St++){var mg=ge[St],xo=ie[St];if(mg&1?xo&(B|S|M)&&ge[St]++:xo&T?ge[St]++:xo&(M|S)&&(ge[St]+=2),xo&c&&(ge[St]=St===0?Ce.level:ge[St-1]),St===Ce.end||f(ae[St])&(Y|k))for(var Io=St;Io>=0&&f(ae[Io])&l;Io--)ge[Io]=Ce.level}}return{levels:ge,paragraphs:Ie};function Yl(Et,Vt){for(var bt=Et;bt<ae.length;bt++){var Er=ie[bt];if(Er&(T|O))return 1;if(Er&(k|B)||Vt&&Er===re)return 0;if(Er&t){var Wl=yg(bt);bt=Wl===-1?ae.length:Wl}}return 0}function yg(Et){for(var Vt=1,bt=Et+1;bt<ae.length;bt++){var Er=ie[bt];if(Er&k)break;if(Er&re){if(--Vt===0)return bt}else Er&t&&Vt++}return-1}}var le="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ae;function ne(){if(!Ae){var ae=w(le,!0),pe=ae.map,we=ae.reverseMap;we.forEach(function(ie,Re){pe.set(Re,ie)}),Ae=pe}}function Ee(ae){return ne(),Ae.get(ae)||null}function Te(ae,pe,we,ie){var Re=ae.length;we=Math.max(0,we==null?0:+we),ie=Math.min(Re-1,ie==null?Re-1:+ie);for(var fe=new Map,ve=we;ve<=ie;ve++)if(pe[ve]&1){var ge=Ee(ae[ve]);ge!==null&&fe.set(ve,ge)}return fe}function de(ae,pe,we,ie){var Re=ae.length;we=Math.max(0,we==null?0:+we),ie=Math.min(Re-1,ie==null?Re-1:+ie);var fe=[];return pe.paragraphs.forEach(function(ve){var ge=Math.max(we,ve.start),ke=Math.min(ie,ve.end);if(ge<ke){for(var Ie=pe.levels.slice(ge,ke+1),Ce=ke;Ce>=ge&&f(ae[Ce])&l;Ce--)Ie[Ce]=ve.level;for(var be=ve.level,De=1/0,Ge=0;Ge<Ie.length;Ge++){var Z=Ie[Ge];Z>be&&(be=Z),Z<De&&(De=Z|1)}for(var d=be;d>=De;d--)for(var x=0;x<Ie.length;x++)if(Ie[x]>=d){for(var D=x;x+1<Ie.length&&Ie[x+1]>=d;)x++;x>D&&fe.push([D+ge,x+ge])}}}),fe}function ye(ae,pe,we,ie){var Re=Be(ae,pe,we,ie),fe=[].concat(ae);return Re.forEach(function(ve,ge){fe[ge]=(pe.levels[ve]&1?Ee(ae[ve]):null)||ae[ve]}),fe.join("")}function Be(ae,pe,we,ie){for(var Re=de(ae,pe,we,ie),fe=[],ve=0;ve<ae.length;ve++)fe[ve]=ve;return Re.forEach(function(ge){for(var ke=ge[0],Ie=ge[1],Ce=fe.slice(ke,Ie+1),be=Ce.length;be--;)fe[Ie-be]=Ce[be]}),fe}return e.closingToOpeningBracket=E,e.getBidiCharType=f,e.getBidiCharTypeName=p,e.getCanonicalBracket=b,e.getEmbeddingLevels=se,e.getMirroredCharacter=Ee,e.getMirroredCharactersMap=Te,e.getReorderSegments=de,e.getReorderedIndices=Be,e.getReorderedString=ye,e.openingToClosingBracket=I,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}var Ou=k1;var Ta=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Ba(i){let e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(o,r){let t=au[r];return t?Ba(t):o}return i.replace(e,n)}var dt=[];for(let i=0;i<256;i++)dt[i]=(i<16?"0":"")+i.toString(16);function Q1(){let i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(dt[i&255]+dt[i>>8&255]+dt[i>>16&255]+dt[i>>24&255]+"-"+dt[e&255]+dt[e>>8&255]+"-"+dt[e>>16&15|64]+dt[e>>24&255]+"-"+dt[n&63|128]+dt[n>>8&255]+"-"+dt[n>>16&255]+dt[n>>24&255]+dt[o&255]+dt[o>>8&255]+dt[o>>16&255]+dt[o>>24&255]).toUpperCase()}var Wr=Object.assign||function(){let i=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let o=arguments[e];if(o)for(let r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},U1=Date.now(),Nu=new WeakMap,Gu=new Map,L1=1e10;function Si(i,e){let n=z1(e),o=Nu.get(i);if(o||Nu.set(i,o=Object.create(null)),o[n])return new o[n];let r=`_onBeforeCompile${n}`,t=function(l,u){i.onBeforeCompile.call(this,l,u);let h=this.customProgramCacheKey()+"|"+l.vertexShader+"|"+l.fragmentShader,f=Gu[h];if(!f){let p=O1(this,l,e,n);f=Gu[h]=p}l.vertexShader=f.vertexShader,l.fragmentShader=f.fragmentShader,Wr(l.uniforms,this.uniforms),e.timeUniform&&(l.uniforms[e.timeUniform]={get value(){return Date.now()-U1}}),this[r]&&this[r](l)},A=function(){return a(e.chained?i:i.clone())},a=function(l){let u=Object.create(l,c);return Object.defineProperty(u,"baseMaterial",{value:i}),Object.defineProperty(u,"id",{value:L1++}),u.uuid=Q1(),u.uniforms=Wr({},l.uniforms,e.uniforms),u.defines=Wr({},l.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=Wr({},l.extensions,e.extensions),u._listeners=void 0,u},c={constructor:{value:A},isDerivedMaterial:{value:!0},isDerivedFrom:{writable:!0,configurable:!0,value:function(l){let u=this.baseMaterial;return l===u||u.isDerivedMaterial&&u.isDerivedFrom(l)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return i.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return t},set(l){this[r]=l}},copy:{writable:!0,configurable:!0,value:function(l){return i.copy.call(this,l),!i.isShaderMaterial&&!i.isDerivedMaterial&&(Wr(this.extensions,l.extensions),Wr(this.defines,l.defines),Wr(this.uniforms,su.clone(l.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let l=new i.constructor;return a(l).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let l=this._depthMaterial;return l||(l=this._depthMaterial=Si(i.isDerivedMaterial?i.getDepthMaterial():new lu({depthPacking:iu}),e),l.defines.IS_DEPTH_MATERIAL="",l.uniforms=this.uniforms),l}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let l=this._distanceMaterial;return l||(l=this._distanceMaterial=Si(i.isDerivedMaterial?i.getDistanceMaterial():new uu,e),l.defines.IS_DISTANCE_MATERIAL="",l.uniforms=this.uniforms),l}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:l,_distanceMaterial:u}=this;l&&l.dispose(),u&&u.dispose(),i.dispose.call(this)}}};return o[n]=A,new A}function O1(i,{vertexShader:e,fragmentShader:n},o,r){let{vertexDefs:t,vertexMainIntro:A,vertexMainOutro:a,vertexTransform:c,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:h,fragmentColorTransform:f,customRewriter:p,timeUniform:g}=o;if(t=t||"",A=A||"",a=a||"",l=l||"",u=u||"",h=h||"",(c||p)&&(e=Ba(e)),(f||p)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=Ba(n)),p){let w=p({vertexShader:e,fragmentShader:n});e=w.vertexShader,n=w.fragmentShader}if(f){let w=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(w.push(y),"")),h=`${f}
${w.join(`
`)}
${h}`}if(g){let w=`
uniform float ${g};
`;t=w+t,l=w+l}return c&&(e=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${e}
`,t=`${t}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,A=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${A}
`,e=e.replace(/\b(position|normal|uv)\b/g,(w,y,C,m)=>/\battribute\s+vec[23]\s+$/.test(m.substr(0,C))?y:`troika_${y}_${r}`),i.map&&i.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),e=zu(e,r,t,A,a),n=zu(n,r,l,u,h),{vertexShader:e,fragmentShader:n}}function zu(i,e,n,o,r){return(o||r||n)&&(i=i.replace(Ta,`
${n}
void troikaOrigMain${e}() {`),i+=`
void main() {
  ${o}
  troikaOrigMain${e}();
  ${r}
}`),i}function N1(i,e){return i==="uniforms"?void 0:typeof e=="function"?e.toString():e}var G1=0,Hu=new Map;function z1(i){let e=JSON.stringify(i,N1),n=Hu.get(e);return n==null&&Hu.set(e,n=++G1),n}function H1(){return typeof window>"u"&&(self.window=self),function(i){var e={parse:function(r){var t=e._bin,A=new Uint8Array(r);if(t.readASCII(A,0,4)=="ttcf"){var a=4;t.readUshort(A,a),a+=2,t.readUshort(A,a),a+=2;var c=t.readUint(A,a);a+=4;for(var l=[],u=0;u<c;u++){var h=t.readUint(A,a);a+=4,l.push(e._readFont(A,h))}return l}return[e._readFont(A,0)]},_readFont:function(r,t){var A=e._bin,a=t;A.readFixed(r,t),t+=4;var c=A.readUshort(r,t);t+=2,A.readUshort(r,t),t+=2,A.readUshort(r,t),t+=2,A.readUshort(r,t),t+=2;for(var l=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:r,_offset:a},h={},f=0;f<c;f++){var p=A.readASCII(r,t,4);t+=4,A.readUint(r,t),t+=4;var g=A.readUint(r,t);t+=4;var w=A.readUint(r,t);t+=4,h[p]={offset:g,length:w}}for(f=0;f<l.length;f++){var y=l[f];h[y]&&(u[y.trim()]=e[y.trim()].parse(r,h[y].offset,h[y].length,u))}return u},_tabOffset:function(r,t,A){for(var a=e._bin,c=a.readUshort(r,A+4),l=A+12,u=0;u<c;u++){var h=a.readASCII(r,l,4);l+=4,a.readUint(r,l),l+=4;var f=a.readUint(r,l);if(l+=4,a.readUint(r,l),l+=4,h==t)return f}return 0}};e._bin={readFixed:function(r,t){return(r[t]<<8|r[t+1])+(r[t+2]<<8|r[t+3])/65540},readF2dot14:function(r,t){return e._bin.readShort(r,t)/16384},readInt:function(r,t){return e._bin._view(r).getInt32(t)},readInt8:function(r,t){return e._bin._view(r).getInt8(t)},readShort:function(r,t){return e._bin._view(r).getInt16(t)},readUshort:function(r,t){return e._bin._view(r).getUint16(t)},readUshorts:function(r,t,A){for(var a=[],c=0;c<A;c++)a.push(e._bin.readUshort(r,t+2*c));return a},readUint:function(r,t){return e._bin._view(r).getUint32(t)},readUint64:function(r,t){return 4294967296*e._bin.readUint(r,t)+e._bin.readUint(r,t+4)},readASCII:function(r,t,A){for(var a="",c=0;c<A;c++)a+=String.fromCharCode(r[t+c]);return a},readUnicode:function(r,t,A){for(var a="",c=0;c<A;c++){var l=r[t++]<<8|r[t++];a+=String.fromCharCode(l)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,t,A){var a=e._bin._tdec;return a&&t==0&&A==r.length?a.decode(r):e._bin.readASCII(r,t,A)},readBytes:function(r,t,A){for(var a=[],c=0;c<A;c++)a.push(r[t+c]);return a},readASCIIArray:function(r,t,A){for(var a=[],c=0;c<A;c++)a.push(String.fromCharCode(r[t+c]));return a},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},e._lctf={},e._lctf.parse=function(r,t,A,a,c){var l=e._bin,u={},h=t;l.readFixed(r,t),t+=4;var f=l.readUshort(r,t);t+=2;var p=l.readUshort(r,t);t+=2;var g=l.readUshort(r,t);return t+=2,u.scriptList=e._lctf.readScriptList(r,h+f),u.featureList=e._lctf.readFeatureList(r,h+p),u.lookupList=e._lctf.readLookupList(r,h+g,c),u},e._lctf.readLookupList=function(r,t,A){var a=e._bin,c=t,l=[],u=a.readUshort(r,t);t+=2;for(var h=0;h<u;h++){var f=a.readUshort(r,t);t+=2;var p=e._lctf.readLookupTable(r,c+f,A);l.push(p)}return l},e._lctf.readLookupTable=function(r,t,A){var a=e._bin,c=t,l={tabs:[]};l.ltype=a.readUshort(r,t),t+=2,l.flag=a.readUshort(r,t),t+=2;var u=a.readUshort(r,t);t+=2;for(var h=l.ltype,f=0;f<u;f++){var p=a.readUshort(r,t);t+=2;var g=A(r,h,c+p,l);l.tabs.push(g)}return l},e._lctf.numOfOnes=function(r){for(var t=0,A=0;A<32;A++)r>>>A&1&&t++;return t},e._lctf.readClassDef=function(r,t){var A=e._bin,a=[],c=A.readUshort(r,t);if(t+=2,c==1){var l=A.readUshort(r,t);t+=2;var u=A.readUshort(r,t);t+=2;for(var h=0;h<u;h++)a.push(l+h),a.push(l+h),a.push(A.readUshort(r,t)),t+=2}if(c==2){var f=A.readUshort(r,t);for(t+=2,h=0;h<f;h++)a.push(A.readUshort(r,t)),t+=2,a.push(A.readUshort(r,t)),t+=2,a.push(A.readUshort(r,t)),t+=2}return a},e._lctf.getInterval=function(r,t){for(var A=0;A<r.length;A+=3){var a=r[A],c=r[A+1];if(r[A+2],a<=t&&t<=c)return A}return-1},e._lctf.readCoverage=function(r,t){var A=e._bin,a={};a.fmt=A.readUshort(r,t),t+=2;var c=A.readUshort(r,t);return t+=2,a.fmt==1&&(a.tab=A.readUshorts(r,t,c)),a.fmt==2&&(a.tab=A.readUshorts(r,t,3*c)),a},e._lctf.coverageIndex=function(r,t){var A=r.tab;if(r.fmt==1)return A.indexOf(t);if(r.fmt==2){var a=e._lctf.getInterval(A,t);if(a!=-1)return A[a+2]+(t-A[a])}return-1},e._lctf.readFeatureList=function(r,t){var A=e._bin,a=t,c=[],l=A.readUshort(r,t);t+=2;for(var u=0;u<l;u++){var h=A.readASCII(r,t,4);t+=4;var f=A.readUshort(r,t);t+=2;var p=e._lctf.readFeatureTable(r,a+f);p.tag=h.trim(),c.push(p)}return c},e._lctf.readFeatureTable=function(r,t){var A=e._bin,a=t,c={},l=A.readUshort(r,t);t+=2,l>0&&(c.featureParams=a+l);var u=A.readUshort(r,t);t+=2,c.tab=[];for(var h=0;h<u;h++)c.tab.push(A.readUshort(r,t+2*h));return c},e._lctf.readScriptList=function(r,t){var A=e._bin,a=t,c={},l=A.readUshort(r,t);t+=2;for(var u=0;u<l;u++){var h=A.readASCII(r,t,4);t+=4;var f=A.readUshort(r,t);t+=2,c[h.trim()]=e._lctf.readScriptTable(r,a+f)}return c},e._lctf.readScriptTable=function(r,t){var A=e._bin,a=t,c={},l=A.readUshort(r,t);t+=2,l>0&&(c.default=e._lctf.readLangSysTable(r,a+l));var u=A.readUshort(r,t);t+=2;for(var h=0;h<u;h++){var f=A.readASCII(r,t,4);t+=4;var p=A.readUshort(r,t);t+=2,c[f.trim()]=e._lctf.readLangSysTable(r,a+p)}return c},e._lctf.readLangSysTable=function(r,t){var A=e._bin,a={};A.readUshort(r,t),t+=2,a.reqFeature=A.readUshort(r,t),t+=2;var c=A.readUshort(r,t);return t+=2,a.features=A.readUshorts(r,t,c),a},e.CFF={},e.CFF.parse=function(r,t,A){var a=e._bin;(r=new Uint8Array(r.buffer,t,A))[t=0],r[++t],r[++t],r[++t],t++;var c=[];t=e.CFF.readIndex(r,t,c);for(var l=[],u=0;u<c.length-1;u++)l.push(a.readASCII(r,t+c[u],c[u+1]-c[u]));t+=c[c.length-1];var h=[];t=e.CFF.readIndex(r,t,h);var f=[];for(u=0;u<h.length-1;u++)f.push(e.CFF.readDict(r,t+h[u],t+h[u+1]));t+=h[h.length-1];var p=f[0],g=[];t=e.CFF.readIndex(r,t,g);var w=[];for(u=0;u<g.length-1;u++)w.push(a.readASCII(r,t+g[u],g[u+1]-g[u]));if(t+=g[g.length-1],e.CFF.readSubrs(r,t,p),p.CharStrings){t=p.CharStrings,g=[],t=e.CFF.readIndex(r,t,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(r,t+g[u],g[u+1]-g[u]));p.CharStrings=y}if(p.ROS){t=p.FDArray;var C=[];for(t=e.CFF.readIndex(r,t,C),p.FDArray=[],u=0;u<C.length-1;u++){var m=e.CFF.readDict(r,t+C[u],t+C[u+1]);e.CFF._readFDict(r,m,w),p.FDArray.push(m)}t+=C[C.length-1],t=p.FDSelect,p.FDSelect=[];var v=r[t];if(t++,v!=3)throw v;var I=a.readUshort(r,t);for(t+=2,u=0;u<I+1;u++)p.FDSelect.push(a.readUshort(r,t),r[t+2]),t+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(r,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(r,p.charset,p.CharStrings.length)),e.CFF._readFDict(r,p,w),p},e.CFF._readFDict=function(r,t,A){var a;for(var c in t.Private&&(a=t.Private[1],t.Private=e.CFF.readDict(r,a,a+t.Private[0]),t.Private.Subrs&&e.CFF.readSubrs(r,a+t.Private.Subrs,t.Private)),t)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)!=-1&&(t[c]=A[t[c]-426+35])},e.CFF.readSubrs=function(r,t,A){var a=e._bin,c=[];t=e.CFF.readIndex(r,t,c);var l,u=c.length;l=u<1240?107:u<33900?1131:32768,A.Bias=l,A.Subrs=[];for(var h=0;h<c.length-1;h++)A.Subrs.push(a.readBytes(r,t+c[h],c[h+1]-c[h]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(r,t){for(var A=0;A<r.charset.length;A++)if(r.charset[A]==t)return A;return-1},e.CFF.glyphBySE=function(r,t){return t<0||t>255?-1:e.CFF.glyphByUnicode(r,e.CFF.tableSE[t])},e.CFF.readEncoding=function(r,t,A){e._bin;var a=[".notdef"],c=r[t];if(t++,c!=0)throw"error: unknown encoding format: "+c;var l=r[t];t++;for(var u=0;u<l;u++)a.push(r[t+u]);return a},e.CFF.readCharset=function(r,t,A){var a=e._bin,c=[".notdef"],l=r[t];if(t++,l==0)for(var u=0;u<A;u++){var h=a.readUshort(r,t);t+=2,c.push(h)}else{if(l!=1&&l!=2)throw"error: format: "+l;for(;c.length<A;){h=a.readUshort(r,t),t+=2;var f=0;for(l==1?(f=r[t],t++):(f=a.readUshort(r,t),t+=2),u=0;u<=f;u++)c.push(h),h++}}return c},e.CFF.readIndex=function(r,t,A){var a=e._bin,c=a.readUshort(r,t)+1,l=r[t+=2];if(t++,l==1)for(var u=0;u<c;u++)A.push(r[t+u]);else if(l==2)for(u=0;u<c;u++)A.push(a.readUshort(r,t+2*u));else if(l==3)for(u=0;u<c;u++)A.push(16777215&a.readUint(r,t+3*u-1));else if(c!=1)throw"unsupported offset size: "+l+", count: "+c;return(t+=c*l)-1},e.CFF.getCharString=function(r,t,A){var a=e._bin,c=r[t],l=r[t+1];r[t+2],r[t+3],r[t+4];var u=1,h=null,f=null;c<=20&&(h=c,u=1),c==12&&(h=100*c+l,u=2),21<=c&&c<=27&&(h=c,u=1),c==28&&(f=a.readShort(r,t+1),u=3),29<=c&&c<=31&&(h=c,u=1),32<=c&&c<=246&&(f=c-139,u=1),247<=c&&c<=250&&(f=256*(c-247)+l+108,u=2),251<=c&&c<=254&&(f=256*-(c-251)-l-108,u=2),c==255&&(f=a.readInt(r,t+1)/65535,u=5),A.val=f??"o"+h,A.size=u},e.CFF.readCharString=function(r,t,A){for(var a=t+A,c=e._bin,l=[];t<a;){var u=r[t],h=r[t+1];r[t+2],r[t+3],r[t+4];var f=1,p=null,g=null;u<=20&&(p=u,f=1),u==12&&(p=100*u+h,f=2),u!=19&&u!=20||(p=u,f=2),21<=u&&u<=27&&(p=u,f=1),u==28&&(g=c.readShort(r,t+1),f=3),29<=u&&u<=31&&(p=u,f=1),32<=u&&u<=246&&(g=u-139,f=1),247<=u&&u<=250&&(g=256*(u-247)+h+108,f=2),251<=u&&u<=254&&(g=256*-(u-251)-h-108,f=2),u==255&&(g=c.readInt(r,t+1)/65535,f=5),l.push(g??"o"+p),t+=f}return l},e.CFF.readDict=function(r,t,A){for(var a=e._bin,c={},l=[];t<A;){var u=r[t],h=r[t+1];r[t+2],r[t+3],r[t+4];var f=1,p=null,g=null;if(u==28&&(g=a.readShort(r,t+1),f=3),u==29&&(g=a.readInt(r,t+1),f=5),32<=u&&u<=246&&(g=u-139,f=1),247<=u&&u<=250&&(g=256*(u-247)+h+108,f=2),251<=u&&u<=254&&(g=256*-(u-251)-h-108,f=2),u==255)throw g=a.readInt(r,t+1)/65535,f=5,"unknown number";if(u==30){var w=[];for(f=1;;){var y=r[t+f];f++;var C=y>>4,m=15&y;if(C!=15&&w.push(C),m!=15&&w.push(m),m==15)break}for(var v="",I=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<w.length;E++)v+=I[w[E]];g=parseFloat(v)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],f=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][h],f=2)),p!=null?(c[p]=l.length==1?l[0]:l,l=[]):l.push(g),t+=f}return c},e.cmap={},e.cmap.parse=function(r,t,A){r=new Uint8Array(r.buffer,t,A),t=0;var a=e._bin,c={};a.readUshort(r,t),t+=2;var l=a.readUshort(r,t);t+=2;var u=[];c.tables=[];for(var h=0;h<l;h++){var f=a.readUshort(r,t);t+=2;var p=a.readUshort(r,t);t+=2;var g=a.readUint(r,t);t+=4;var w="p"+f+"e"+p,y=u.indexOf(g);if(y==-1){var C;y=c.tables.length,u.push(g);var m=a.readUshort(r,g);m==0?C=e.cmap.parse0(r,g):m==4?C=e.cmap.parse4(r,g):m==6?C=e.cmap.parse6(r,g):m==12?C=e.cmap.parse12(r,g):console.debug("unknown format: "+m,f,p,g),c.tables.push(C)}if(c[w]!=null)throw"multiple tables for one platform+encoding";c[w]=y}return c},e.cmap.parse0=function(r,t){var A=e._bin,a={};a.format=A.readUshort(r,t),t+=2;var c=A.readUshort(r,t);t+=2,A.readUshort(r,t),t+=2,a.map=[];for(var l=0;l<c-6;l++)a.map.push(r[t+l]);return a},e.cmap.parse4=function(r,t){var A=e._bin,a=t,c={};c.format=A.readUshort(r,t),t+=2;var l=A.readUshort(r,t);t+=2,A.readUshort(r,t),t+=2;var u=A.readUshort(r,t);t+=2;var h=u/2;c.searchRange=A.readUshort(r,t),t+=2,c.entrySelector=A.readUshort(r,t),t+=2,c.rangeShift=A.readUshort(r,t),t+=2,c.endCount=A.readUshorts(r,t,h),t+=2*h,t+=2,c.startCount=A.readUshorts(r,t,h),t+=2*h,c.idDelta=[];for(var f=0;f<h;f++)c.idDelta.push(A.readShort(r,t)),t+=2;for(c.idRangeOffset=A.readUshorts(r,t,h),t+=2*h,c.glyphIdArray=[];t<a+l;)c.glyphIdArray.push(A.readUshort(r,t)),t+=2;return c},e.cmap.parse6=function(r,t){var A=e._bin,a={};a.format=A.readUshort(r,t),t+=2,A.readUshort(r,t),t+=2,A.readUshort(r,t),t+=2,a.firstCode=A.readUshort(r,t),t+=2;var c=A.readUshort(r,t);t+=2,a.glyphIdArray=[];for(var l=0;l<c;l++)a.glyphIdArray.push(A.readUshort(r,t)),t+=2;return a},e.cmap.parse12=function(r,t){var A=e._bin,a={};a.format=A.readUshort(r,t),t+=2,t+=2,A.readUint(r,t),t+=4,A.readUint(r,t),t+=4;var c=A.readUint(r,t);t+=4,a.groups=[];for(var l=0;l<c;l++){var u=t+12*l,h=A.readUint(r,u+0),f=A.readUint(r,u+4),p=A.readUint(r,u+8);a.groups.push([h,f,p])}return a},e.glyf={},e.glyf.parse=function(r,t,A,a){for(var c=[],l=0;l<a.maxp.numGlyphs;l++)c.push(null);return c},e.glyf._parseGlyf=function(r,t){var A=e._bin,a=r._data,c=e._tabOffset(a,"glyf",r._offset)+r.loca[t];if(r.loca[t]==r.loca[t+1])return null;var l={};if(l.noc=A.readShort(a,c),c+=2,l.xMin=A.readShort(a,c),c+=2,l.yMin=A.readShort(a,c),c+=2,l.xMax=A.readShort(a,c),c+=2,l.yMax=A.readShort(a,c),c+=2,l.xMin>=l.xMax||l.yMin>=l.yMax)return null;if(l.noc>0){l.endPts=[];for(var u=0;u<l.noc;u++)l.endPts.push(A.readUshort(a,c)),c+=2;var h=A.readUshort(a,c);if(c+=2,a.length-c<h)return null;l.instructions=A.readBytes(a,c,h),c+=h;var f=l.endPts[l.noc-1]+1;for(l.flags=[],u=0;u<f;u++){var p=a[c];if(c++,l.flags.push(p),(8&p)!=0){var g=a[c];c++;for(var w=0;w<g;w++)l.flags.push(p),u++}}for(l.xs=[],u=0;u<f;u++){var y=(2&l.flags[u])!=0,C=(16&l.flags[u])!=0;y?(l.xs.push(C?a[c]:-a[c]),c++):C?l.xs.push(0):(l.xs.push(A.readShort(a,c)),c+=2)}for(l.ys=[],u=0;u<f;u++)y=(4&l.flags[u])!=0,C=(32&l.flags[u])!=0,y?(l.ys.push(C?a[c]:-a[c]),c++):C?l.ys.push(0):(l.ys.push(A.readShort(a,c)),c+=2);var m=0,v=0;for(u=0;u<f;u++)m+=l.xs[u],v+=l.ys[u],l.xs[u]=m,l.ys[u]=v}else{var I;l.parts=[];do{I=A.readUshort(a,c),c+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(l.parts.push(E),E.glyphIndex=A.readUshort(a,c),c+=2,1&I){var b=A.readShort(a,c);c+=2;var B=A.readShort(a,c);c+=2}else b=A.readInt8(a,c),c++,B=A.readInt8(a,c),c++;2&I?(E.m.tx=b,E.m.ty=B):(E.p1=b,E.p2=B),8&I?(E.m.a=E.m.d=A.readF2dot14(a,c),c+=2):64&I?(E.m.a=A.readF2dot14(a,c),c+=2,E.m.d=A.readF2dot14(a,c),c+=2):128&I&&(E.m.a=A.readF2dot14(a,c),c+=2,E.m.b=A.readF2dot14(a,c),c+=2,E.m.c=A.readF2dot14(a,c),c+=2,E.m.d=A.readF2dot14(a,c),c+=2)}while(32&I);if(256&I){var T=A.readUshort(a,c);for(c+=2,l.instr=[],u=0;u<T;u++)l.instr.push(a[c]),c++}}return l},e.GDEF={},e.GDEF.parse=function(r,t,A,a){var c=t;t+=4;var l=e._bin.readUshort(r,t);return{glyphClassDef:l===0?null:e._lctf.readClassDef(r,c+l)}},e.GPOS={},e.GPOS.parse=function(r,t,A,a){return e._lctf.parse(r,t,A,a,e.GPOS.subt)},e.GPOS.subt=function(r,t,A,a){var c=e._bin,l=A,u={};if(u.fmt=c.readUshort(r,A),A+=2,t==1||t==2||t==3||t==7||t==8&&u.fmt<=2){var h=c.readUshort(r,A);A+=2,u.coverage=e._lctf.readCoverage(r,h+l)}if(t==1&&u.fmt==1){var f=c.readUshort(r,A);A+=2,f!=0&&(u.pos=e.GPOS.readValueRecord(r,A,f))}else if(t==2&&u.fmt>=1&&u.fmt<=2){f=c.readUshort(r,A),A+=2;var p=c.readUshort(r,A);A+=2;var g=e._lctf.numOfOnes(f),w=e._lctf.numOfOnes(p);if(u.fmt==1){u.pairsets=[];var y=c.readUshort(r,A);A+=2;for(var C=0;C<y;C++){var m=l+c.readUshort(r,A);A+=2;var v=c.readUshort(r,m);m+=2;for(var I=[],E=0;E<v;E++){var b=c.readUshort(r,m);m+=2,f!=0&&(M=e.GPOS.readValueRecord(r,m,f),m+=2*g),p!=0&&(F=e.GPOS.readValueRecord(r,m,p),m+=2*w),I.push({gid2:b,val1:M,val2:F})}u.pairsets.push(I)}}if(u.fmt==2){var B=c.readUshort(r,A);A+=2;var T=c.readUshort(r,A);A+=2;var S=c.readUshort(r,A);A+=2;var R=c.readUshort(r,A);for(A+=2,u.classDef1=e._lctf.readClassDef(r,l+B),u.classDef2=e._lctf.readClassDef(r,l+T),u.matrix=[],C=0;C<S;C++){var Q=[];for(E=0;E<R;E++){var M=null,F=null;f!=0&&(M=e.GPOS.readValueRecord(r,A,f),A+=2*g),p!=0&&(F=e.GPOS.readValueRecord(r,A,p),A+=2*w),Q.push({val1:M,val2:F})}u.matrix.push(Q)}}}else if(t==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(r,c.readUshort(r,A)+l),u.baseCoverage=e._lctf.readCoverage(r,c.readUshort(r,A+2)+l),u.markClassCount=c.readUshort(r,A+4),u.markArray=e.GPOS.readMarkArray(r,c.readUshort(r,A+6)+l),u.baseArray=e.GPOS.readBaseArray(r,c.readUshort(r,A+8)+l,u.markClassCount);else if(t==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(r,c.readUshort(r,A)+l),u.mark2Coverage=e._lctf.readCoverage(r,c.readUshort(r,A+2)+l),u.markClassCount=c.readUshort(r,A+4),u.mark1Array=e.GPOS.readMarkArray(r,c.readUshort(r,A+6)+l),u.mark2Array=e.GPOS.readBaseArray(r,c.readUshort(r,A+8)+l,u.markClassCount);else{if(t==9&&u.fmt==1){var k=c.readUshort(r,A);A+=2;var Y=c.readUint(r,A);if(A+=4,a.ltype==9)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return e.GPOS.subt(r,a.ltype,l+Y)}console.debug("unsupported GPOS table LookupType",t,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(r,t,A){var a=e._bin,c=[];return c.push(1&A?a.readShort(r,t):0),t+=1&A?2:0,c.push(2&A?a.readShort(r,t):0),t+=2&A?2:0,c.push(4&A?a.readShort(r,t):0),t+=4&A?2:0,c.push(8&A?a.readShort(r,t):0),t+=8&A?2:0,c},e.GPOS.readBaseArray=function(r,t,A){var a=e._bin,c=[],l=t,u=a.readUshort(r,t);t+=2;for(var h=0;h<u;h++){for(var f=[],p=0;p<A;p++)f.push(e.GPOS.readAnchorRecord(r,l+a.readUshort(r,t))),t+=2;c.push(f)}return c},e.GPOS.readMarkArray=function(r,t){var A=e._bin,a=[],c=t,l=A.readUshort(r,t);t+=2;for(var u=0;u<l;u++){var h=e.GPOS.readAnchorRecord(r,A.readUshort(r,t+2)+c);h.markClass=A.readUshort(r,t),a.push(h),t+=4}return a},e.GPOS.readAnchorRecord=function(r,t){var A=e._bin,a={};return a.fmt=A.readUshort(r,t),a.x=A.readShort(r,t+2),a.y=A.readShort(r,t+4),a},e.GSUB={},e.GSUB.parse=function(r,t,A,a){return e._lctf.parse(r,t,A,a,e.GSUB.subt)},e.GSUB.subt=function(r,t,A,a){var c=e._bin,l=A,u={};if(u.fmt=c.readUshort(r,A),A+=2,t!=1&&t!=2&&t!=4&&t!=5&&t!=6)return null;if(t==1||t==2||t==4||t==5&&u.fmt<=2||t==6&&u.fmt<=2){var h=c.readUshort(r,A);A+=2,u.coverage=e._lctf.readCoverage(r,l+h)}if(t==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=c.readShort(r,A),A+=2;else if(u.fmt==2){var f=c.readUshort(r,A);A+=2,u.newg=c.readUshorts(r,A,f),A+=2*u.newg.length}}else if(t==2&&u.fmt==1){f=c.readUshort(r,A),A+=2,u.seqs=[];for(var p=0;p<f;p++){var g=c.readUshort(r,A)+l;A+=2;var w=c.readUshort(r,g);u.seqs.push(c.readUshorts(r,g+2,w))}}else if(t==4)for(u.vals=[],f=c.readUshort(r,A),A+=2,p=0;p<f;p++){var y=c.readUshort(r,A);A+=2,u.vals.push(e.GSUB.readLigatureSet(r,l+y))}else if(t==5&&u.fmt==2){if(u.fmt==2){var C=c.readUshort(r,A);A+=2,u.cDef=e._lctf.readClassDef(r,l+C),u.scset=[];var m=c.readUshort(r,A);for(A+=2,p=0;p<m;p++){var v=c.readUshort(r,A);A+=2,u.scset.push(v==0?null:e.GSUB.readSubClassSet(r,l+v))}}}else if(t==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){f=c.readUshort(r,A),A+=2;for(var I=[],E=0;E<f;E++)I.push(e._lctf.readCoverage(r,l+c.readUshort(r,A+2*E)));A+=2*f,p==0&&(u.backCvg=I),p==1&&(u.inptCvg=I),p==2&&(u.ahedCvg=I)}f=c.readUshort(r,A),A+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(r,A,f)}}else{if(t==7&&u.fmt==1){var b=c.readUshort(r,A);A+=2;var B=c.readUint(r,A);if(A+=4,a.ltype==9)a.ltype=b;else if(a.ltype!=b)throw"invalid extension substitution";return e.GSUB.subt(r,a.ltype,l+B)}console.debug("unsupported GSUB table LookupType",t,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(r,t){var A=e._bin.readUshort,a=t,c=[],l=A(r,t);t+=2;for(var u=0;u<l;u++){var h=A(r,t);t+=2,c.push(e.GSUB.readSubClassRule(r,a+h))}return c},e.GSUB.readSubClassRule=function(r,t){var A=e._bin.readUshort,a={},c=A(r,t),l=A(r,t+=2);t+=2,a.input=[];for(var u=0;u<c-1;u++)a.input.push(A(r,t)),t+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(r,t,l),a},e.GSUB.readSubstLookupRecords=function(r,t,A){for(var a=e._bin.readUshort,c=[],l=0;l<A;l++)c.push(a(r,t),a(r,t+2)),t+=4;return c},e.GSUB.readChainSubClassSet=function(r,t){var A=e._bin,a=t,c=[],l=A.readUshort(r,t);t+=2;for(var u=0;u<l;u++){var h=A.readUshort(r,t);t+=2,c.push(e.GSUB.readChainSubClassRule(r,a+h))}return c},e.GSUB.readChainSubClassRule=function(r,t){for(var A=e._bin,a={},c=["backtrack","input","lookahead"],l=0;l<c.length;l++){var u=A.readUshort(r,t);t+=2,l==1&&u--,a[c[l]]=A.readUshorts(r,t,u),t+=2*a[c[l]].length}return u=A.readUshort(r,t),t+=2,a.subst=A.readUshorts(r,t,2*u),t+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(r,t){var A=e._bin,a=t,c=[],l=A.readUshort(r,t);t+=2;for(var u=0;u<l;u++){var h=A.readUshort(r,t);t+=2,c.push(e.GSUB.readLigature(r,a+h))}return c},e.GSUB.readLigature=function(r,t){var A=e._bin,a={chain:[]};a.nglyph=A.readUshort(r,t),t+=2;var c=A.readUshort(r,t);t+=2;for(var l=0;l<c-1;l++)a.chain.push(A.readUshort(r,t)),t+=2;return a},e.head={},e.head.parse=function(r,t,A){var a=e._bin,c={};return a.readFixed(r,t),t+=4,c.fontRevision=a.readFixed(r,t),t+=4,a.readUint(r,t),t+=4,a.readUint(r,t),t+=4,c.flags=a.readUshort(r,t),t+=2,c.unitsPerEm=a.readUshort(r,t),t+=2,c.created=a.readUint64(r,t),t+=8,c.modified=a.readUint64(r,t),t+=8,c.xMin=a.readShort(r,t),t+=2,c.yMin=a.readShort(r,t),t+=2,c.xMax=a.readShort(r,t),t+=2,c.yMax=a.readShort(r,t),t+=2,c.macStyle=a.readUshort(r,t),t+=2,c.lowestRecPPEM=a.readUshort(r,t),t+=2,c.fontDirectionHint=a.readShort(r,t),t+=2,c.indexToLocFormat=a.readShort(r,t),t+=2,c.glyphDataFormat=a.readShort(r,t),t+=2,c},e.hhea={},e.hhea.parse=function(r,t,A){var a=e._bin,c={};return a.readFixed(r,t),t+=4,c.ascender=a.readShort(r,t),t+=2,c.descender=a.readShort(r,t),t+=2,c.lineGap=a.readShort(r,t),t+=2,c.advanceWidthMax=a.readUshort(r,t),t+=2,c.minLeftSideBearing=a.readShort(r,t),t+=2,c.minRightSideBearing=a.readShort(r,t),t+=2,c.xMaxExtent=a.readShort(r,t),t+=2,c.caretSlopeRise=a.readShort(r,t),t+=2,c.caretSlopeRun=a.readShort(r,t),t+=2,c.caretOffset=a.readShort(r,t),t+=2,t+=8,c.metricDataFormat=a.readShort(r,t),t+=2,c.numberOfHMetrics=a.readUshort(r,t),t+=2,c},e.hmtx={},e.hmtx.parse=function(r,t,A,a){for(var c=e._bin,l={aWidth:[],lsBearing:[]},u=0,h=0,f=0;f<a.maxp.numGlyphs;f++)f<a.hhea.numberOfHMetrics&&(u=c.readUshort(r,t),t+=2,h=c.readShort(r,t),t+=2),l.aWidth.push(u),l.lsBearing.push(h);return l},e.kern={},e.kern.parse=function(r,t,A,a){var c=e._bin,l=c.readUshort(r,t);if(t+=2,l==1)return e.kern.parseV1(r,t-2,A,a);var u=c.readUshort(r,t);t+=2;for(var h={glyph1:[],rval:[]},f=0;f<u;f++){t+=2,A=c.readUshort(r,t),t+=2;var p=c.readUshort(r,t);t+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;t=e.kern.readFormat0(r,t,h)}return h},e.kern.parseV1=function(r,t,A,a){var c=e._bin;c.readFixed(r,t),t+=4;var l=c.readUint(r,t);t+=4;for(var u={glyph1:[],rval:[]},h=0;h<l;h++){c.readUint(r,t),t+=4;var f=c.readUshort(r,t);t+=2,c.readUshort(r,t),t+=2;var p=f>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;t=e.kern.readFormat0(r,t,u)}return u},e.kern.readFormat0=function(r,t,A){var a=e._bin,c=-1,l=a.readUshort(r,t);t+=2,a.readUshort(r,t),t+=2,a.readUshort(r,t),t+=2,a.readUshort(r,t),t+=2;for(var u=0;u<l;u++){var h=a.readUshort(r,t);t+=2;var f=a.readUshort(r,t);t+=2;var p=a.readShort(r,t);t+=2,h!=c&&(A.glyph1.push(h),A.rval.push({glyph2:[],vals:[]}));var g=A.rval[A.rval.length-1];g.glyph2.push(f),g.vals.push(p),c=h}return t},e.loca={},e.loca.parse=function(r,t,A,a){var c=e._bin,l=[],u=a.head.indexToLocFormat,h=a.maxp.numGlyphs+1;if(u==0)for(var f=0;f<h;f++)l.push(c.readUshort(r,t+(f<<1))<<1);if(u==1)for(f=0;f<h;f++)l.push(c.readUint(r,t+(f<<2)));return l},e.maxp={},e.maxp.parse=function(r,t,A){var a=e._bin,c={},l=a.readUint(r,t);return t+=4,c.numGlyphs=a.readUshort(r,t),t+=2,l==65536&&(c.maxPoints=a.readUshort(r,t),t+=2,c.maxContours=a.readUshort(r,t),t+=2,c.maxCompositePoints=a.readUshort(r,t),t+=2,c.maxCompositeContours=a.readUshort(r,t),t+=2,c.maxZones=a.readUshort(r,t),t+=2,c.maxTwilightPoints=a.readUshort(r,t),t+=2,c.maxStorage=a.readUshort(r,t),t+=2,c.maxFunctionDefs=a.readUshort(r,t),t+=2,c.maxInstructionDefs=a.readUshort(r,t),t+=2,c.maxStackElements=a.readUshort(r,t),t+=2,c.maxSizeOfInstructions=a.readUshort(r,t),t+=2,c.maxComponentElements=a.readUshort(r,t),t+=2,c.maxComponentDepth=a.readUshort(r,t),t+=2),c},e.name={},e.name.parse=function(r,t,A){var a=e._bin,c={};a.readUshort(r,t),t+=2;var l=a.readUshort(r,t);t+=2,a.readUshort(r,t);for(var u,h=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=t+=2,p=0;p<l;p++){var g=a.readUshort(r,t);t+=2;var w=a.readUshort(r,t);t+=2;var y=a.readUshort(r,t);t+=2;var C=a.readUshort(r,t);t+=2;var m=a.readUshort(r,t);t+=2;var v=a.readUshort(r,t);t+=2;var I,E=h[C],b=f+12*l+v;if(g==0)I=a.readUnicode(r,b,m/2);else if(g==3&&w==0)I=a.readUnicode(r,b,m/2);else if(w==0)I=a.readASCII(r,b,m);else if(w==1)I=a.readUnicode(r,b,m/2);else if(w==3)I=a.readUnicode(r,b,m/2);else{if(g!=1)throw"unknown encoding "+w+", platformID: "+g;I=a.readASCII(r,b,m),console.debug("reading unknown MAC encoding "+w+" as ASCII")}var B="p"+g+","+y.toString(16);c[B]==null&&(c[B]={}),c[B][E!==void 0?E:C]=I,c[B]._lang=y}for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==1033)return c[T];for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==0)return c[T];for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==3084)return c[T];for(var T in c)if(c[T].postScriptName!=null)return c[T];for(var T in c){u=T;break}return console.debug("returning name table with languageID "+c[u]._lang),c[u]},e["OS/2"]={},e["OS/2"].parse=function(r,t,A){var a=e._bin.readUshort(r,t);t+=2;var c={};if(a==0)e["OS/2"].version0(r,t,c);else if(a==1)e["OS/2"].version1(r,t,c);else if(a==2||a==3||a==4)e["OS/2"].version2(r,t,c);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(r,t,c)}return c},e["OS/2"].version0=function(r,t,A){var a=e._bin;return A.xAvgCharWidth=a.readShort(r,t),t+=2,A.usWeightClass=a.readUshort(r,t),t+=2,A.usWidthClass=a.readUshort(r,t),t+=2,A.fsType=a.readUshort(r,t),t+=2,A.ySubscriptXSize=a.readShort(r,t),t+=2,A.ySubscriptYSize=a.readShort(r,t),t+=2,A.ySubscriptXOffset=a.readShort(r,t),t+=2,A.ySubscriptYOffset=a.readShort(r,t),t+=2,A.ySuperscriptXSize=a.readShort(r,t),t+=2,A.ySuperscriptYSize=a.readShort(r,t),t+=2,A.ySuperscriptXOffset=a.readShort(r,t),t+=2,A.ySuperscriptYOffset=a.readShort(r,t),t+=2,A.yStrikeoutSize=a.readShort(r,t),t+=2,A.yStrikeoutPosition=a.readShort(r,t),t+=2,A.sFamilyClass=a.readShort(r,t),t+=2,A.panose=a.readBytes(r,t,10),t+=10,A.ulUnicodeRange1=a.readUint(r,t),t+=4,A.ulUnicodeRange2=a.readUint(r,t),t+=4,A.ulUnicodeRange3=a.readUint(r,t),t+=4,A.ulUnicodeRange4=a.readUint(r,t),t+=4,A.achVendID=[a.readInt8(r,t),a.readInt8(r,t+1),a.readInt8(r,t+2),a.readInt8(r,t+3)],t+=4,A.fsSelection=a.readUshort(r,t),t+=2,A.usFirstCharIndex=a.readUshort(r,t),t+=2,A.usLastCharIndex=a.readUshort(r,t),t+=2,A.sTypoAscender=a.readShort(r,t),t+=2,A.sTypoDescender=a.readShort(r,t),t+=2,A.sTypoLineGap=a.readShort(r,t),t+=2,A.usWinAscent=a.readUshort(r,t),t+=2,A.usWinDescent=a.readUshort(r,t),t+=2},e["OS/2"].version1=function(r,t,A){var a=e._bin;return t=e["OS/2"].version0(r,t,A),A.ulCodePageRange1=a.readUint(r,t),t+=4,A.ulCodePageRange2=a.readUint(r,t),t+=4},e["OS/2"].version2=function(r,t,A){var a=e._bin;return t=e["OS/2"].version1(r,t,A),A.sxHeight=a.readShort(r,t),t+=2,A.sCapHeight=a.readShort(r,t),t+=2,A.usDefault=a.readUshort(r,t),t+=2,A.usBreak=a.readUshort(r,t),t+=2,A.usMaxContext=a.readUshort(r,t),t+=2},e["OS/2"].version5=function(r,t,A){var a=e._bin;return t=e["OS/2"].version2(r,t,A),A.usLowerOpticalPointSize=a.readUshort(r,t),t+=2,A.usUpperOpticalPointSize=a.readUshort(r,t),t+=2},e.post={},e.post.parse=function(r,t,A){var a=e._bin,c={};return c.version=a.readFixed(r,t),t+=4,c.italicAngle=a.readFixed(r,t),t+=4,c.underlinePosition=a.readShort(r,t),t+=2,c.underlineThickness=a.readShort(r,t),t+=2,c},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(r,t){var A=r.cmap,a=-1;if(A.p0e4!=null?a=A.p0e4:A.p3e1!=null?a=A.p3e1:A.p1e0!=null?a=A.p1e0:A.p0e3!=null&&(a=A.p0e3),a==-1)throw"no familiar platform and encoding!";var c=A.tables[a];if(c.format==0)return t>=c.map.length?0:c.map[t];if(c.format==4){for(var l=-1,u=0;u<c.endCount.length;u++)if(t<=c.endCount[u]){l=u;break}return l==-1||c.startCount[l]>t?0:65535&(c.idRangeOffset[l]!=0?c.glyphIdArray[t-c.startCount[l]+(c.idRangeOffset[l]>>1)-(c.idRangeOffset.length-l)]:t+c.idDelta[l])}if(c.format==12){if(t>c.groups[c.groups.length-1][1])return 0;for(u=0;u<c.groups.length;u++){var h=c.groups[u];if(h[0]<=t&&t<=h[1])return h[2]+(t-h[0])}return 0}throw"unknown cmap table format "+c.format},e.U.glyphToPath=function(r,t){var A={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[t]){var a=r.SVG.entries[t];return a==null?A:(typeof a=="string"&&(a=e.SVG.toPath(a),r.SVG.entries[t]=a),a)}if(r.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},l=r.CFF,u=r.CFF.Private;if(l.ROS){for(var h=0;l.FDSelect[h+2]<=t;)h+=2;u=l.FDArray[l.FDSelect[h+1]].Private}e.U._drawCFF(r.CFF.CharStrings[t],c,l,u,A)}else r.glyf&&e.U._drawGlyf(t,r,A);return A},e.U._drawGlyf=function(r,t,A){var a=t.glyf[r];a==null&&(a=t.glyf[r]=e.glyf._parseGlyf(t,r)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,A):e.U._compoGlyph(a,t,A))},e.U._simpleGlyph=function(r,t){for(var A=0;A<r.noc;A++){for(var a=A==0?0:r.endPts[A-1]+1,c=r.endPts[A],l=a;l<=c;l++){var u=l==a?c:l-1,h=l==c?a:l+1,f=1&r.flags[l],p=1&r.flags[u],g=1&r.flags[h],w=r.xs[l],y=r.ys[l];if(l==a)if(f){if(!p){e.U.P.moveTo(t,w,y);continue}e.U.P.moveTo(t,r.xs[u],r.ys[u])}else p?e.U.P.moveTo(t,r.xs[u],r.ys[u]):e.U.P.moveTo(t,(r.xs[u]+w)/2,(r.ys[u]+y)/2);f?p&&e.U.P.lineTo(t,w,y):g?e.U.P.qcurveTo(t,w,y,r.xs[h],r.ys[h]):e.U.P.qcurveTo(t,w,y,(w+r.xs[h])/2,(y+r.ys[h])/2)}e.U.P.closePath(t)}},e.U._compoGlyph=function(r,t,A){for(var a=0;a<r.parts.length;a++){var c={cmds:[],crds:[]},l=r.parts[a];e.U._drawGlyf(l.glyphIndex,t,c);for(var u=l.m,h=0;h<c.crds.length;h+=2){var f=c.crds[h],p=c.crds[h+1];A.crds.push(f*u.a+p*u.b+u.tx),A.crds.push(f*u.c+p*u.d+u.ty)}for(h=0;h<c.cmds.length;h++)A.cmds.push(c.cmds[h])}},e.U._getGlyphClass=function(r,t){var A=e._lctf.getInterval(t,r);return A==-1?0:t[A+2]},e.U._applySubs=function(r,t,A,a){for(var c=r.length-t-1,l=0;l<A.tabs.length;l++)if(A.tabs[l]!=null){var u,h=A.tabs[l];if(!h.coverage||(u=e._lctf.coverageIndex(h.coverage,r[t]))!=-1){if(A.ltype==1)r[t],h.fmt==1?r[t]=r[t]+h.delta:r[t]=h.newg[u];else if(A.ltype==4)for(var f=h.vals[u],p=0;p<f.length;p++){var g=f[p],w=g.chain.length;if(!(w>c)){for(var y=!0,C=0,m=0;m<w;m++){for(;r[t+C+(1+m)]==-1;)C++;g.chain[m]!=r[t+C+(1+m)]&&(y=!1)}if(y){for(r[t]=g.nglyph,m=0;m<w+C;m++)r[t+m+1]=-1;break}}}else if(A.ltype==5&&h.fmt==2)for(var v=e._lctf.getInterval(h.cDef,r[t]),I=h.cDef[v+2],E=h.scset[I],b=0;b<E.length;b++){var B=E[b],T=B.input;if(!(T.length>c)){for(y=!0,m=0;m<T.length;m++){var S=e._lctf.getInterval(h.cDef,r[t+1+m]);if(v==-1&&h.cDef[S+2]!=T[m]){y=!1;break}}if(y){var R=B.substLookupRecords;for(p=0;p<R.length;p+=2)R[p],R[p+1]}}}else if(A.ltype==6&&h.fmt==3){if(!e.U._glsCovered(r,h.backCvg,t-h.backCvg.length)||!e.U._glsCovered(r,h.inptCvg,t)||!e.U._glsCovered(r,h.ahedCvg,t+h.inptCvg.length))continue;var Q=h.lookupRec;for(b=0;b<Q.length;b+=2){v=Q[b];var M=a[Q[b+1]];e.U._applySubs(r,t+v,M,a)}}}}},e.U._glsCovered=function(r,t,A){for(var a=0;a<t.length;a++)if(e._lctf.coverageIndex(t[a],r[A+a])==-1)return!1;return!0},e.U.glyphsToPath=function(r,t,A){for(var a={cmds:[],crds:[]},c=0,l=0;l<t.length;l++){var u=t[l];if(u!=-1){for(var h=l<t.length-1&&t[l+1]!=-1?t[l+1]:0,f=e.U.glyphToPath(r,u),p=0;p<f.crds.length;p+=2)a.crds.push(f.crds[p]+c),a.crds.push(f.crds[p+1]);for(A&&a.cmds.push(A),p=0;p<f.cmds.length;p++)a.cmds.push(f.cmds[p]);A&&a.cmds.push("X"),c+=r.hmtx.aWidth[u],l<t.length-1&&(c+=e.U.getPairAdjustment(r,u,h))}}return a},e.U.P={},e.U.P.moveTo=function(r,t,A){r.cmds.push("M"),r.crds.push(t,A)},e.U.P.lineTo=function(r,t,A){r.cmds.push("L"),r.crds.push(t,A)},e.U.P.curveTo=function(r,t,A,a,c,l,u){r.cmds.push("C"),r.crds.push(t,A,a,c,l,u)},e.U.P.qcurveTo=function(r,t,A,a,c){r.cmds.push("Q"),r.crds.push(t,A,a,c)},e.U.P.closePath=function(r){r.cmds.push("Z")},e.U._drawCFF=function(r,t,A,a,c){for(var l=t.stack,u=t.nStems,h=t.haveWidth,f=t.width,p=t.open,g=0,w=t.x,y=t.y,C=0,m=0,v=0,I=0,E=0,b=0,B=0,T=0,S=0,R=0,Q={val:0,size:0};g<r.length;){e.CFF.getCharString(r,g,Q);var M=Q.val;if(g+=Q.size,M=="o1"||M=="o18")l.length%2!=0&&!h&&(f=l.shift()+a.nominalWidthX),u+=l.length>>1,l.length=0,h=!0;else if(M=="o3"||M=="o23")l.length%2!=0&&!h&&(f=l.shift()+a.nominalWidthX),u+=l.length>>1,l.length=0,h=!0;else if(M=="o4")l.length>1&&!h&&(f=l.shift()+a.nominalWidthX,h=!0),p&&e.U.P.closePath(c),y+=l.pop(),e.U.P.moveTo(c,w,y),p=!0;else if(M=="o5")for(;l.length>0;)w+=l.shift(),y+=l.shift(),e.U.P.lineTo(c,w,y);else if(M=="o6"||M=="o7")for(var F=l.length,k=M=="o6",Y=0;Y<F;Y++){var U=l.shift();k?w+=U:y+=U,k=!k,e.U.P.lineTo(c,w,y)}else if(M=="o8"||M=="o24"){F=l.length;for(var K=0;K+6<=F;)C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),w=v+l.shift(),y=I+l.shift(),e.U.P.curveTo(c,C,m,v,I,w,y),K+=6;M=="o24"&&(w+=l.shift(),y+=l.shift(),e.U.P.lineTo(c,w,y))}else{if(M=="o11")break;if(M=="o1234"||M=="o1235"||M=="o1236"||M=="o1237")M=="o1234"&&(m=y,v=(C=w+l.shift())+l.shift(),R=I=m+l.shift(),b=I,T=y,w=(B=(E=(S=v+l.shift())+l.shift())+l.shift())+l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,b,B,T,w,y)),M=="o1235"&&(C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),S=v+l.shift(),R=I+l.shift(),E=S+l.shift(),b=R+l.shift(),B=E+l.shift(),T=b+l.shift(),w=B+l.shift(),y=T+l.shift(),l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,b,B,T,w,y)),M=="o1236"&&(C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),R=I=m+l.shift(),b=I,B=(E=(S=v+l.shift())+l.shift())+l.shift(),T=b+l.shift(),w=B+l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,b,B,T,w,y)),M=="o1237"&&(C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),S=v+l.shift(),R=I+l.shift(),E=S+l.shift(),b=R+l.shift(),B=E+l.shift(),T=b+l.shift(),Math.abs(B-w)>Math.abs(T-y)?w=B+l.shift():y=T+l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,b,B,T,w,y));else if(M=="o14"){if(l.length>0&&!h&&(f=l.shift()+A.nominalWidthX,h=!0),l.length==4){var W=l.shift(),O=l.shift(),G=l.shift(),_=l.shift(),N=e.CFF.glyphBySE(A,G),H=e.CFF.glyphBySE(A,_);e.U._drawCFF(A.CharStrings[N],t,A,a,c),t.x=W,t.y=O,e.U._drawCFF(A.CharStrings[H],t,A,a,c)}p&&(e.U.P.closePath(c),p=!1)}else if(M=="o19"||M=="o20")l.length%2!=0&&!h&&(f=l.shift()+a.nominalWidthX),u+=l.length>>1,l.length=0,h=!0,g+=u+7>>3;else if(M=="o21")l.length>2&&!h&&(f=l.shift()+a.nominalWidthX,h=!0),y+=l.pop(),w+=l.pop(),p&&e.U.P.closePath(c),e.U.P.moveTo(c,w,y),p=!0;else if(M=="o22")l.length>1&&!h&&(f=l.shift()+a.nominalWidthX,h=!0),w+=l.pop(),p&&e.U.P.closePath(c),e.U.P.moveTo(c,w,y),p=!0;else if(M=="o25"){for(;l.length>6;)w+=l.shift(),y+=l.shift(),e.U.P.lineTo(c,w,y);C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),w=v+l.shift(),y=I+l.shift(),e.U.P.curveTo(c,C,m,v,I,w,y)}else if(M=="o26")for(l.length%2&&(w+=l.shift());l.length>0;)C=w,m=y+l.shift(),w=v=C+l.shift(),y=(I=m+l.shift())+l.shift(),e.U.P.curveTo(c,C,m,v,I,w,y);else if(M=="o27")for(l.length%2&&(y+=l.shift());l.length>0;)m=y,v=(C=w+l.shift())+l.shift(),I=m+l.shift(),w=v+l.shift(),y=I,e.U.P.curveTo(c,C,m,v,I,w,y);else if(M=="o10"||M=="o29"){var z=M=="o10"?a:A;if(l.length==0)console.debug("error: empty stack");else{var q=l.pop(),ee=z.Subrs[q+z.Bias];t.x=w,t.y=y,t.nStems=u,t.haveWidth=h,t.width=f,t.open=p,e.U._drawCFF(ee,t,A,a,c),w=t.x,y=t.y,u=t.nStems,h=t.haveWidth,f=t.width,p=t.open}}else if(M=="o30"||M=="o31"){var te=l.length,re=(K=0,M=="o31");for(K+=te-(F=-3&te);K<F;)re?(m=y,v=(C=w+l.shift())+l.shift(),y=(I=m+l.shift())+l.shift(),F-K==5?(w=v+l.shift(),K++):w=v,re=!1):(C=w,m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),w=v+l.shift(),F-K==5?(y=I+l.shift(),K++):y=I,re=!0),e.U.P.curveTo(c,C,m,v,I,w,y),K+=4}else{if((M+"").charAt(0)=="o")throw console.debug("Unknown operation: "+M,r),M;l.push(M)}}}t.x=w,t.y=y,t.nStems=u,t.haveWidth=h,t.width=f,t.open=p};var n=e,o={Typr:n};return i.Typr=n,i.default=o,Object.defineProperty(i,"__esModule",{value:!0}),i}({}).Typr}function V1(){return function(i){var e=Uint8Array,n=Uint16Array,o=Uint32Array,r=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),t=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(M,F){for(var k=new n(31),Y=0;Y<31;++Y)k[Y]=F+=1<<M[Y-1];var U=new o(k[30]);for(Y=1;Y<30;++Y)for(var K=k[Y];K<k[Y+1];++K)U[K]=K-k[Y]<<5|Y;return[k,U]},c=a(r,2),l=c[0],u=c[1];l[28]=258,u[258]=28;for(var h=a(t,0)[0],f=new n(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,f[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var w=function(M,F,k){for(var Y=M.length,U=0,K=new n(F);U<Y;++U)++K[M[U]-1];var W,O=new n(F);for(U=0;U<F;++U)O[U]=O[U-1]+K[U-1]<<1;if(k){W=new n(1<<F);var G=15-F;for(U=0;U<Y;++U)if(M[U])for(var _=U<<4|M[U],N=F-M[U],H=O[M[U]-1]++<<N,z=H|(1<<N)-1;H<=z;++H)W[f[H]>>>G]=_}else for(W=new n(Y),U=0;U<Y;++U)M[U]&&(W[U]=f[O[M[U]-1]++]>>>15-M[U]);return W},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var C=new e(32);for(p=0;p<32;++p)C[p]=5;var m=w(y,9,1),v=w(C,5,1),I=function(M){for(var F=M[0],k=1;k<M.length;++k)M[k]>F&&(F=M[k]);return F},E=function(M,F,k){var Y=F/8|0;return(M[Y]|M[Y+1]<<8)>>(7&F)&k},b=function(M,F){var k=F/8|0;return(M[k]|M[k+1]<<8|M[k+2]<<16)>>(7&F)},B=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(M,F,k){var Y=new Error(F||B[M]);if(Y.code=M,Error.captureStackTrace&&Error.captureStackTrace(Y,T),!k)throw Y;return Y},S=function(M,F,k){var Y=M.length;if(!Y||k&&!k.l&&Y<5)return F||new e(0);var U=!F||k,K=!k||k.i;k||(k={}),F||(F=new e(3*Y));var W,O=function(D){var P=F.length;if(D>P){var L=new e(Math.max(2*P,D));L.set(F),F=L}},G=k.f||0,_=k.p||0,N=k.b||0,H=k.l,z=k.d,q=k.m,ee=k.n,te=8*Y;do{if(!H){k.f=G=E(M,_,1);var re=E(M,_+1,3);if(_+=3,!re){var se=M[(we=((W=_)/8|0)+(7&W&&1)+4)-4]|M[we-3]<<8,le=we+se;if(le>Y){K&&T(0);break}U&&O(N+se),F.set(M.subarray(we,le),N),k.b=N+=se,k.p=_=8*le;continue}if(re==1)H=m,z=v,q=9,ee=5;else if(re==2){var Ae=E(M,_,31)+257,ne=E(M,_+10,15)+4,Ee=Ae+E(M,_+5,31)+1;_+=14;for(var Te=new e(Ee),de=new e(19),ye=0;ye<ne;++ye)de[A[ye]]=E(M,_+3*ye,7);_+=3*ne;var Be=I(de),ae=(1<<Be)-1,pe=w(de,Be,1);for(ye=0;ye<Ee;){var we,ie=pe[E(M,_,ae)];if(_+=15&ie,(we=ie>>>4)<16)Te[ye++]=we;else{var Re=0,fe=0;for(we==16?(fe=3+E(M,_,3),_+=2,Re=Te[ye-1]):we==17?(fe=3+E(M,_,7),_+=3):we==18&&(fe=11+E(M,_,127),_+=7);fe--;)Te[ye++]=Re}}var ve=Te.subarray(0,Ae),ge=Te.subarray(Ae);q=I(ve),ee=I(ge),H=w(ve,q,1),z=w(ge,ee,1)}else T(1);if(_>te){K&&T(0);break}}U&&O(N+131072);for(var ke=(1<<q)-1,Ie=(1<<ee)-1,Ce=_;;Ce=_){var be=(Re=H[b(M,_)&ke])>>>4;if((_+=15&Re)>te){K&&T(0);break}if(Re||T(2),be<256)F[N++]=be;else{if(be==256){Ce=_,H=null;break}var De=be-254;if(be>264){var Ge=r[ye=be-257];De=E(M,_,(1<<Ge)-1)+l[ye],_+=Ge}var Z=z[b(M,_)&Ie],d=Z>>>4;if(Z||T(3),_+=15&Z,ge=h[d],d>3&&(Ge=t[d],ge+=b(M,_)&(1<<Ge)-1,_+=Ge),_>te){K&&T(0);break}U&&O(N+131072);for(var x=N+De;N<x;N+=4)F[N]=F[N-ge],F[N+1]=F[N+1-ge],F[N+2]=F[N+2-ge],F[N+3]=F[N+3-ge];N=x}}k.l=H,k.p=Ce,k.b=N,H&&(G=1,k.m=q,k.d=z,k.n=ee)}while(!G);return N==F.length?F:function(D,P,L){(P==null||P<0)&&(P=0),(L==null||L>D.length)&&(L=D.length);var V=new(D instanceof n?n:D instanceof o?o:e)(L-P);return V.set(D.subarray(P,L)),V}(F,0,N)},R=new e(0),Q=typeof TextDecoder<"u"&&new TextDecoder;try{Q.decode(R,{stream:!0})}catch{}return i.convert_streams=function(M){var F=new DataView(M),k=0;function Y(){var Ae=F.getUint16(k);return k+=2,Ae}function U(){var Ae=F.getUint32(k);return k+=4,Ae}function K(Ae){se.setUint16(le,Ae),le+=2}function W(Ae){se.setUint32(le,Ae),le+=4}for(var O={signature:U(),flavor:U(),length:U(),numTables:Y(),reserved:Y(),totalSfntSize:U(),majorVersion:Y(),minorVersion:Y(),metaOffset:U(),metaLength:U(),metaOrigLength:U(),privOffset:U(),privLength:U()},G=0;Math.pow(2,G)<=O.numTables;)G++;G--;for(var _=16*Math.pow(2,G),N=16*O.numTables-_,H=12,z=[],q=0;q<O.numTables;q++)z.push({tag:U(),offset:U(),compLength:U(),origLength:U(),origChecksum:U()}),H+=16;var ee,te=new Uint8Array(12+16*z.length+z.reduce(function(Ae,ne){return Ae+ne.origLength+4},0)),re=te.buffer,se=new DataView(re),le=0;return W(O.flavor),K(O.numTables),K(_),K(G),K(N),z.forEach(function(Ae){W(Ae.tag),W(Ae.origChecksum),W(H),W(Ae.origLength),Ae.outOffset=H,(H+=Ae.origLength)%4!=0&&(H+=4-H%4)}),z.forEach(function(Ae){var ne,Ee=M.slice(Ae.offset,Ae.offset+Ae.compLength);if(Ae.compLength!=Ae.origLength){var Te=new Uint8Array(Ae.origLength);ne=new Uint8Array(Ee,2),S(ne,Te)}else Te=new Uint8Array(Ee);te.set(Te,Ae.outOffset);var de=0;(H=Ae.outOffset+Ae.origLength)%4!=0&&(de=4-H%4),te.set(new Uint8Array(de).buffer,Ae.outOffset+Ae.origLength),ee=H+de}),re.slice(0,ee)},Object.defineProperty(i,"__esModule",{value:!0}),i}({}).convert_streams}function j1(i,e){let n={M:2,L:2,Q:4,C:6,Z:0},o={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,t=2,A=4,a=8,c=16,l=32,u;function h(B){if(!u){let T={R:t,L:r,D:A,C:c,U:l,T:a};u=new Map;for(let S in o){let R=0;o[S].split(",").forEach(Q=>{let[M,F]=Q.split("+");M=parseInt(M,36),F=F?parseInt(F,36):0,u.set(R+=M,T[S]);for(let k=F;k--;)u.set(++R,T[S])})}}return u.get(B)||l}let f=1,p=2,g=3,w=4,y=[null,"isol","init","fina","medi"];function C(B){let T=new Uint8Array(B.length),S=l,R=f,Q=-1;for(let M=0;M<B.length;M++){let F=B.codePointAt(M),k=h(F)|0,Y=f;k&a||(S&(r|A|c)?k&(t|A|c)?(Y=g,(R===f||R===g)&&T[Q]++):k&(r|l)&&(R===p||R===w)&&T[Q]--:S&(t|l)&&(R===p||R===w)&&T[Q]--,R=T[M]=Y,S=k,Q=M,F>65535&&M++)}return T}function m(B,T){let S=[];for(let Q=0;Q<T.length;Q++){let M=T.codePointAt(Q);M>65535&&Q++,S.push(i.U.codeToGlyph(B,M))}let R=B.GSUB;if(R){let{lookupList:Q,featureList:M}=R,F,k=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,Y=[];M.forEach(U=>{if(k.test(U.tag))for(let K=0;K<U.tab.length;K++){if(Y[U.tab[K]])continue;Y[U.tab[K]]=!0;let W=Q[U.tab[K]],O=/^(isol|init|fina|medi)$/.test(U.tag);O&&!F&&(F=C(T));for(let G=0;G<S.length;G++)(!F||!O||y[F[G]]===U.tag)&&i.U._applySubs(S,G,W,Q)}})}return S}function v(B,T){let S=new Int16Array(T.length*3),R=0;for(;R<T.length;R++){let k=T[R];if(k===-1)continue;S[R*3+2]=B.hmtx.aWidth[k];let Y=B.GPOS;if(Y){let U=Y.lookupList;for(let K=0;K<U.length;K++){let W=U[K];for(let O=0;O<W.tabs.length;O++){let G=W.tabs[O];if(W.ltype===1){if(i._lctf.coverageIndex(G.coverage,k)!==-1&&G.pos){F(G.pos,R);break}}else if(W.ltype===2){let _=null,N=Q();if(N!==-1){let H=i._lctf.coverageIndex(G.coverage,T[N]);if(H!==-1){if(G.fmt===1){let z=G.pairsets[H];for(let q=0;q<z.length;q++)z[q].gid2===k&&(_=z[q])}else if(G.fmt===2){let z=i.U._getGlyphClass(T[N],G.classDef1),q=i.U._getGlyphClass(k,G.classDef2);_=G.matrix[z][q]}if(_){_.val1&&F(_.val1,N),_.val2&&F(_.val2,R);break}}}}else if(W.ltype===4){let _=i._lctf.coverageIndex(G.markCoverage,k);if(_!==-1){let N=Q(M),H=N===-1?-1:i._lctf.coverageIndex(G.baseCoverage,T[N]);if(H!==-1){let z=G.markArray[_],q=G.baseArray[H][z.markClass];S[R*3]=q.x-z.x+S[N*3]-S[N*3+2],S[R*3+1]=q.y-z.y+S[N*3+1];break}}}else if(W.ltype===6){let _=i._lctf.coverageIndex(G.mark1Coverage,k);if(_!==-1){let N=Q();if(N!==-1){let H=T[N];if(I(B,H)===3){let z=i._lctf.coverageIndex(G.mark2Coverage,H);if(z!==-1){let q=G.mark1Array[_],ee=G.mark2Array[z][q.markClass];S[R*3]=ee.x-q.x+S[N*3]-S[N*3+2],S[R*3+1]=ee.y-q.y+S[N*3+1];break}}}}}}}}else if(B.kern&&!B.cff){let U=Q();if(U!==-1){let K=B.kern.glyph1.indexOf(T[U]);if(K!==-1){let W=B.kern.rval[K].glyph2.indexOf(k);W!==-1&&(S[U*3+2]+=B.kern.rval[K].vals[W])}}}}return S;function Q(k){for(let Y=R-1;Y>=0;Y--)if(T[Y]!==-1&&(!k||k(T[Y])))return Y;return-1}function M(k){return I(B,k)===1}function F(k,Y){for(let U=0;U<3;U++)S[Y*3+U]+=k[U]||0}}function I(B,T){let S=B.GDEF&&B.GDEF.glyphClassDef;return S?i.U._getGlyphClass(T,S):0}function E(...B){for(let T=0;T<B.length;T++)if(typeof B[T]=="number")return B[T]}function b(B){let T=Object.create(null),S=B["OS/2"],R=B.hhea,Q=B.head.unitsPerEm,M=E(S&&S.sTypoAscender,R&&R.ascender,Q),F={unitsPerEm:Q,ascender:M,descender:E(S&&S.sTypoDescender,R&&R.descender,0),capHeight:E(S&&S.sCapHeight,M),xHeight:E(S&&S.sxHeight,M),lineGap:E(S&&S.sTypoLineGap,R&&R.lineGap),supportsCodePoint(k){return i.U.codeToGlyph(B,k)>0},forEachGlyph(k,Y,U,K){let W=0,O=1/F.unitsPerEm*Y,G=m(B,k),_=0,N=v(B,G);return G.forEach((H,z)=>{if(H!==-1){let q=T[H];if(!q){let{cmds:ee,crds:te}=i.U.glyphToPath(B,H),re="",se=0;for(let Te=0,de=ee.length;Te<de;Te++){let ye=n[ee[Te]];re+=ee[Te];for(let Be=1;Be<=ye;Be++)re+=(Be>1?",":"")+te[se++]}let le,Ae,ne,Ee;if(te.length){le=Ae=1/0,ne=Ee=-1/0;for(let Te=0,de=te.length;Te<de;Te+=2){let ye=te[Te],Be=te[Te+1];ye<le&&(le=ye),Be<Ae&&(Ae=Be),ye>ne&&(ne=ye),Be>Ee&&(Ee=Be)}}else le=ne=Ae=Ee=0;q=T[H]={index:H,advanceWidth:B.hmtx.aWidth[H],xMin:le,yMin:Ae,xMax:ne,yMax:Ee,path:re}}K.call(null,q,W+N[z*3]*O,N[z*3+1]*O,_),W+=N[z*3+2]*O,U&&(W+=U*Y)}_+=k.codePointAt(_)>65535?2:1}),W}};return F}return function(T){let S=new Uint8Array(T,0,4),R=i._bin.readASCII(S,0,4);if(R==="wOFF")T=e(T);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return b(i.parse(T)[0])}}var Y1=Yr({name:"Typr Font Parser",dependencies:[H1,V1,j1],init(i,e,n){let o=i(),r=e();return n(o,r)}});function W1(){return function(i){var e=function(){this.buckets=new Map};e.prototype.add=function(v){var I=v>>5;this.buckets.set(I,(this.buckets.get(I)||0)|1<<(31&v))},e.prototype.has=function(v){var I=this.buckets.get(v>>5);return I!==void 0&&(I&1<<(31&v))!=0},e.prototype.serialize=function(){var v=[];return this.buckets.forEach(function(I,E){v.push((+E).toString(36)+":"+I.toString(36))}),v.join(",")},e.prototype.deserialize=function(v){var I=this;this.buckets.clear(),v.split(",").forEach(function(E){var b=E.split(":");I.buckets.set(parseInt(b[0],36),parseInt(b[1],36))})};var n=Math.pow(2,8),o=n-1,r=~o;function t(v){var I=function(b){return b&r}(v).toString(16),E=function(b){return(b&r)+n-1}(v).toString(16);return"codepoint-index/plane"+(v>>16)+"/"+I+"-"+E+".json"}function A(v,I){var E=v&o,b=I.codePointAt(E/6|0);return((b=(b||48)-48)&1<<E%6)!=0}function a(v,I){var E;(E=v,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(b){return b.split("-").map(function(B){return parseInt(B.trim(),16)})})).forEach(function(b){var B=b[0],T=b[1];T===void 0&&(T=B),I(B,T)})}function c(v,I){a(v,function(E,b){for(var B=E;B<=b;B++)I(B)})}var l={},u={},h=new WeakMap,f="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function p(v){var I=h.get(v);return I||(I=new e,c(v.ranges,function(E){return I.add(E)}),h.set(v,I)),I}var g,w=new Map;function y(v,I,E){return v[I]?I:v[E]?E:function(b){for(var B in b)return B}(v)}function C(v,I){var E=I;if(!v.includes(E)){E=1/0;for(var b=0;b<v.length;b++)Math.abs(v[b]-I)<Math.abs(E-I)&&(E=v[b])}return E}function m(v){return g||(g=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(I){g.add(I)})),g.has(v)}return i.CodePointSet=e,i.clearCache=function(){l={},u={}},i.getFontsForString=function(v,I){I===void 0&&(I={});var E,b=I.lang;b===void 0&&(b=/\p{Script=Hangul}/u.test(E=v)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(E)?"ja":"en");var B=I.category;B===void 0&&(B="sans-serif");var T=I.style;T===void 0&&(T="normal");var S=I.weight;S===void 0&&(S=400);var R=(I.dataUrl||f).replace(/\/$/g,""),Q=new Map,M=new Uint8Array(v.length),F={},k={},Y=new Array(v.length),U=new Map,K=!1;function W(_){var N=w.get(_);return N||(N=fetch(R+"/"+_).then(function(H){if(!H.ok)throw new Error(H.statusText);return H.json().then(function(z){if(!Array.isArray(z)||z[0]!==1)throw new Error("Incorrect schema version; need 1, got "+z[0]);return z[1]})}).catch(function(H){if(R!==f)return K||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+R+'", trying default CDN. '+H.message),K=!0),R=f,w.delete(_),W(_);throw H}),w.set(_,N)),N}for(var O=function(_){var N=v.codePointAt(_),H=t(N);Y[_]=H,l[H]||U.has(H)||U.set(H,W(H).then(function(z){l[H]=z})),N>65535&&(_++,G=_)},G=0;G<v.length;G++)O(G);return Promise.all(U.values()).then(function(){U.clear();for(var _=function(H){var z=v.codePointAt(H),q=null,ee=l[Y[H]],te=void 0;for(var re in ee){var se=k[re];if(se===void 0&&(se=k[re]=new RegExp(re).test(b||"en")),se){for(var le in te=re,ee[re])if(A(z,ee[re][le])){q=le;break}break}}if(!q){e:for(var Ae in ee)if(Ae!==te){for(var ne in ee[Ae])if(A(z,ee[Ae][ne])){q=ne;break e}}}q||(console.debug("No font coverage for U+"+z.toString(16)),q="latin"),Y[H]=q,u[q]||U.has(q)||U.set(q,W("font-meta/"+q+".json").then(function(Ee){u[q]=Ee})),z>65535&&(H++,N=H)},N=0;N<v.length;N++)_(N);return Promise.all(U.values())}).then(function(){for(var _,N=null,H=0;H<v.length;H++){var z=v.codePointAt(H);if(N&&(m(z)||p(N).has(z)))M[H]=M[H-1];else{N=u[Y[H]];var q=F[N.id];if(!q){var ee=N.typeforms,te=y(ee,B,"sans-serif"),re=y(ee[te],T,"normal"),se=C((_=ee[te])===null||_===void 0?void 0:_[re],S);q=F[N.id]=R+"/font-files/"+N.id+"/"+te+"."+re+"."+se+".woff"}var le=Q.get(q);le==null&&(le=Q.size,Q.set(q,le)),M[H]=le}z>65535&&(H++,M[H]=M[H-1])}return{fontUrls:Array.from(Q.keys()),chars:M}})},Object.defineProperty(i,"__esModule",{value:!0}),i}({})}function q1(i,e){let n=Object.create(null),o=Object.create(null);function r(A,a){let c=l=>{console.error(`Failure loading font ${A}`,l)};try{let l=new XMLHttpRequest;l.open("get",A,!0),l.responseType="arraybuffer",l.onload=function(){if(l.status>=400)c(new Error(l.statusText));else if(l.status>0)try{let u=i(l.response);u.src=A,a(u)}catch(u){c(u)}},l.onerror=c,l.send()}catch(l){c(l)}}function t(A,a){let c=n[A];c?a(c):o[A]?o[A].push(a):(o[A]=[a],r(A,l=>{l.src=A,n[A]=l,o[A].forEach(u=>u(l)),delete o[A]}))}return function(A,a,{lang:c,fonts:l=[],style:u="normal",weight:h="normal",unicodeFontsURL:f}={}){let p=new Uint8Array(A.length),g=[];A.length||m();let w=new Map,y=[];if(u!=="italic"&&(u="normal"),typeof h!="number"&&(h=h==="bold"?700:400),l&&!Array.isArray(l)&&(l=[l]),l=l.slice().filter(I=>!I.lang||I.lang.test(c)).reverse(),l.length){let B=0;(function T(S=0){for(let R=S,Q=A.length;R<Q;R++){let M=A.codePointAt(R);if(B===1&&g[p[R-1]].supportsCodePoint(M)||/\s/.test(A[R]))p[R]=p[R-1],B===2&&(y[y.length-1][1]=R);else for(let F=p[R],k=l.length;F<=k;F++)if(F===k){let Y=B===2?y[y.length-1]:y[y.length]=[R,R];Y[1]=R,B=2}else{p[R]=F;let{src:Y,unicodeRange:U}=l[F];if(!U||v(M,U)){let K=n[Y];if(!K){t(Y,()=>{T(R)});return}if(K.supportsCodePoint(M)){let W=w.get(K);typeof W!="number"&&(W=g.length,g.push(K),w.set(K,W)),p[R]=W,B=1;break}}}M>65535&&R+1<Q&&(p[R+1]=p[R],R++,B===2&&(y[y.length-1][1]=R))}C()})()}else y.push([0,A.length-1]),C();function C(){if(y.length){let I=y.map(E=>A.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(I,{lang:c||void 0,style:u,weight:h,dataUrl:f}).then(({fontUrls:E,chars:b})=>{let B=g.length,T=0;y.forEach(R=>{for(let Q=0,M=R[1]-R[0];Q<=M;Q++)p[R[0]+Q]=b[T++]+B;T++});let S=0;E.forEach((R,Q)=>{t(R,M=>{g[Q+B]=M,++S===E.length&&m()})})})}else m()}function m(){a({chars:p,fonts:g})}function v(I,E){for(let b=0;b<E.length;b++){let[B,T=B]=E[b];if(B<=I&&I<=T)return!0}return!1}}}var tf=Yr({name:"FontResolver",dependencies:[q1,Y1,W1],init(i,e,n){return i(e,n())}});function K1(i,e){let o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",t=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function A({text:g,lang:w,fonts:y,style:C,weight:m,preResolvedFonts:v,unicodeFontsURL:I},E){let b=({chars:B,fonts:T})=>{let S,R,Q=[];for(let M=0;M<B.length;M++)B[M]!==R?(R=B[M],Q.push(S={start:M,end:M,fontObj:T[B[M]]})):S.end=M;E(Q)};v?b(v):i(g,b,{lang:w,fonts:y,style:C,weight:m,unicodeFontsURL:I})}function a({text:g="",font:w,lang:y,sdfGlyphSize:C=64,fontSize:m=400,fontWeight:v=1,fontStyle:I="normal",letterSpacing:E=0,lineHeight:b="normal",maxWidth:B=1/0,direction:T,textAlign:S="left",textIndent:R=0,whiteSpace:Q="normal",overflowWrap:M="normal",anchorX:F=0,anchorY:k=0,metricsOnly:Y=!1,unicodeFontsURL:U,preResolvedFonts:K=null,includeCaretPositions:W=!1,chunkedBoundsSize:O=8192,colorRanges:G=null},_){let N=h(),H={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),m=+m,E=+E,B=+B,b=b||"normal",R=+R,A({text:g,lang:y,style:I,weight:v,fonts:typeof w=="string"?[{src:w}]:w,unicodeFontsURL:U,preResolvedFonts:K},z=>{H.fontLoad=h()-N;let q=isFinite(B),ee=null,te=null,re=null,se=null,le=null,Ae=null,ne=null,Ee=null,Te=0,de=0,ye=Q!=="nowrap",Be=new Map,ae=h(),pe=R,we=0,ie=new f,Re=[ie];z.forEach(Ie=>{let{fontObj:Ce}=Ie,{ascender:be,descender:De,unitsPerEm:Ge,lineGap:Z,capHeight:d,xHeight:x}=Ce,D=Be.get(Ce);if(!D){let X=m/Ge,J=b==="normal"?(be-De+Z)*X:b*m,ce=(J-(be-De)*X)/2,oe=Math.min(J,(be-De)*X),ue=(be+De)/2*X+oe/2;D={index:Be.size,src:Ce.src,fontObj:Ce,fontSizeMult:X,unitsPerEm:Ge,ascender:be*X,descender:De*X,capHeight:d*X,xHeight:x*X,lineHeight:J,baseline:-ce-be*X,caretTop:ue,caretBottom:ue-oe},Be.set(Ce,D)}let{fontSizeMult:P}=D,L=g.slice(Ie.start,Ie.end+1),V,$;Ce.forEachGlyph(L,m,E,(X,J,ce,oe)=>{J+=we,oe+=Ie.start,V=J,$=X;let ue=g.charAt(oe),me=X.advanceWidth*P,xe=ie.count,he;if("isEmpty"in X||(X.isWhitespace=!!ue&&new RegExp(r).test(ue),X.canBreakAfter=!!ue&&t.test(ue),X.isEmpty=X.xMin===X.xMax||X.yMin===X.yMax||o.test(ue)),!X.isWhitespace&&!X.isEmpty&&de++,ye&&q&&!X.isWhitespace&&J+me+pe>B&&xe){if(ie.glyphAt(xe-1).glyphObj.canBreakAfter)he=new f,pe=-J;else for(let Ye=xe;Ye--;)if(Ye===0&&M==="break-word"){he=new f,pe=-J;break}else if(ie.glyphAt(Ye).glyphObj.canBreakAfter){he=ie.splitAt(Ye+1);let Oe=he.glyphAt(0).x;pe-=Oe;for(let Ve=he.count;Ve--;)he.glyphAt(Ve).x-=Oe;break}he&&(ie.isSoftWrapped=!0,ie=he,Re.push(ie),Te=B)}let Me=ie.glyphAt(ie.count);Me.glyphObj=X,Me.x=J+pe,Me.y=ce,Me.width=me,Me.charIndex=oe,Me.fontData=D,ue===`
`&&(ie=new f,Re.push(ie),pe=-(J+me+E*m)+R)}),we=V+$.advanceWidth*P+E*m});let fe=0;Re.forEach(Ie=>{let Ce=!0;for(let be=Ie.count;be--;){let De=Ie.glyphAt(be);Ce&&!De.glyphObj.isWhitespace&&(Ie.width=De.x+De.width,Ie.width>Te&&(Te=Ie.width),Ce=!1);let{lineHeight:Ge,capHeight:Z,xHeight:d,baseline:x}=De.fontData;Ge>Ie.lineHeight&&(Ie.lineHeight=Ge);let D=x-Ie.baseline;D<0&&(Ie.baseline+=D,Ie.cap+=D,Ie.ex+=D),Ie.cap=Math.max(Ie.cap,Ie.baseline+Z),Ie.ex=Math.max(Ie.ex,Ie.baseline+d)}Ie.baseline-=fe,Ie.cap-=fe,Ie.ex-=fe,fe+=Ie.lineHeight});let ve=0,ge=0;if(F&&(typeof F=="number"?ve=-F:typeof F=="string"&&(ve=-Te*(F==="left"?0:F==="center"?.5:F==="right"?1:l(F)))),k&&(typeof k=="number"?ge=-k:typeof k=="string"&&(ge=k==="top"?0:k==="top-baseline"?-Re[0].baseline:k==="top-cap"?-Re[0].cap:k==="top-ex"?-Re[0].ex:k==="middle"?fe/2:k==="bottom"?fe:k==="bottom-baseline"?-Re[Re.length-1].baseline:l(k)*fe)),!Y){let Ie=e.getEmbeddingLevels(g,T);ee=new Uint16Array(de),te=new Uint8Array(de),re=new Float32Array(de*2),se={},ne=[1/0,1/0,-1/0,-1/0],Ee=[],W&&(Ae=new Float32Array(g.length*4)),G&&(le=new Uint8Array(de*3));let Ce=0,be=-1,De=-1,Ge,Z;if(Re.forEach((d,x)=>{let{count:D,width:P}=d;if(D>0){let L=0;for(let oe=D;oe--&&d.glyphAt(oe).glyphObj.isWhitespace;)L++;let V=0,$=0;if(S==="center")V=(Te-P)/2;else if(S==="right")V=Te-P;else if(S==="justify"&&d.isSoftWrapped){let oe=0;for(let ue=D-L;ue--;)d.glyphAt(ue).glyphObj.isWhitespace&&oe++;$=(Te-P)/oe}if($||V){let oe=0;for(let ue=0;ue<D;ue++){let me=d.glyphAt(ue),xe=me.glyphObj;me.x+=V+oe,$!==0&&xe.isWhitespace&&ue<D-L&&(oe+=$,me.width+=$)}}let X=e.getReorderSegments(g,Ie,d.glyphAt(0).charIndex,d.glyphAt(d.count-1).charIndex);for(let oe=0;oe<X.length;oe++){let[ue,me]=X[oe],xe=1/0,he=-1/0;for(let Me=0;Me<D;Me++)if(d.glyphAt(Me).charIndex>=ue){let Ye=Me,Oe=Me;for(;Oe<D;Oe++){let Ve=d.glyphAt(Oe);if(Ve.charIndex>me)break;Oe<D-L&&(xe=Math.min(xe,Ve.x),he=Math.max(he,Ve.x+Ve.width))}for(let Ve=Ye;Ve<Oe;Ve++){let mt=d.glyphAt(Ve);mt.x=he-(mt.x+mt.width-xe)}break}}let J,ce=oe=>J=oe;for(let oe=0;oe<D;oe++){let ue=d.glyphAt(oe);J=ue.glyphObj;let me=J.index,xe=Ie.levels[ue.charIndex]&1;if(xe){let he=e.getMirroredCharacter(g[ue.charIndex]);he&&ue.fontData.fontObj.forEachGlyph(he,0,0,ce)}if(W){let{charIndex:he,fontData:Me}=ue,Ye=ue.x+ve,Oe=ue.x+ue.width+ve;Ae[he*4]=xe?Oe:Ye,Ae[he*4+1]=xe?Ye:Oe,Ae[he*4+2]=d.baseline+Me.caretBottom+ge,Ae[he*4+3]=d.baseline+Me.caretTop+ge;let Ve=he-be;Ve>1&&u(Ae,be,Ve),be=he}if(G){let{charIndex:he}=ue;for(;he>De;)De++,G.hasOwnProperty(De)&&(Z=G[De])}if(!J.isWhitespace&&!J.isEmpty){let he=Ce++,{fontSizeMult:Me,src:Ye,index:Oe}=ue.fontData,Ve=se[Ye]||(se[Ye]={});Ve[me]||(Ve[me]={path:J.path,pathBounds:[J.xMin,J.yMin,J.xMax,J.yMax]});let mt=ue.x+ve,Ct=ue.y+d.baseline+ge;re[he*2]=mt,re[he*2+1]=Ct;let Ke=mt+J.xMin*Me,$t=Ct+J.yMin*Me,fr=mt+J.xMax*Me,Gt=Ct+J.yMax*Me;Ke<ne[0]&&(ne[0]=Ke),$t<ne[1]&&(ne[1]=$t),fr>ne[2]&&(ne[2]=fr),Gt>ne[3]&&(ne[3]=Gt),he%O===0&&(Ge={start:he,end:he,rect:[1/0,1/0,-1/0,-1/0]},Ee.push(Ge)),Ge.end++;let ct=Ge.rect;if(Ke<ct[0]&&(ct[0]=Ke),$t<ct[1]&&(ct[1]=$t),fr>ct[2]&&(ct[2]=fr),Gt>ct[3]&&(ct[3]=Gt),ee[he]=me,te[he]=Oe,G){let er=he*3;le[er]=Z>>16&255,le[er+1]=Z>>8&255,le[er+2]=Z&255}}}}}),Ae){let d=g.length-be;d>1&&u(Ae,be,d)}}let ke=[];Be.forEach(({index:Ie,src:Ce,unitsPerEm:be,ascender:De,descender:Ge,lineHeight:Z,capHeight:d,xHeight:x})=>{ke[Ie]={src:Ce,unitsPerEm:be,ascender:De,descender:Ge,lineHeight:Z,capHeight:d,xHeight:x}}),H.typesetting=h()-ae,_({glyphIds:ee,glyphFontIndices:te,glyphPositions:re,glyphData:se,fontData:ke,caretPositions:Ae,glyphColors:le,chunkedBounds:Ee,fontSize:m,topBaseline:ge+Re[0].baseline,blockBounds:[ve,ge-fe,ve+Te,ge],visibleBounds:ne,timings:H})})}function c(g,w){a({...g,metricsOnly:!0},y=>{let[C,m,v,I]=y.blockBounds;w({width:v-C,height:I-m})})}function l(g){let w=g.match(/^([\d.]+)%$/),y=w?parseFloat(w[1]):NaN;return isNaN(y)?0:y/100}function u(g,w,y){let C=g[w*4],m=g[w*4+1],v=g[w*4+2],I=g[w*4+3],E=(m-C)/y;for(let b=0;b<y;b++){let B=(w+b)*4;g[B]=C+E*b,g[B+1]=C+E*(b+1),g[B+2]=v,g[B+3]=I}}function h(){return(self.performance||Date).now()}function f(){this.data=[]}let p=["glyphObj","x","y","width","charIndex","fontData"];return f.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(g){let w=f.flyweight;return w.data=this.data,w.index=g,w},splitAt(g){let w=new f;return w.data=this.data.splice(g*p.length),w}},f.flyweight=p.reduce((g,w,y,C)=>(Object.defineProperty(g,w,{get(){return this.data[this.index*p.length+y]},set(m){this.data[this.index*p.length+y]=m}}),g),{data:null,index:0}),{typeset:a,measure:c}}var Kr=()=>(self.performance||Date).now(),Xo=ba(),Vu;function J1(i,e,n,o,r,t,A,a,c,l,u=!0){return u?Z1(i,e,n,o,r,t,A,a,c,l).then(null,h=>(Vu||(console.warn("WebGL SDF generation failed, falling back to JS",h),Vu=!0),Yu(i,e,n,o,r,t,A,a,c,l))):Yu(i,e,n,o,r,t,A,a,c,l)}var Wo=[],X1=5,Ra=0;function rf(){let i=Kr();for(;Wo.length&&Kr()-i<X1;)Wo.shift()();Ra=Wo.length?setTimeout(rf,0):0}var Z1=(...i)=>new Promise((e,n)=>{Wo.push(()=>{let o=Kr();try{Xo.webgl.generateIntoCanvas(...i),e({timing:Kr()-o})}catch(r){n(r)}}),Ra||(Ra=setTimeout(rf,0))}),$1=4,em=2e3,ju={},tm=0;function Yu(i,e,n,o,r,t,A,a,c,l){let u="TroikaTextSDFGenerator_JS_"+tm++%$1,h=ju[u];return h||(h=ju[u]={workerModule:Yr({name:u,workerId:u,dependencies:[ba,Kr],init(f,p){let g=f().javascript.generate;return function(...w){let y=p();return{textureData:g(...w),timing:p()-y}}},getTransferables(f){return[f.textureData.buffer]}}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(i,e,n,o,r,t).then(({textureData:f,timing:p})=>{let g=Kr(),w=new Uint8Array(f.length*4);for(let y=0;y<f.length;y++)w[y*4+l]=f[y];return Xo.webglUtils.renderImageData(A,w,a,c,i,e,1<<3-l),p+=Kr()-g,--h.requests===0&&(h.idleTimer=setTimeout(()=>{Lu(u)},em)),{timing:p}})}function rm(i){i._warm||(Xo.webgl.isSupported(i),i._warm=!0)}var nm=Xo.webglUtils.resizeWebGLCanvasWithoutClearing,qr={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},im=new qe,nf=!1;function En(){return(self.performance||Date).now()}function om(i){nf?console.warn("configureTextBuilder called after first font request; will be ignored."):sf(qr,i)}var Ko=Object.create(null);function Fa(i,e){nf=!0,i=sf({},i);let n=En(),{defaultFontURL:o}=qr,r=[];if(o&&r.push({label:"default",src:Wu(o)}),i.font&&r.push({label:"user",src:Wu(i.font)}),i.font=r,i.text=""+i.text,i.sdfGlyphSize=i.sdfGlyphSize||qr.sdfGlyphSize,i.unicodeFontsURL=i.unicodeFontsURL||qr.unicodeFontsURL,i.colorRanges!=null){let f={};for(let p in i.colorRanges)if(i.colorRanges.hasOwnProperty(p)){let g=i.colorRanges[p];typeof g!="number"&&(g=im.set(g).getHex()),f[p]=g}i.colorRanges=f}Object.freeze(i);let{textureWidth:t,sdfExponent:A}=qr,{sdfGlyphSize:a}=i,c=t/a*4,l=Ko[a];if(!l){let f=document.createElement("canvas");f.width=t,f.height=a*256/c,l=Ko[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:f,sdfTexture:new yn(f,void 0,void 0,void 0,dn,dn),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,Am(l)}let{sdfTexture:u,sdfCanvas:h}=l;sm(i).then(f=>{let{glyphIds:p,glyphFontIndices:g,fontData:w,glyphPositions:y,fontSize:C,timings:m}=f,v=[],I=new Float32Array(p.length*4),E=0,b=0,B=En(),T=w.map(F=>{let k=l.glyphsByFont.get(F.src);return k||l.glyphsByFont.set(F.src,k=new Map),k});p.forEach((F,k)=>{let Y=g[k],{src:U,unitsPerEm:K}=w[Y],W=T[Y].get(F);if(!W){let{path:H,pathBounds:z}=f.glyphData[U][F],q=Math.max(z[2]-z[0],z[3]-z[1])/a*(qr.sdfMargin*a+.5),ee=l.glyphCount++,te=[z[0]-q,z[1]-q,z[2]+q,z[3]+q];T[Y].set(F,W={path:H,atlasIndex:ee,sdfViewBox:te}),v.push(W)}let{sdfViewBox:O}=W,G=y[b++],_=y[b++],N=C/K;I[E++]=G+O[0]*N,I[E++]=_+O[1]*N,I[E++]=G+O[2]*N,I[E++]=_+O[3]*N,p[k]=W.atlasIndex}),m.quads=(m.quads||0)+(En()-B);let S=En();m.sdf={};let R=h.height,Q=Math.ceil(l.glyphCount/c),M=Math.pow(2,Math.ceil(Math.log2(Q*a)));M>R&&(console.info(`Increasing SDF texture size ${R}->${M}`),nm(h,t,M),u.dispose()),Promise.all(v.map(F=>of(F,l,i.gpuAccelerateSDF).then(({timing:k})=>{m.sdf[F.atlasIndex]=k}))).then(()=>{v.length&&!l.contextLost&&(af(l),u.needsUpdate=!0),m.sdfTotal=En()-S,m.total=En()-n,e(Object.freeze({parameters:i,sdfTexture:u,sdfGlyphSize:a,sdfExponent:A,glyphBounds:I,glyphAtlasIndices:p,glyphColors:f.glyphColors,caretPositions:f.caretPositions,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{l.contextLost||rm(h)})}function of({path:i,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:o,sdfCanvas:r,contextLost:t},A){if(t)return Promise.resolve({timing:-1});let{textureWidth:a,sdfExponent:c}=qr,l=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),h=u%(a/o)*o,f=Math.floor(u/(a/o))*o,p=e%4;return J1(o,o,i,n,l,c,r,h,f,p,A)}function Am(i){let e=i.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),i.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),i.contextLost=!1;let o=[];i.glyphsByFont.forEach(r=>{r.forEach(t=>{o.push(of(t,i,!0))})}),Promise.all(o).then(()=>{af(i),i.sdfTexture.needsUpdate=!0})})}function Af({font:i,characters:e,sdfGlyphSize:n},o){let r=Array.isArray(e)?e.join(`
`):""+e;Fa({font:i,sdfGlyphSize:n,text:r},o)}function sf(i,e){for(let n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var jo;function Wu(i){return jo||(jo=typeof document>"u"?{}:document.createElement("a")),jo.href=i,jo.href}function af(i){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");let{sdfCanvas:e,sdfTexture:n}=i,{width:o,height:r}=e,t=i.sdfCanvas.getContext("webgl"),A=n.image.data;(!A||A.length!==o*r*4)&&(A=new Uint8Array(o*r*4),n.image={width:o,height:r,data:A},n.flipY=!1,n.isDataTexture=!0),t.readPixels(0,0,o,r,t.RGBA,t.UNSIGNED_BYTE,A)}}var cf=Yr({name:"Typesetter",dependencies:[K1,tf,Ou],init(i,e,n){return i(e,n())}}),sm=Yr({name:"Typesetter",dependencies:[cf],init(i){return function(e){return new Promise(n=>{i.typeset(e,n)})}},getTransferables(i){let e=[];for(let n in i)i[n]&&i[n].buffer&&e.push(i[n].buffer);return e}});function am(){Object.keys(Ko).forEach(i=>{let e=Ko[i].sdfCanvas,{width:n,height:o}=e;console.log("%c.",`
      background: url(${e.toDataURL()});
      background-size: ${n}px ${o}px;
      color: transparent;
      font-size: 0;
      line-height: ${o}px;
      padding-left: ${n}px;
    `)})}var qu={};function cm(i){let e=qu[i];return e||(e=qu[i]=new vn(1,1,i,i).translate(.5,.5,0)),e}var qo="aTroikaGlyphBounds",Mi="aTroikaGlyphIndex",lm="aTroikaGlyphColor",Jo=class extends Po{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ft,this.boundingBox=new Je}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=cm(e);["position","normal","uv"].forEach(o=>{this.attributes[o]=n.attributes[o].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,o,r,t){this.updateAttributeData(qo,e,4),this.updateAttributeData(Mi,n,1),this.updateAttributeData(lm,t,3),this._blockBounds=o,this._chunkedBounds=r,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){let e=this._blockBounds;if(e){let{curveRadius:n,boundingBox:o}=this;if(n){let{PI:r,floor:t,min:A,max:a,sin:c,cos:l}=Math,u=r/2,h=r*2,f=Math.abs(n),p=e[0]/f,g=e[2]/f,w=t((p+u)/h)!==t((g+u)/h)?-f:A(c(p)*f,c(g)*f),y=t((p-u)/h)!==t((g-u)/h)?f:a(c(p)*f,c(g)*f),C=t((p+r)/h)!==t((g+r)/h)?f*2:a(f-l(p)*f,f-l(g)*f);o.min.set(w,e[1],n<0?-C:0),o.max.set(y,e[3],n<0?0:C)}else o.min.set(e[0],e[1],0),o.max.set(e[2],e[3],0);o.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(Mi).count,o=this._chunkedBounds;if(o)for(let r=o.length;r--;){n=o[r].end;let t=o[r].rect;if(t[1]<e.w&&t[3]>e.y&&t[0]<e.z&&t[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,o){let r=this.getAttribute(e);n?r&&r.array.length===n.length?(r.array.set(n),r.needsUpdate=!0):(this.setAttribute(e,new zr(n,o)),delete this._maxInstanceCount,this.dispose()):r&&this.deleteAttribute(e)}},um=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,fm=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,hm=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,pm=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Pa(i){let e=Si(i,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new tt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Dt(0,0,0,0)},uTroikaClipRect:{value:new Dt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new tt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new qe},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new gi},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:um,vertexTransform:fm,fragmentDefs:hm,fragmentColorTransform:pm,customRewriter({vertexShader:n,fragmentShader:o}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(o)&&(o=o.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(n)||(n=n.replace(Ta,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:o}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}var ka=new pt({color:16777215,side:At,transparent:!0}),Ku=8421504,Ju=new Pe,Yo=new j,Sa=new j,Di=[],dm=new j,Da="+x+y";function Xu(i){return Array.isArray(i)?i[0]:i}var lf=()=>{let i=new _e(new vn(1,1),ka);return lf=()=>i,i},uf=()=>{let i=new _e(new vn(1,1,32,1),ka);return uf=()=>i,i},gm={type:"syncstart"},mm={type:"synccomplete"},ff=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],ym=ff.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),Sr=class extends _e{constructor(){let e=new Jo;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Ku,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Da,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(gm),Fa({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);let o=this._queuedSyncs;o&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{o.forEach(r=>r&&r())})),this.dispatchEvent(mm),e&&e()})))}onBeforeRender(e,n,o,r,t,A){this.sync(),t.isTroikaTextMaterial&&this._prepareForRender(t)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Pa(e)}get material(){let e=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=ka.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function o(){n.removeEventListener("dispose",o),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let o=e._outlineMtl;return o||(o=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),o.isTextOutlineMaterial=!0,o.depthWrite=!1,o.map=null,e.addEventListener("dispose",function r(){e.removeEventListener("dispose",r),o.dispose()})),[o,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Xu(this.material).getDepthMaterial()}get customDistanceMaterial(){return Xu(this.material).getDistanceMaterial()}_prepareForRender(e){let n=e.isTextOutlineMaterial,o=e.uniforms,r=this.textRenderInfo;if(r){let{sdfTexture:a,blockBounds:c}=r;o.uTroikaSDFTexture.value=a,o.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),o.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,o.uTroikaSDFExponent.value=r.sdfExponent,o.uTroikaTotalBounds.value.fromArray(c),o.uTroikaUseGlyphColors.value=!n&&!!r.glyphColors;let l=0,u=0,h=0,f,p,g,w=0,y=0;if(n){let{outlineWidth:m,outlineOffsetX:v,outlineOffsetY:I,outlineBlur:E,outlineOpacity:b}=this;l=this._parsePercent(m)||0,u=Math.max(0,this._parsePercent(E)||0),f=b,w=this._parsePercent(v)||0,y=this._parsePercent(I)||0}else h=Math.max(0,this._parsePercent(this.strokeWidth)||0),h&&(g=this.strokeColor,o.uTroikaStrokeColor.value.set(g??Ku),p=this.strokeOpacity,p==null&&(p=1)),f=this.fillOpacity;o.uTroikaDistanceOffset.value=l,o.uTroikaPositionOffset.value.set(w,y),o.uTroikaBlurRadius.value=u,o.uTroikaStrokeWidth.value=h,o.uTroikaStrokeOpacity.value=p,o.uTroikaFillOpacity.value=f??1,o.uTroikaCurveRadius.value=this.curveRadius||0;let C=this.clipRect;if(C&&Array.isArray(C)&&C.length===4)o.uTroikaClipRect.value.fromArray(C);else{let m=(this.fontSize||.1)*100;o.uTroikaClipRect.value.set(c[0]-m,c[1]-m,c[2]+m,c[3]+m)}this.geometry.applyClipRect(o.uTroikaClipRect.value)}o.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;let t=n?this.outlineColor||0:this.color;if(t==null)delete e.color;else{let a=e.hasOwnProperty("color")?e.color:e.color=new qe;(t!==a._input||typeof t=="object")&&a.set(a._input=t)}let A=this.orientation||Da;if(A!==e._orientation){let a=o.uTroikaOrient.value;A=A.replace(/[^-+xyz]/g,"");let c=A!==Da&&A.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){let[,l,u,h,f]=c;Yo.set(0,0,0)[u]=l==="-"?1:-1,Sa.set(0,0,0)[f]=h==="-"?-1:1,Ju.lookAt(dm,Yo.cross(Sa),Sa),a.setFromMatrix4(Ju)}else a.identity();e._orientation=A}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),o=n?parseFloat(n[1]):NaN;e=(isNaN(o)?0:o/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new tt){n.copy(e);let o=this.curveRadius;return o&&(n.x=Math.atan2(e.x,Math.abs(o)-Math.abs(e.z))*Math.abs(o)),n}worldPositionToTextCoords(e,n=new tt){return Yo.copy(e),this.localPositionToTextCoords(this.worldToLocal(Yo),n)}raycast(e,n){let{textRenderInfo:o,curveRadius:r}=this;if(o){let t=o.blockBounds,A=r?uf():lf(),a=A.geometry,{position:c,uv:l}=a.attributes;for(let u=0;u<l.count;u++){let h=t[0]+l.getX(u)*(t[2]-t[0]),f=t[1]+l.getY(u)*(t[3]-t[1]),p=0;r&&(p=r-Math.cos(h/r)*r,h=Math.sin(h/r)*r),c.setXYZ(u,h,f,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,A.matrixWorld=this.matrixWorld,A.material.side=this.material.side,Di.length=0,A.raycast(e,Di);for(let u=0;u<Di.length;u++)Di[u].object=this,n.push(Di[u])}}copy(e){let n=this.geometry;return super.copy(e),this.geometry=n,ym.forEach(o=>{this[o]=e[o]}),this}clone(){return new this.constructor().copy(this)}};ff.forEach(i=>{let e="_private_"+i;Object.defineProperty(Sr.prototype,i,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});var vm={type:"syncstart"},wm={type:"synccomplete"},bn="aTroikaTextBatchMemberIndex",Ri=17;Ri=Math.ceil(Ri/4)*4;var Zu=new Je,xm=new qe,_a=class i extends Sr{constructor(){super(),this._members=new Map,this._onMemberSynced=e=>{this._members.get(e.target).dirty=!0},this._onMemberRemoved=e=>{this.removeText(e.target)}}add(...e){for(let n=0;n<e.length;n++)e[n]instanceof Sr?this.addText(e[n]):super.add(e[n]);return this}addText(e){this._members.has(e)||(this._members.set(e,{index:-1,glyphCount:-1,dirty:!0}),e.addEventListener("removed",this._onMemberRemoved),e.addEventListener("synccomplete",this._onMemberSynced))}removeText(e){e.removeEventListener("removed",this._onMemberRemoved),e.removeEventListener("synccomplete",this._onMemberSynced),this._members.delete(e)}createDerivedMaterial(e){return Im(e)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateBounds()}updateBounds(){let e=this.geometry.boundingBox.makeEmpty();this._members.forEach((n,o)=>{o.matrixAutoUpdate&&o.updateMatrix(),Zu.copy(o.geometry.boundingBox).applyMatrix4(o.matrix),e.union(Zu)}),e.getBoundingSphere(this.geometry.boundingSphere)}_prepareForRender(e){let n=this._mat4Texture,o=Math.pow(2,Math.ceil(Math.log2(this._members.size*Ri)));if(!n||o!==n.image.data.length){n&&n.dispose();let A=Math.min(o/4,1024);n=this._mat4Texture=new hu(new Float32Array(o),A,o/4/A,tu,eu)}let r=n.image.data,t=(A,a)=>{a!==r[A]&&(r[A]=a,n.needsUpdate=!0)};this._members.forEach(({index:A,dirty:a},c)=>{if(A>-1){let l=A*Ri,u=c.matrix.elements;for(let f=0;f<16;f++)t(l+f,u[f]);let h=c.color;h==null&&(h=this.color),h==null&&(h=this.material.color),h==null&&(h=16777215),t(l+16,xm.set(h).getHex())}}),e.setMatrixTexture(n),super._prepareForRender(e)}sync(e){let n;this._members.forEach((o,r)=>{(o.dirty||r._needsSync)&&(o.dirty=!1,(n||(n=[])).push(new Promise(t=>{r._needsSync?r.sync(t):t()})))}),n&&(this.dispatchEvent(vm),Promise.all(n).then(()=>{let{geometry:o}=this,r=o.attributes,t=r[bn]&&r[bn].array||new Uint16Array(0),A=r[Mi]&&r[Mi].array||new Float32Array(0),a=r[qo]&&r[qo].array||new Float32Array(0),c=0;this._members.forEach((h,{textRenderInfo:f})=>{f&&(c+=f.glyphAtlasIndices.length,this._textRenderInfo=f)}),c!==t.length&&(t=Ma(t,c),A=Ma(A,c),a=Ma(a,c*4));let l=0,u=0;this._members.forEach((h,{textRenderInfo:f})=>{if(f){let p=f.glyphAtlasIndices.length;t.fill(l,u,u+p),A.set(f.glyphAtlasIndices,u,u+p),a.set(f.glyphBounds,u*4,(u+p)*4),u+=p,h.index=l++}}),o.updateAttributeData(bn,t,1),o.getAttribute(bn).setUsage(ou),o.updateAttributeData(Mi,A,1),o.updateAttributeData(qo,a,4),this.updateBounds(),this.dispatchEvent(wm),e&&e()}))}copy(e){return e instanceof i&&(super.copy(e),this._members.forEach((n,o)=>this.removeText(o)),e._members.forEach((n,o)=>this.addText(o))),this}dispose(){super.dispose(),this._mat4Texture.dispose()}};function Ma(i,e){let n=new i.constructor(e);return n.set(i.subarray(0,e)),n}function Im(i){let e="uTroikaMatricesTexture",n="uTroikaMatricesTextureSize",o="vTroikaTextColor",r=Si(i,{chained:!0,uniforms:{[n]:{value:new tt},[e]:{value:null}},vertexDefs:`
      uniform sampler2D ${e};
      uniform vec2 ${n};
      attribute float ${bn};
      varying vec3 ${o};

      vec4 troikaGetTexel(float i) {
        float w = ${n}.x;
        vec2 uv = (vec2(mod(i, w), floor(i / w)) + 0.5) / w;
        return texture2D(${e}, uv);
      }
      vec3 troikaFloatToColor(float v) {
        return mod(floor(vec3(v / 65536.0, v / 256.0, v)), 256.0) / 256.0;
      }
    `,vertexTransform:`
      float i = ${bn} * ${Ri.toFixed(1)} / 4.0;
      mat4 matrix = mat4(
        troikaGetTexel(i),
        troikaGetTexel(i + 1.0),
        troikaGetTexel(i + 2.0),
        troikaGetTexel(i + 3.0)
      );
      position.xyz = (matrix * vec4(position, 1.0)).xyz;

      float packedColor = troikaGetTexel(i + 4.0).r;
      ${o} = troikaFloatToColor(packedColor);
    `,fragmentDefs:`
      varying vec3 ${o};
    `,fragmentColorTransform:`
      gl_FragColor.rgb = ${o};
    `});return r.setMatrixTexture=t=>{r.uniforms[e].value=t,r.uniforms[n].value.set(t.image.width,t.image.height)},Pa(r)}function Cm(i,e,n){let o=null,r=bm(i),t=null;return r.forEach(A=>{(!t||Math.abs(n-(A.top+A.bottom)/2)<Math.abs(n-(t.top+t.bottom)/2))&&(t=A)}),t.carets.forEach(A=>{(!o||Math.abs(e-A.x)<Math.abs(e-o.x))&&(o=A)}),o}var $u=new WeakMap;function Em(i,e,n){let o;if(i){let r=$u.get(i);if(r&&r.start===e&&r.end===n)return r.rects;let{caretPositions:t}=i;if(n<e){let a=e;e=n,n=a}e=Math.max(e,0),n=Math.min(n,t.length+1),o=[];let A=null;for(let a=e;a<n;a++){let c=t[a*4],l=t[a*4+1],u=Math.min(c,l),h=Math.max(c,l),f=t[a*4+2],p=t[a*4+3];(!A||f!==A.bottom||p!==A.top||u>A.right||h<A.left)&&(A={left:1/0,right:-1/0,bottom:f,top:p},o.push(A)),A.left=Math.min(u,A.left),A.right=Math.max(h,A.right)}o.sort((a,c)=>c.bottom-a.bottom||a.left-c.left);for(let a=o.length-1;a-- >0;){let c=o[a],l=o[a+1];c.bottom===l.bottom&&c.top===l.top&&c.left<=l.right&&c.right>=l.left&&(l.left=Math.min(l.left,c.left),l.right=Math.max(l.right,c.right),o.splice(a,1))}$u.set(i,{start:e,end:n,rects:o})}return o}var ef=new WeakMap;function bm(i){let e=ef.get(i);if(!e){e=[];let{caretPositions:n}=i,o,r=(A,a,c,l)=>{(!o||c<(o.top+o.bottom)/2)&&e.push(o={bottom:a,top:c,carets:[]}),c>o.top&&(o.top=c),a<o.bottom&&(o.bottom=a),o.carets.push({x:A,y:a,height:c-a,charIndex:l})},t=0;for(;t<n.length;t+=4)r(n[t],n[t+2],n[t+3],t/4);r(n[t-3],n[t-2],n[t-1],t/4)}return ef.set(i,e),e}var za=class{chunkSize;data;constructor(e=32){this.chunkSize=e,this.data=new Map}get(e,n,o){let{chunkSize:r}=this,t=`${e}:${n}:${o}`,A=this.data.get(t);return A||(A=new Uint32Array(r*r*r),this.data.set(t,A)),A}save(){}},Ha=class extends _e{constructor(e){super(new lt,e),this.castShadow=!0,this.receiveShadow=!0,this.matrixAutoUpdate=!1}dispose(){let{geometry:e}=this;e.dispose()}raycast(){}update({bounds:e,vertices:n}){let{geometry:o}=this,r=new wn(n,9);o.setAttribute("position",new nr(r,3,0)),o.setAttribute("normal",new nr(r,3,3)),o.setAttribute("color",new nr(r,3,6)),o.boundingBox||(o.boundingBox=new Je),o.boundingBox.min.set(e[0],e[1],e[2]),o.boundingBox.max.set(e[3],e[4],e[5]),o.boundingSphere||(o.boundingSphere=new Ft),o.boundingBox.getBoundingSphere(o.boundingSphere)}},Bm=new qe,_i=new _e(new kt(1,1,1)),Ua=[],La=new Ft,Tm=new Pe,Zo=new j,Va=class extends _e{constructor(e){let n=new Po;n.boundingSphere=new Ft,n.setIndex(_i.geometry.getIndex()),n.setAttribute("position",_i.geometry.getAttribute("position")),n.setAttribute("normal",_i.geometry.getAttribute("normal")),super(n,e),this.castShadow=!0,this.receiveShadow=!0,this.matrixAutoUpdate=!1}dispose(){let{geometry:e}=this;e.dispose()}getColor(e){let{geometry:n}=this,o=n.getAttribute("color");return Bm.fromBufferAttribute(o,e).convertLinearToSRGB()}raycast(e,n){let{geometry:o,matrixWorld:r,parent:t}=this;if(!t?.visible||!o.boundingSphere||(La.copy(o.boundingSphere),La.applyMatrix4(r),!e.ray.intersectsSphere(La)))return;let A=o.getAttribute("instance");for(let a=0,c=o.instanceCount;a<c;a++)Zo.fromBufferAttribute(A,a),_i.matrixWorld.multiplyMatrices(r,Tm.makeTranslation(Zo.x,Zo.y,Zo.z)),_i.raycast(e,Ua),Ua.forEach(l=>{l.object=this,l.instanceId=a,n.push(l)}),Ua.length=0}update({voxels:e}){let{geometry:n}=this,o=new Cu(e,6,1);n.setAttribute("instance",new nr(o,3,0)),n.setAttribute("color",new nr(o,3,3)),n.instanceCount=n._maxInstanceCount=o.count}},ja=class extends Qt{triangles;voxels;request=0;version=0;constructor({geometry:e,materials:n,position:o}){super(),this.position.copy(o),this.updateMatrixWorld(),this.matrixAutoUpdate=!1,this.triangles=new Ha(n.triangles),this.add(this.triangles),this.voxels=new Va(n.voxels),this.add(this.voxels),this.update(e)}dispose(){let{triangles:e,voxels:n}=this;e.dispose(),n.dispose()}update(e){if(!e)return void(this.visible=!1);let{triangles:n,voxels:o}=this;n.update(e),o.update(e),o.geometry.boundingBox=n.geometry.boundingBox,o.geometry.boundingSphere=n.geometry.boundingSphere,this.visible=!0}},Ya=class{instances;queue;constructor({buffer:e,concurrency:n=navigator.hardwareConcurrency||1,options:o,program:r,script:t}){this.queue=[],r().then(A=>{this.instances=Array.from({length:n},()=>{let a=new t;a.buffer=new Uint32Array(e),a.isBusy=!0,a.run=({buffers:u,resolve:h})=>{a.isBusy=!0,a.resolve=h;let f=u[0].length;u.forEach((p,g)=>{a.buffer.set(p,f*g)}),a.postMessage(a.buffer,[a.buffer.buffer])};let c=()=>{a.removeEventListener("message",c),a.addEventListener("message",l);let u=this.queue.shift();u?a.run(u):a.isBusy=!1},l=({data:{buffer:u,data:h}})=>{a.buffer=u;let{resolve:f}=a;delete a.resolve,f(h);let p=this.queue.shift();p?a.run(p):a.isBusy=!1};return a.addEventListener("message",c),a.postMessage({options:o,program:A}),a})})}dispose(){let{instances:e}=this;e&&e.forEach(n=>n.terminate())}run(e){let{instances:n,queue:o}=this;return new Promise(r=>{if(!n)return void o.push({buffers:e,resolve:r});let t;for(let A=0,a=n.length;A<a;A++)if(!n[A].isBusy){t=n[A];break}t?t.run({buffers:e,resolve:r}):o.push({buffers:e,resolve:r})})}};function Sm(i){return function(e,n,o,r){function t(g,w,y){var C=y?WebAssembly.instantiateStreaming:WebAssembly.instantiate,m=y?WebAssembly.compileStreaming:WebAssembly.compile;return w?C(g,w):m(g)}var A=null,a=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;if(0)var c,l;if(n)return t(fetch(n),r,!0);if(a)A=Buffer.from(o,"base64");else{var u=globalThis.atob(o),h=u.length;A=new Uint8Array(new ArrayBuffer(h));for(var f=0;f<h;f++)A[f]=u.charCodeAt(f)}if(e){var p=new WebAssembly.Module(A);return r?new WebAssembly.Instance(p,r):p}return t(A,r,!1)}(0,null,"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AACsCwAArAQAAKUFAACvBgAApgcAAKoAAACjAQAAqQIAAKADAAAwDQAAOQwAADMPAAA6DgAANgkAAD8IAAA1CwAAPAoAADwFAAA1BAAAPwcAADYGAAA6AQAAMwAAADkDAAAwAgAAkA4AAJkPAACTDAAAmg0AAJYKAACfCwAAlQgAAJwJAACcBgAAlQcAAJ8EAACWBQAAmgIAAJMDAACZAAAAkAEAAAAPAAAJDgAAAw0AAAoMAAAGCwAADwoAAAUJAAAMCAAADAcAAAUGAAAPBQAABgQAAAoDAAADAgAACQEAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////AAAAAAgAAAADAAAA/////////////////////////////////////////////////////////////////////wAAAAABAAAACQAAAP////////////////////////////////////////////////////////////////////8BAAAACAAAAAMAAAAJAAAACAAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAAKAAAA/////////////////////////////////////////////////////////////////////wAAAAAIAAAAAwAAAAEAAAACAAAACgAAAP////////////////////////////////////////////////////8JAAAAAgAAAAoAAAAAAAAAAgAAAAkAAAD/////////////////////////////////////////////////////AgAAAAgAAAADAAAAAgAAAAoAAAAIAAAACgAAAAkAAAAIAAAA/////////////////////////////////////wMAAAALAAAAAgAAAP////////////////////////////////////////////////////////////////////8AAAAACwAAAAIAAAAIAAAACwAAAAAAAAD/////////////////////////////////////////////////////AQAAAAkAAAAAAAAAAgAAAAMAAAALAAAA/////////////////////////////////////////////////////wEAAAALAAAAAgAAAAEAAAAJAAAACwAAAAkAAAAIAAAACwAAAP////////////////////////////////////8DAAAACgAAAAEAAAALAAAACgAAAAMAAAD/////////////////////////////////////////////////////AAAAAAoAAAABAAAAAAAAAAgAAAAKAAAACAAAAAsAAAAKAAAA/////////////////////////////////////wMAAAAJAAAAAAAAAAMAAAALAAAACQAAAAsAAAAKAAAACQAAAP////////////////////////////////////8JAAAACAAAAAoAAAAKAAAACAAAAAsAAAD/////////////////////////////////////////////////////BAAAAAcAAAAIAAAA/////////////////////////////////////////////////////////////////////wQAAAADAAAAAAAAAAcAAAADAAAABAAAAP////////////////////////////////////////////////////8AAAAAAQAAAAkAAAAIAAAABAAAAAcAAAD/////////////////////////////////////////////////////BAAAAAEAAAAJAAAABAAAAAcAAAABAAAABwAAAAMAAAABAAAA/////////////////////////////////////wEAAAACAAAACgAAAAgAAAAEAAAABwAAAP////////////////////////////////////////////////////8DAAAABAAAAAcAAAADAAAAAAAAAAQAAAABAAAAAgAAAAoAAAD/////////////////////////////////////CQAAAAIAAAAKAAAACQAAAAAAAAACAAAACAAAAAQAAAAHAAAA/////////////////////////////////////wIAAAAKAAAACQAAAAIAAAAJAAAABwAAAAIAAAAHAAAAAwAAAAcAAAAJAAAABAAAAP////////////////////8IAAAABAAAAAcAAAADAAAACwAAAAIAAAD/////////////////////////////////////////////////////CwAAAAQAAAAHAAAACwAAAAIAAAAEAAAAAgAAAAAAAAAEAAAA/////////////////////////////////////wkAAAAAAAAAAQAAAAgAAAAEAAAABwAAAAIAAAADAAAACwAAAP////////////////////////////////////8EAAAABwAAAAsAAAAJAAAABAAAAAsAAAAJAAAACwAAAAIAAAAJAAAAAgAAAAEAAAD/////////////////////AwAAAAoAAAABAAAAAwAAAAsAAAAKAAAABwAAAAgAAAAEAAAA/////////////////////////////////////wEAAAALAAAACgAAAAEAAAAEAAAACwAAAAEAAAAAAAAABAAAAAcAAAALAAAABAAAAP////////////////////8EAAAABwAAAAgAAAAJAAAAAAAAAAsAAAAJAAAACwAAAAoAAAALAAAAAAAAAAMAAAD/////////////////////BAAAAAcAAAALAAAABAAAAAsAAAAJAAAACQAAAAsAAAAKAAAA/////////////////////////////////////wkAAAAFAAAABAAAAP////////////////////////////////////////////////////////////////////8JAAAABQAAAAQAAAAAAAAACAAAAAMAAAD/////////////////////////////////////////////////////AAAAAAUAAAAEAAAAAQAAAAUAAAAAAAAA/////////////////////////////////////////////////////wgAAAAFAAAABAAAAAgAAAADAAAABQAAAAMAAAABAAAABQAAAP////////////////////////////////////8BAAAAAgAAAAoAAAAJAAAABQAAAAQAAAD/////////////////////////////////////////////////////AwAAAAAAAAAIAAAAAQAAAAIAAAAKAAAABAAAAAkAAAAFAAAA/////////////////////////////////////wUAAAACAAAACgAAAAUAAAAEAAAAAgAAAAQAAAAAAAAAAgAAAP////////////////////////////////////8CAAAACgAAAAUAAAADAAAAAgAAAAUAAAADAAAABQAAAAQAAAADAAAABAAAAAgAAAD/////////////////////CQAAAAUAAAAEAAAAAgAAAAMAAAALAAAA/////////////////////////////////////////////////////wAAAAALAAAAAgAAAAAAAAAIAAAACwAAAAQAAAAJAAAABQAAAP////////////////////////////////////8AAAAABQAAAAQAAAAAAAAAAQAAAAUAAAACAAAAAwAAAAsAAAD/////////////////////////////////////AgAAAAEAAAAFAAAAAgAAAAUAAAAIAAAAAgAAAAgAAAALAAAABAAAAAgAAAAFAAAA/////////////////////woAAAADAAAACwAAAAoAAAABAAAAAwAAAAkAAAAFAAAABAAAAP////////////////////////////////////8EAAAACQAAAAUAAAAAAAAACAAAAAEAAAAIAAAACgAAAAEAAAAIAAAACwAAAAoAAAD/////////////////////BQAAAAQAAAAAAAAABQAAAAAAAAALAAAABQAAAAsAAAAKAAAACwAAAAAAAAADAAAA/////////////////////wUAAAAEAAAACAAAAAUAAAAIAAAACgAAAAoAAAAIAAAACwAAAP////////////////////////////////////8JAAAABwAAAAgAAAAFAAAABwAAAAkAAAD/////////////////////////////////////////////////////CQAAAAMAAAAAAAAACQAAAAUAAAADAAAABQAAAAcAAAADAAAA/////////////////////////////////////wAAAAAHAAAACAAAAAAAAAABAAAABwAAAAEAAAAFAAAABwAAAP////////////////////////////////////8BAAAABQAAAAMAAAADAAAABQAAAAcAAAD/////////////////////////////////////////////////////CQAAAAcAAAAIAAAACQAAAAUAAAAHAAAACgAAAAEAAAACAAAA/////////////////////////////////////woAAAABAAAAAgAAAAkAAAAFAAAAAAAAAAUAAAADAAAAAAAAAAUAAAAHAAAAAwAAAP////////////////////8IAAAAAAAAAAIAAAAIAAAAAgAAAAUAAAAIAAAABQAAAAcAAAAKAAAABQAAAAIAAAD/////////////////////AgAAAAoAAAAFAAAAAgAAAAUAAAADAAAAAwAAAAUAAAAHAAAA/////////////////////////////////////wcAAAAJAAAABQAAAAcAAAAIAAAACQAAAAMAAAALAAAAAgAAAP////////////////////////////////////8JAAAABQAAAAcAAAAJAAAABwAAAAIAAAAJAAAAAgAAAAAAAAACAAAABwAAAAsAAAD/////////////////////AgAAAAMAAAALAAAAAAAAAAEAAAAIAAAAAQAAAAcAAAAIAAAAAQAAAAUAAAAHAAAA/////////////////////wsAAAACAAAAAQAAAAsAAAABAAAABwAAAAcAAAABAAAABQAAAP////////////////////////////////////8JAAAABQAAAAgAAAAIAAAABQAAAAcAAAAKAAAAAQAAAAMAAAAKAAAAAwAAAAsAAAD/////////////////////BQAAAAcAAAAAAAAABQAAAAAAAAAJAAAABwAAAAsAAAAAAAAAAQAAAAAAAAAKAAAACwAAAAoAAAAAAAAA/////wsAAAAKAAAAAAAAAAsAAAAAAAAAAwAAAAoAAAAFAAAAAAAAAAgAAAAAAAAABwAAAAUAAAAHAAAAAAAAAP////8LAAAACgAAAAUAAAAHAAAACwAAAAUAAAD/////////////////////////////////////////////////////CgAAAAYAAAAFAAAA/////////////////////////////////////////////////////////////////////wAAAAAIAAAAAwAAAAUAAAAKAAAABgAAAP////////////////////////////////////////////////////8JAAAAAAAAAAEAAAAFAAAACgAAAAYAAAD/////////////////////////////////////////////////////AQAAAAgAAAADAAAAAQAAAAkAAAAIAAAABQAAAAoAAAAGAAAA/////////////////////////////////////wEAAAAGAAAABQAAAAIAAAAGAAAAAQAAAP////////////////////////////////////////////////////8BAAAABgAAAAUAAAABAAAAAgAAAAYAAAADAAAAAAAAAAgAAAD/////////////////////////////////////CQAAAAYAAAAFAAAACQAAAAAAAAAGAAAAAAAAAAIAAAAGAAAA/////////////////////////////////////wUAAAAJAAAACAAAAAUAAAAIAAAAAgAAAAUAAAACAAAABgAAAAMAAAACAAAACAAAAP////////////////////8CAAAAAwAAAAsAAAAKAAAABgAAAAUAAAD/////////////////////////////////////////////////////CwAAAAAAAAAIAAAACwAAAAIAAAAAAAAACgAAAAYAAAAFAAAA/////////////////////////////////////wAAAAABAAAACQAAAAIAAAADAAAACwAAAAUAAAAKAAAABgAAAP////////////////////////////////////8FAAAACgAAAAYAAAABAAAACQAAAAIAAAAJAAAACwAAAAIAAAAJAAAACAAAAAsAAAD/////////////////////BgAAAAMAAAALAAAABgAAAAUAAAADAAAABQAAAAEAAAADAAAA/////////////////////////////////////wAAAAAIAAAACwAAAAAAAAALAAAABQAAAAAAAAAFAAAAAQAAAAUAAAALAAAABgAAAP////////////////////8DAAAACwAAAAYAAAAAAAAAAwAAAAYAAAAAAAAABgAAAAUAAAAAAAAABQAAAAkAAAD/////////////////////BgAAAAUAAAAJAAAABgAAAAkAAAALAAAACwAAAAkAAAAIAAAA/////////////////////////////////////wUAAAAKAAAABgAAAAQAAAAHAAAACAAAAP////////////////////////////////////////////////////8EAAAAAwAAAAAAAAAEAAAABwAAAAMAAAAGAAAABQAAAAoAAAD/////////////////////////////////////AQAAAAkAAAAAAAAABQAAAAoAAAAGAAAACAAAAAQAAAAHAAAA/////////////////////////////////////woAAAAGAAAABQAAAAEAAAAJAAAABwAAAAEAAAAHAAAAAwAAAAcAAAAJAAAABAAAAP////////////////////8GAAAAAQAAAAIAAAAGAAAABQAAAAEAAAAEAAAABwAAAAgAAAD/////////////////////////////////////AQAAAAIAAAAFAAAABQAAAAIAAAAGAAAAAwAAAAAAAAAEAAAAAwAAAAQAAAAHAAAA/////////////////////wgAAAAEAAAABwAAAAkAAAAAAAAABQAAAAAAAAAGAAAABQAAAAAAAAACAAAABgAAAP////////////////////8HAAAAAwAAAAkAAAAHAAAACQAAAAQAAAADAAAAAgAAAAkAAAAFAAAACQAAAAYAAAACAAAABgAAAAkAAAD/////AwAAAAsAAAACAAAABwAAAAgAAAAEAAAACgAAAAYAAAAFAAAA/////////////////////////////////////wUAAAAKAAAABgAAAAQAAAAHAAAAAgAAAAQAAAACAAAAAAAAAAIAAAAHAAAACwAAAP////////////////////8AAAAAAQAAAAkAAAAEAAAABwAAAAgAAAACAAAAAwAAAAsAAAAFAAAACgAAAAYAAAD/////////////////////CQAAAAIAAAABAAAACQAAAAsAAAACAAAACQAAAAQAAAALAAAABwAAAAsAAAAEAAAABQAAAAoAAAAGAAAA/////wgAAAAEAAAABwAAAAMAAAALAAAABQAAAAMAAAAFAAAAAQAAAAUAAAALAAAABgAAAP////////////////////8FAAAAAQAAAAsAAAAFAAAACwAAAAYAAAABAAAAAAAAAAsAAAAHAAAACwAAAAQAAAAAAAAABAAAAAsAAAD/////AAAAAAUAAAAJAAAAAAAAAAYAAAAFAAAAAAAAAAMAAAAGAAAACwAAAAYAAAADAAAACAAAAAQAAAAHAAAA/////wYAAAAFAAAACQAAAAYAAAAJAAAACwAAAAQAAAAHAAAACQAAAAcAAAALAAAACQAAAP////////////////////8KAAAABAAAAAkAAAAGAAAABAAAAAoAAAD/////////////////////////////////////////////////////BAAAAAoAAAAGAAAABAAAAAkAAAAKAAAAAAAAAAgAAAADAAAA/////////////////////////////////////woAAAAAAAAAAQAAAAoAAAAGAAAAAAAAAAYAAAAEAAAAAAAAAP////////////////////////////////////8IAAAAAwAAAAEAAAAIAAAAAQAAAAYAAAAIAAAABgAAAAQAAAAGAAAAAQAAAAoAAAD/////////////////////AQAAAAQAAAAJAAAAAQAAAAIAAAAEAAAAAgAAAAYAAAAEAAAA/////////////////////////////////////wMAAAAAAAAACAAAAAEAAAACAAAACQAAAAIAAAAEAAAACQAAAAIAAAAGAAAABAAAAP////////////////////8AAAAAAgAAAAQAAAAEAAAAAgAAAAYAAAD/////////////////////////////////////////////////////CAAAAAMAAAACAAAACAAAAAIAAAAEAAAABAAAAAIAAAAGAAAA/////////////////////////////////////woAAAAEAAAACQAAAAoAAAAGAAAABAAAAAsAAAACAAAAAwAAAP////////////////////////////////////8AAAAACAAAAAIAAAACAAAACAAAAAsAAAAEAAAACQAAAAoAAAAEAAAACgAAAAYAAAD/////////////////////AwAAAAsAAAACAAAAAAAAAAEAAAAGAAAAAAAAAAYAAAAEAAAABgAAAAEAAAAKAAAA/////////////////////wYAAAAEAAAAAQAAAAYAAAABAAAACgAAAAQAAAAIAAAAAQAAAAIAAAABAAAACwAAAAgAAAALAAAAAQAAAP////8JAAAABgAAAAQAAAAJAAAAAwAAAAYAAAAJAAAAAQAAAAMAAAALAAAABgAAAAMAAAD/////////////////////CAAAAAsAAAABAAAACAAAAAEAAAAAAAAACwAAAAYAAAABAAAACQAAAAEAAAAEAAAABgAAAAQAAAABAAAA/////wMAAAALAAAABgAAAAMAAAAGAAAAAAAAAAAAAAAGAAAABAAAAP////////////////////////////////////8GAAAABAAAAAgAAAALAAAABgAAAAgAAAD/////////////////////////////////////////////////////BwAAAAoAAAAGAAAABwAAAAgAAAAKAAAACAAAAAkAAAAKAAAA/////////////////////////////////////wAAAAAHAAAAAwAAAAAAAAAKAAAABwAAAAAAAAAJAAAACgAAAAYAAAAHAAAACgAAAP////////////////////8KAAAABgAAAAcAAAABAAAACgAAAAcAAAABAAAABwAAAAgAAAABAAAACAAAAAAAAAD/////////////////////CgAAAAYAAAAHAAAACgAAAAcAAAABAAAAAQAAAAcAAAADAAAA/////////////////////////////////////wEAAAACAAAABgAAAAEAAAAGAAAACAAAAAEAAAAIAAAACQAAAAgAAAAGAAAABwAAAP////////////////////8CAAAABgAAAAkAAAACAAAACQAAAAEAAAAGAAAABwAAAAkAAAAAAAAACQAAAAMAAAAHAAAAAwAAAAkAAAD/////BwAAAAgAAAAAAAAABwAAAAAAAAAGAAAABgAAAAAAAAACAAAA/////////////////////////////////////wcAAAADAAAAAgAAAAYAAAAHAAAAAgAAAP////////////////////////////////////////////////////8CAAAAAwAAAAsAAAAKAAAABgAAAAgAAAAKAAAACAAAAAkAAAAIAAAABgAAAAcAAAD/////////////////////AgAAAAAAAAAHAAAAAgAAAAcAAAALAAAAAAAAAAkAAAAHAAAABgAAAAcAAAAKAAAACQAAAAoAAAAHAAAA/////wEAAAAIAAAAAAAAAAEAAAAHAAAACAAAAAEAAAAKAAAABwAAAAYAAAAHAAAACgAAAAIAAAADAAAACwAAAP////8LAAAAAgAAAAEAAAALAAAAAQAAAAcAAAAKAAAABgAAAAEAAAAGAAAABwAAAAEAAAD/////////////////////CAAAAAkAAAAGAAAACAAAAAYAAAAHAAAACQAAAAEAAAAGAAAACwAAAAYAAAADAAAAAQAAAAMAAAAGAAAA/////wAAAAAJAAAAAQAAAAsAAAAGAAAABwAAAP////////////////////////////////////////////////////8HAAAACAAAAAAAAAAHAAAAAAAAAAYAAAADAAAACwAAAAAAAAALAAAABgAAAAAAAAD/////////////////////BwAAAAsAAAAGAAAA/////////////////////////////////////////////////////////////////////wcAAAAGAAAACwAAAP////////////////////////////////////////////////////////////////////8DAAAAAAAAAAgAAAALAAAABwAAAAYAAAD/////////////////////////////////////////////////////AAAAAAEAAAAJAAAACwAAAAcAAAAGAAAA/////////////////////////////////////////////////////wgAAAABAAAACQAAAAgAAAADAAAAAQAAAAsAAAAHAAAABgAAAP////////////////////////////////////8KAAAAAQAAAAIAAAAGAAAACwAAAAcAAAD/////////////////////////////////////////////////////AQAAAAIAAAAKAAAAAwAAAAAAAAAIAAAABgAAAAsAAAAHAAAA/////////////////////////////////////wIAAAAJAAAAAAAAAAIAAAAKAAAACQAAAAYAAAALAAAABwAAAP////////////////////////////////////8GAAAACwAAAAcAAAACAAAACgAAAAMAAAAKAAAACAAAAAMAAAAKAAAACQAAAAgAAAD/////////////////////BwAAAAIAAAADAAAABgAAAAIAAAAHAAAA/////////////////////////////////////////////////////wcAAAAAAAAACAAAAAcAAAAGAAAAAAAAAAYAAAACAAAAAAAAAP////////////////////////////////////8CAAAABwAAAAYAAAACAAAAAwAAAAcAAAAAAAAAAQAAAAkAAAD/////////////////////////////////////AQAAAAYAAAACAAAAAQAAAAgAAAAGAAAAAQAAAAkAAAAIAAAACAAAAAcAAAAGAAAA/////////////////////woAAAAHAAAABgAAAAoAAAABAAAABwAAAAEAAAADAAAABwAAAP////////////////////////////////////8KAAAABwAAAAYAAAABAAAABwAAAAoAAAABAAAACAAAAAcAAAABAAAAAAAAAAgAAAD/////////////////////AAAAAAMAAAAHAAAAAAAAAAcAAAAKAAAAAAAAAAoAAAAJAAAABgAAAAoAAAAHAAAA/////////////////////wcAAAAGAAAACgAAAAcAAAAKAAAACAAAAAgAAAAKAAAACQAAAP////////////////////////////////////8GAAAACAAAAAQAAAALAAAACAAAAAYAAAD/////////////////////////////////////////////////////AwAAAAYAAAALAAAAAwAAAAAAAAAGAAAAAAAAAAQAAAAGAAAA/////////////////////////////////////wgAAAAGAAAACwAAAAgAAAAEAAAABgAAAAkAAAAAAAAAAQAAAP////////////////////////////////////8JAAAABAAAAAYAAAAJAAAABgAAAAMAAAAJAAAAAwAAAAEAAAALAAAAAwAAAAYAAAD/////////////////////BgAAAAgAAAAEAAAABgAAAAsAAAAIAAAAAgAAAAoAAAABAAAA/////////////////////////////////////wEAAAACAAAACgAAAAMAAAAAAAAACwAAAAAAAAAGAAAACwAAAAAAAAAEAAAABgAAAP////////////////////8EAAAACwAAAAgAAAAEAAAABgAAAAsAAAAAAAAAAgAAAAkAAAACAAAACgAAAAkAAAD/////////////////////CgAAAAkAAAADAAAACgAAAAMAAAACAAAACQAAAAQAAAADAAAACwAAAAMAAAAGAAAABAAAAAYAAAADAAAA/////wgAAAACAAAAAwAAAAgAAAAEAAAAAgAAAAQAAAAGAAAAAgAAAP////////////////////////////////////8AAAAABAAAAAIAAAAEAAAABgAAAAIAAAD/////////////////////////////////////////////////////AQAAAAkAAAAAAAAAAgAAAAMAAAAEAAAAAgAAAAQAAAAGAAAABAAAAAMAAAAIAAAA/////////////////////wEAAAAJAAAABAAAAAEAAAAEAAAAAgAAAAIAAAAEAAAABgAAAP////////////////////////////////////8IAAAAAQAAAAMAAAAIAAAABgAAAAEAAAAIAAAABAAAAAYAAAAGAAAACgAAAAEAAAD/////////////////////CgAAAAEAAAAAAAAACgAAAAAAAAAGAAAABgAAAAAAAAAEAAAA/////////////////////////////////////wQAAAAGAAAAAwAAAAQAAAADAAAACAAAAAYAAAAKAAAAAwAAAAAAAAADAAAACQAAAAoAAAAJAAAAAwAAAP////8KAAAACQAAAAQAAAAGAAAACgAAAAQAAAD/////////////////////////////////////////////////////BAAAAAkAAAAFAAAABwAAAAYAAAALAAAA/////////////////////////////////////////////////////wAAAAAIAAAAAwAAAAQAAAAJAAAABQAAAAsAAAAHAAAABgAAAP////////////////////////////////////8FAAAAAAAAAAEAAAAFAAAABAAAAAAAAAAHAAAABgAAAAsAAAD/////////////////////////////////////CwAAAAcAAAAGAAAACAAAAAMAAAAEAAAAAwAAAAUAAAAEAAAAAwAAAAEAAAAFAAAA/////////////////////wkAAAAFAAAABAAAAAoAAAABAAAAAgAAAAcAAAAGAAAACwAAAP////////////////////////////////////8GAAAACwAAAAcAAAABAAAAAgAAAAoAAAAAAAAACAAAAAMAAAAEAAAACQAAAAUAAAD/////////////////////BwAAAAYAAAALAAAABQAAAAQAAAAKAAAABAAAAAIAAAAKAAAABAAAAAAAAAACAAAA/////////////////////wMAAAAEAAAACAAAAAMAAAAFAAAABAAAAAMAAAACAAAABQAAAAoAAAAFAAAAAgAAAAsAAAAHAAAABgAAAP////8HAAAAAgAAAAMAAAAHAAAABgAAAAIAAAAFAAAABAAAAAkAAAD/////////////////////////////////////CQAAAAUAAAAEAAAAAAAAAAgAAAAGAAAAAAAAAAYAAAACAAAABgAAAAgAAAAHAAAA/////////////////////wMAAAAGAAAAAgAAAAMAAAAHAAAABgAAAAEAAAAFAAAAAAAAAAUAAAAEAAAAAAAAAP////////////////////8GAAAAAgAAAAgAAAAGAAAACAAAAAcAAAACAAAAAQAAAAgAAAAEAAAACAAAAAUAAAABAAAABQAAAAgAAAD/////CQAAAAUAAAAEAAAACgAAAAEAAAAGAAAAAQAAAAcAAAAGAAAAAQAAAAMAAAAHAAAA/////////////////////wEAAAAGAAAACgAAAAEAAAAHAAAABgAAAAEAAAAAAAAABwAAAAgAAAAHAAAAAAAAAAkAAAAFAAAABAAAAP////8EAAAAAAAAAAoAAAAEAAAACgAAAAUAAAAAAAAAAwAAAAoAAAAGAAAACgAAAAcAAAADAAAABwAAAAoAAAD/////BwAAAAYAAAAKAAAABwAAAAoAAAAIAAAABQAAAAQAAAAKAAAABAAAAAgAAAAKAAAA/////////////////////wYAAAAJAAAABQAAAAYAAAALAAAACQAAAAsAAAAIAAAACQAAAP////////////////////////////////////8DAAAABgAAAAsAAAAAAAAABgAAAAMAAAAAAAAABQAAAAYAAAAAAAAACQAAAAUAAAD/////////////////////AAAAAAsAAAAIAAAAAAAAAAUAAAALAAAAAAAAAAEAAAAFAAAABQAAAAYAAAALAAAA/////////////////////wYAAAALAAAAAwAAAAYAAAADAAAABQAAAAUAAAADAAAAAQAAAP////////////////////////////////////8BAAAAAgAAAAoAAAAJAAAABQAAAAsAAAAJAAAACwAAAAgAAAALAAAABQAAAAYAAAD/////////////////////AAAAAAsAAAADAAAAAAAAAAYAAAALAAAAAAAAAAkAAAAGAAAABQAAAAYAAAAJAAAAAQAAAAIAAAAKAAAA/////wsAAAAIAAAABQAAAAsAAAAFAAAABgAAAAgAAAAAAAAABQAAAAoAAAAFAAAAAgAAAAAAAAACAAAABQAAAP////8GAAAACwAAAAMAAAAGAAAAAwAAAAUAAAACAAAACgAAAAMAAAAKAAAABQAAAAMAAAD/////////////////////BQAAAAgAAAAJAAAABQAAAAIAAAAIAAAABQAAAAYAAAACAAAAAwAAAAgAAAACAAAA/////////////////////wkAAAAFAAAABgAAAAkAAAAGAAAAAAAAAAAAAAAGAAAAAgAAAP////////////////////////////////////8BAAAABQAAAAgAAAABAAAACAAAAAAAAAAFAAAABgAAAAgAAAADAAAACAAAAAIAAAAGAAAAAgAAAAgAAAD/////AQAAAAUAAAAGAAAAAgAAAAEAAAAGAAAA/////////////////////////////////////////////////////wEAAAADAAAABgAAAAEAAAAGAAAACgAAAAMAAAAIAAAABgAAAAUAAAAGAAAACQAAAAgAAAAJAAAABgAAAP////8KAAAAAQAAAAAAAAAKAAAAAAAAAAYAAAAJAAAABQAAAAAAAAAFAAAABgAAAAAAAAD/////////////////////AAAAAAMAAAAIAAAABQAAAAYAAAAKAAAA/////////////////////////////////////////////////////woAAAAFAAAABgAAAP////////////////////////////////////////////////////////////////////8LAAAABQAAAAoAAAAHAAAABQAAAAsAAAD/////////////////////////////////////////////////////CwAAAAUAAAAKAAAACwAAAAcAAAAFAAAACAAAAAMAAAAAAAAA/////////////////////////////////////wUAAAALAAAABwAAAAUAAAAKAAAACwAAAAEAAAAJAAAAAAAAAP////////////////////////////////////8KAAAABwAAAAUAAAAKAAAACwAAAAcAAAAJAAAACAAAAAEAAAAIAAAAAwAAAAEAAAD/////////////////////CwAAAAEAAAACAAAACwAAAAcAAAABAAAABwAAAAUAAAABAAAA/////////////////////////////////////wAAAAAIAAAAAwAAAAEAAAACAAAABwAAAAEAAAAHAAAABQAAAAcAAAACAAAACwAAAP////////////////////8JAAAABwAAAAUAAAAJAAAAAgAAAAcAAAAJAAAAAAAAAAIAAAACAAAACwAAAAcAAAD/////////////////////BwAAAAUAAAACAAAABwAAAAIAAAALAAAABQAAAAkAAAACAAAAAwAAAAIAAAAIAAAACQAAAAgAAAACAAAA/////wIAAAAFAAAACgAAAAIAAAADAAAABQAAAAMAAAAHAAAABQAAAP////////////////////////////////////8IAAAAAgAAAAAAAAAIAAAABQAAAAIAAAAIAAAABwAAAAUAAAAKAAAAAgAAAAUAAAD/////////////////////CQAAAAAAAAABAAAABQAAAAoAAAADAAAABQAAAAMAAAAHAAAAAwAAAAoAAAACAAAA/////////////////////wkAAAAIAAAAAgAAAAkAAAACAAAAAQAAAAgAAAAHAAAAAgAAAAoAAAACAAAABQAAAAcAAAAFAAAAAgAAAP////8BAAAAAwAAAAUAAAADAAAABwAAAAUAAAD/////////////////////////////////////////////////////AAAAAAgAAAAHAAAAAAAAAAcAAAABAAAAAQAAAAcAAAAFAAAA/////////////////////////////////////wkAAAAAAAAAAwAAAAkAAAADAAAABQAAAAUAAAADAAAABwAAAP////////////////////////////////////8JAAAACAAAAAcAAAAFAAAACQAAAAcAAAD/////////////////////////////////////////////////////BQAAAAgAAAAEAAAABQAAAAoAAAAIAAAACgAAAAsAAAAIAAAA/////////////////////////////////////wUAAAAAAAAABAAAAAUAAAALAAAAAAAAAAUAAAAKAAAACwAAAAsAAAADAAAAAAAAAP////////////////////8AAAAAAQAAAAkAAAAIAAAABAAAAAoAAAAIAAAACgAAAAsAAAAKAAAABAAAAAUAAAD/////////////////////CgAAAAsAAAAEAAAACgAAAAQAAAAFAAAACwAAAAMAAAAEAAAACQAAAAQAAAABAAAAAwAAAAEAAAAEAAAA/////wIAAAAFAAAAAQAAAAIAAAAIAAAABQAAAAIAAAALAAAACAAAAAQAAAAFAAAACAAAAP////////////////////8AAAAABAAAAAsAAAAAAAAACwAAAAMAAAAEAAAABQAAAAsAAAACAAAACwAAAAEAAAAFAAAAAQAAAAsAAAD/////AAAAAAIAAAAFAAAAAAAAAAUAAAAJAAAAAgAAAAsAAAAFAAAABAAAAAUAAAAIAAAACwAAAAgAAAAFAAAA/////wkAAAAEAAAABQAAAAIAAAALAAAAAwAAAP////////////////////////////////////////////////////8CAAAABQAAAAoAAAADAAAABQAAAAIAAAADAAAABAAAAAUAAAADAAAACAAAAAQAAAD/////////////////////BQAAAAoAAAACAAAABQAAAAIAAAAEAAAABAAAAAIAAAAAAAAA/////////////////////////////////////wMAAAAKAAAAAgAAAAMAAAAFAAAACgAAAAMAAAAIAAAABQAAAAQAAAAFAAAACAAAAAAAAAABAAAACQAAAP////8FAAAACgAAAAIAAAAFAAAAAgAAAAQAAAABAAAACQAAAAIAAAAJAAAABAAAAAIAAAD/////////////////////CAAAAAQAAAAFAAAACAAAAAUAAAADAAAAAwAAAAUAAAABAAAA/////////////////////////////////////wAAAAAEAAAABQAAAAEAAAAAAAAABQAAAP////////////////////////////////////////////////////8IAAAABAAAAAUAAAAIAAAABQAAAAMAAAAJAAAAAAAAAAUAAAAAAAAAAwAAAAUAAAD/////////////////////CQAAAAQAAAAFAAAA/////////////////////////////////////////////////////////////////////wQAAAALAAAABwAAAAQAAAAJAAAACwAAAAkAAAAKAAAACwAAAP////////////////////////////////////8AAAAACAAAAAMAAAAEAAAACQAAAAcAAAAJAAAACwAAAAcAAAAJAAAACgAAAAsAAAD/////////////////////AQAAAAoAAAALAAAAAQAAAAsAAAAEAAAAAQAAAAQAAAAAAAAABwAAAAQAAAALAAAA/////////////////////wMAAAABAAAABAAAAAMAAAAEAAAACAAAAAEAAAAKAAAABAAAAAcAAAAEAAAACwAAAAoAAAALAAAABAAAAP////8EAAAACwAAAAcAAAAJAAAACwAAAAQAAAAJAAAAAgAAAAsAAAAJAAAAAQAAAAIAAAD/////////////////////CQAAAAcAAAAEAAAACQAAAAsAAAAHAAAACQAAAAEAAAALAAAAAgAAAAsAAAABAAAAAAAAAAgAAAADAAAA/////wsAAAAHAAAABAAAAAsAAAAEAAAAAgAAAAIAAAAEAAAAAAAAAP////////////////////////////////////8LAAAABwAAAAQAAAALAAAABAAAAAIAAAAIAAAAAwAAAAQAAAADAAAAAgAAAAQAAAD/////////////////////AgAAAAkAAAAKAAAAAgAAAAcAAAAJAAAAAgAAAAMAAAAHAAAABwAAAAQAAAAJAAAA/////////////////////wkAAAAKAAAABwAAAAkAAAAHAAAABAAAAAoAAAACAAAABwAAAAgAAAAHAAAAAAAAAAIAAAAAAAAABwAAAP////8DAAAABwAAAAoAAAADAAAACgAAAAIAAAAHAAAABAAAAAoAAAABAAAACgAAAAAAAAAEAAAAAAAAAAoAAAD/////AQAAAAoAAAACAAAACAAAAAcAAAAEAAAA/////////////////////////////////////////////////////wQAAAAJAAAAAQAAAAQAAAABAAAABwAAAAcAAAABAAAAAwAAAP////////////////////////////////////8EAAAACQAAAAEAAAAEAAAAAQAAAAcAAAAAAAAACAAAAAEAAAAIAAAABwAAAAEAAAD/////////////////////BAAAAAAAAAADAAAABwAAAAQAAAADAAAA/////////////////////////////////////////////////////wQAAAAIAAAABwAAAP////////////////////////////////////////////////////////////////////8JAAAACgAAAAgAAAAKAAAACwAAAAgAAAD/////////////////////////////////////////////////////AwAAAAAAAAAJAAAAAwAAAAkAAAALAAAACwAAAAkAAAAKAAAA/////////////////////////////////////wAAAAABAAAACgAAAAAAAAAKAAAACAAAAAgAAAAKAAAACwAAAP////////////////////////////////////8DAAAAAQAAAAoAAAALAAAAAwAAAAoAAAD/////////////////////////////////////////////////////AQAAAAIAAAALAAAAAQAAAAsAAAAJAAAACQAAAAsAAAAIAAAA/////////////////////////////////////wMAAAAAAAAACQAAAAMAAAAJAAAACwAAAAEAAAACAAAACQAAAAIAAAALAAAACQAAAP////////////////////8AAAAAAgAAAAsAAAAIAAAAAAAAAAsAAAD/////////////////////////////////////////////////////AwAAAAIAAAALAAAA/////////////////////////////////////////////////////////////////////wIAAAADAAAACAAAAAIAAAAIAAAACgAAAAoAAAAIAAAACQAAAP////////////////////////////////////8JAAAACgAAAAIAAAAAAAAACQAAAAIAAAD/////////////////////////////////////////////////////AgAAAAMAAAAIAAAAAgAAAAgAAAAKAAAAAAAAAAEAAAAIAAAAAQAAAAoAAAAIAAAA/////////////////////wEAAAAKAAAAAgAAAP////////////////////////////////////////////////////////////////////8BAAAAAwAAAAgAAAAJAAAAAQAAAAgAAAD/////////////////////////////////////////////////////AAAAAAkAAAABAAAA/////////////////////////////////////////////////////////////////////wAAAAADAAAACAAAAP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AI4CBG5hbWUB5gETABJfX3dhc21faW5pdF9tZW1vcnkBBWFib3J0AgRzYnJrAwZtYWxsb2MECGRsbWFsbG9jBQVkdW1teQYRX193YXNtX2NhbGxfZHRvcnMHDl9fbWF0aF9pbnZhbGlkCAxfX21hdGhfeGZsb3cJDF9fbWF0aF9vZmxvdwoMX19tYXRoX3VmbG93CwNwb3cMCGNoZWNraW50DQtzcGVjaWFsY2FzZQ4DcnVuDwNnZXQQC2ludGVycG9sYXRlERJydW4uY29tbWFuZF9leHBvcnQSFW1hbGxvYy5jb21tYW5kX2V4cG9ydAcSAQAPX19zdGFja19wb2ludGVyCQoBAAcucm9kYXRhACYJcHJvZHVjZXJzAQxwcm9jZXNzZWQtYnkBBWNsYW5nBjE1LjAuNgAeD3RhcmdldF9mZWF0dXJlcwErC2J1bGstbWVtb3J5",i)}var pf=null;try{hf=typeof module<"u"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof br=="function"&&br("worker_threads"),pf=hf.Worker}catch{}var hf;function Dm(i,e,n){var o=e===void 0?null:e,r=function(a,c){return Buffer.from(a,"base64").toString(c?"utf16":"utf8")}(i,n!==void 0&&n),t=r.indexOf(`
`,10)+1,A=r.substring(t)+(o?"//# sourceMappingURL="+o:"");return function(a){return new pf(A,Object.assign({},a,{eval:!0}))}}function Mm(i,e,n){var o=e===void 0?null:e,r=function(c,l){var u=atob(c);if(l){for(var h=new Uint8Array(u.length),f=0,p=u.length;f<p;++f)h[f]=u.charCodeAt(f);return String.fromCharCode.apply(null,new Uint16Array(h.buffer))}return u}(i,n!==void 0&&n),t=r.indexOf(`
`,10)+1,A=r.substring(t)+(o?"//# sourceMappingURL="+o:""),a=new Blob([A],{type:"application/javascript"});return URL.createObjectURL(a)}var Rm=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Oa,Na,Ga,_m=(Oa="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7bGV0IGU7Y29uc3Qgcz0oe2RhdGE6e29wdGlvbnM6e2NodW5rU2l6ZTp0fSxwcm9ncmFtOm99fSk9PnsoKHttZW1vcnk6ZSxwcm9ncmFtOnN9KT0+e2NvbnN0IHI9TWF0aC5jZWlsKGUucmVkdWNlKCgoZSx7dHlwZTpzLHNpemU6cn0pPT5lK3Iqcy5CWVRFU19QRVJfRUxFTUVOVCksMCkvNjU1MzYpKzIsdD1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOnIsbWF4aW11bTpyfSk7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKHMse2Vudjp7bWVtb3J5OnR9fSkudGhlbigocz0+KHttZW1vcnk6ZS5yZWR1Y2UoKChlLHtpZDpyLHR5cGU6byxzaXplOm19KT0+e2NvbnN0IG49cy5leHBvcnRzLm1hbGxvYyhtKm8uQllURVNfUEVSX0VMRU1FTlQpO3JldHVybiBlW3JdPXthZGRyZXNzOm4sdmlldzpuZXcgbyh0LmJ1ZmZlcixuLG0pfSxlfSkse30pLHJ1bjpzLmV4cG9ydHMucnVufSkpKX0pKHttZW1vcnk6W3tpZDoiY2h1bmtzIix0eXBlOlVpbnQzMkFycmF5LHNpemU6dCp0KnQqOH0se2lkOiJjb3VudHMiLHR5cGU6SW50MzJBcnJheSxzaXplOjJ9LHtpZDoidmVydGljZXMiLHR5cGU6RmxvYXQzMkFycmF5LHNpemU6dCp0KnQqMyo5KjV9LHtpZDoidm94ZWxzIix0eXBlOkZsb2F0MzJBcnJheSxzaXplOnQqdCp0Ki41KjZ9LHtpZDoiYm91bmRzIix0eXBlOkZsb2F0MzJBcnJheSxzaXplOjZ9XSxwcm9ncmFtOm99KS50aGVuKCgoe21lbW9yeTpvLHJ1bjptfSk9PntlPXtjaHVua1NpemU6dCxtZW1vcnk6byxydW46bX0sc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixzKSxzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHIpLHNlbGYucG9zdE1lc3NhZ2UoITApfSkpfTtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHMpO2NvbnN0IHI9KHtkYXRhOnN9KT0+e2UubWVtb3J5LmNodW5rcy52aWV3LnNldChzKSxlLnJ1bihlLm1lbW9yeS5jaHVua3MuYWRkcmVzcyxlLm1lbW9yeS5jb3VudHMuYWRkcmVzcyxlLm1lbW9yeS52ZXJ0aWNlcy5hZGRyZXNzLGUubWVtb3J5LnZveGVscy5hZGRyZXNzLGUubWVtb3J5LmJvdW5kcy5hZGRyZXNzLGUuY2h1bmtTaXplKTtjb25zdFtyLHRdPWUubWVtb3J5LmNvdW50cy52aWV3O2lmKDA9PT1yKXJldHVybiB2b2lkIHNlbGYucG9zdE1lc3NhZ2Uoe2J1ZmZlcjpzLGRhdGE6ITF9LFtzLmJ1ZmZlcl0pO2NvbnN0IG89ZS5tZW1vcnkuYm91bmRzLnZpZXcuc2xpY2UoMCksbT1lLm1lbW9yeS52ZXJ0aWNlcy52aWV3LnNsaWNlKDAsMypyKjkpLG49ZS5tZW1vcnkudm94ZWxzLnZpZXcuc2xpY2UoMCw2KnQpO3NlbGYucG9zdE1lc3NhZ2Uoe2J1ZmZlcjpzLGRhdGE6e2JvdW5kczpvLHZlcnRpY2VzOm0sdm94ZWxzOm59fSxbcy5idWZmZXIsby5idWZmZXIsbS5idWZmZXIsbi5idWZmZXJdKX19KCk7Cgo=",Na=null,Ga=!1,Rm?Dm(Oa,Na,Ga):function(i,e,n){var o;return function(r){return o=o||Mm(i,e,n),new Worker(o,r)}}(Oa,Na,Ga)),Fm=typeof self.queueMicrotask=="function"?self.queueMicrotask:i=>{Promise.resolve().then(i).catch(e=>setTimeout(()=>{throw e}))},$o=class extends Qt{chunks;queue;materials;mesher;history;storage;constructor({history:e=!1,materials:n={},storage:o=new za}={}){super(),this.chunks=new Map,this.queue=new Map,this.materials={triangles:n.triangles||new pt({vertexColors:!0}),voxels:n.voxels||new pt({visible:!1})};let{chunkSize:r}=o;this.mesher=new Ya({buffer:r*r*r*8,options:{chunkSize:r},program:Sm,script:_m}),this.history={enabled:e,last:-1,undo:[],redo:[]},this.storage=o}dispose(){let{chunks:e,mesher:n,queue:o}=this;e.forEach(r=>r.dispose()),n.dispose(),o.clear()}undo(){let{history:e}=this,n=e.undo.pop();n&&(e.last=-1,e.redo.push(n),this.update(n.map(({x:o,y:r,z:t,undo:A})=>({x:o,y:r,z:t,r:A>>8&255,g:A>>16&255,b:A>>24&255,value:255&A})),-1,!0))}redo(){let{history:e}=this,n=e.redo.pop();n&&(e.last=-1,e.undo.push(n),this.update(n.map(({x:o,y:r,z:t,redo:A})=>({x:o,y:r,z:t,r:A>>8&255,g:A>>16&255,b:A>>24&255,value:255&A})),-1,!0))}updateChunk(e,n,o){let{materials:r,mesher:t,storage:A}=this,{chunkSize:a}=A,c=`${e}:${n}:${o}`,l=this.chunks.get(c);l||(l=new ja({materials:r,position:new j(e*a+-.5*a,n*a+-.5*a,o*a+-.5*a)}),this.add(l),this.chunks.set(c,l));let u=[];for(let f=o-1;f<=o;f++)for(let p=n-1;p<=n;p++)for(let g=e-1;g<=e;g++)u.push(A.get(g,p,f));let h=++l.request;t.run(u).then(f=>{l&&l.version<h&&(l.update(f),l.version=h,this.dispatchEvent({type:"change"}))})}update(e,n=-1,o=!1){let{history:r,queue:t,storage:A}=this,{chunkSize:a}=A,c=.5*a,l=!!t.size,u=new Map,h=e.reduce((f,{x:p,y:g,z:w,value:y,r:C=0,g:m=0,b:v=0})=>{let I=Math.floor(p/a),E=Math.floor(g/a),b=Math.floor(w/a),B=p-I*a,T=g-E*a,S=w-b*a,R=S*a*a+T*a+B,Q=A.get(I,E,b),M=Q[R];if(y===void 0&&(y=255&M)===0)return f;let F=v<<24^m<<16^C<<8^y;Q[R]=F;for(let Y=0;Y<2;Y++)for(let U=0;U<2;U++)for(let K=0;K<2;K++)if(B>=K*c-1&&B<=(K+1)*c&&T>=U*c-1&&T<=(U+1)*c&&S>=Y*c-1&&S<=(Y+1)*c){let W=I+K,O=E+U,G=b+Y,_=`${W}:${O}:${G}`;t.has(_)||t.set(_,{x:W,y:O,z:G})}let k=`${I}:${E}:${b}`;return u.has(k)||u.set(k,{x:I,y:E,z:b}),r.enabled&&!o&&f.push({x:p,y:g,z:w,undo:M,redo:F}),f},[]);if(r.enabled&&!o){let f=r.undo[r.undo.length-1];n!==-1&&r.last===n&&f.length<1e4?h.forEach(p=>{let g=f.find(({x:w,y,z:C})=>w===p.x&&y===p.y&&C===p.z);g?g.redo=p.redo:f.push(p)}):r.undo.push(h),r.last=n,r.redo.length=0}u.forEach(({x:f,y:p,z:g})=>A.save(f,p,g)),!l&&t.size&&Fm(()=>{t.forEach(({x:f,y:p,z:g})=>this.updateChunk(f,p,g)),t.clear()})}};var bl=ql(Sp());var El={};Ss(El,{ADDITION:()=>Qd,Brush:()=>Kt,DIFFERENCE:()=>pw,EdgesHelper:()=>so,Evaluator:()=>Ao,GridMaterial:()=>vl,HOLLOW_INTERSECTION:()=>Ld,HOLLOW_SUBTRACTION:()=>Ud,HalfEdgeHelper:()=>Cl,HalfEdgeMap:()=>to,INTERSECTION:()=>hw,Operation:()=>ml,OperationGroup:()=>yl,PointsHelper:()=>xl,REVERSE_SUBTRACTION:()=>fw,SUBTRACTION:()=>sl,TriangleSetHelper:()=>wl,TriangleSplitter:()=>no,computeMeshVolume:()=>bw,generateRandomTriangleColors:()=>Cw,getTriangleDefinitions:()=>$d,logTriangleDefinitions:()=>Iw});var Dp=Math.pow(2,-24),IA=Symbol("SKIP_GENERATION");function Bv(i){return i.index?i.index.count:i.attributes.position.count}function cr(i){return Bv(i)/3}function Tv(i,e=ArrayBuffer){return i>65535?new Uint32Array(new e(4*i)):new Uint16Array(new e(2*i))}function Mp(i,e){if(!i.index){let n=i.attributes.position.count,o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r=Tv(n,o);i.setIndex(new je(r,1));for(let t=0;t<n;t++)r[t]=t}}function Bc(i,e){let n=cr(i),o=e||i.drawRange,r=o.start/3,t=(o.start+o.count)/3,A=Math.max(0,r),a=Math.min(n,t)-A;return[{offset:Math.floor(A),count:Math.floor(a)}]}function Tc(i,e){if(!i.groups||!i.groups.length)return Bc(i,e);let n=[],o=new Set,r=e||i.drawRange,t=r.start/3,A=(r.start+r.count)/3;for(let c of i.groups){let l=c.start/3,u=(c.start+c.count)/3;o.add(Math.max(t,l)),o.add(Math.min(A,u))}let a=Array.from(o.values()).sort((c,l)=>c-l);for(let c=0;c<a.length-1;c++){let l=a[c],u=a[c+1];n.push({offset:Math.floor(l),count:Math.floor(u-l)})}return n}function Rp(i,e){let n=cr(i),o=Tc(i,e).sort((A,a)=>A.offset-a.offset),r=o[o.length-1];r.count=Math.min(n-r.offset,r.count);let t=0;return o.forEach(({count:A})=>t+=A),n!==t}function CA(i,e,n,o,r){let t=1/0,A=1/0,a=1/0,c=-1/0,l=-1/0,u=-1/0,h=1/0,f=1/0,p=1/0,g=-1/0,w=-1/0,y=-1/0;for(let C=e*6,m=(e+n)*6;C<m;C+=6){let v=i[C+0],I=i[C+1],E=v-I,b=v+I;E<t&&(t=E),b>c&&(c=b),v<h&&(h=v),v>g&&(g=v);let B=i[C+2],T=i[C+3],S=B-T,R=B+T;S<A&&(A=S),R>l&&(l=R),B<f&&(f=B),B>w&&(w=B);let Q=i[C+4],M=i[C+5],F=Q-M,k=Q+M;F<a&&(a=F),k>u&&(u=k),Q<p&&(p=Q),Q>y&&(y=Q)}o[0]=t,o[1]=A,o[2]=a,o[3]=c,o[4]=l,o[5]=u,r[0]=h,r[1]=f,r[2]=p,r[3]=g,r[4]=w,r[5]=y}function _p(i,e=null,n=null,o=null){let r=i.attributes.position,t=i.index?i.index.array:null,A=cr(i),a=r.normalized,c;e===null?(c=new Float32Array(A*6),n=0,o=A):(c=e,n=n||0,o=o||A);let l=r.array,u=r.offset||0,h=3;r.isInterleavedBufferAttribute&&(h=r.data.stride);let f=["getX","getY","getZ"];for(let p=n;p<n+o;p++){let g=p*3,w=p*6,y=g+0,C=g+1,m=g+2;t&&(y=t[y],C=t[C],m=t[m]),a||(y=y*h+u,C=C*h+u,m=m*h+u);for(let v=0;v<3;v++){let I,E,b;a?(I=r[f[v]](y),E=r[f[v]](C),b=r[f[v]](m)):(I=l[y+v],E=l[C+v],b=l[m+v]);let B=I;E<B&&(B=E),b<B&&(B=b);let T=I;E>T&&(T=E),b>T&&(T=b);let S=(T-B)/2,R=v*2;c[w+R+0]=B+S,c[w+R+1]=S+(Math.abs(B)+S)*Dp}}return c}function ze(i,e,n){return n.min.x=e[i],n.min.y=e[i+1],n.min.z=e[i+2],n.max.x=e[i+3],n.max.y=e[i+4],n.max.z=e[i+5],n}function Sc(i){let e=-1,n=-1/0;for(let o=0;o<3;o++){let r=i[o+3]-i[o];r>n&&(n=r,e=o)}return e}function Dc(i,e){e.set(i)}function Mc(i,e,n){let o,r;for(let t=0;t<3;t++){let A=t+3;o=i[t],r=e[t],n[t]=o<r?o:r,o=i[A],r=e[A],n[A]=o>r?o:r}}function Vi(i,e,n){for(let o=0;o<3;o++){let r=e[i+2*o],t=e[i+2*o+1],A=r-t,a=r+t;A<n[o]&&(n[o]=A),a>n[o+3]&&(n[o+3]=a)}}function Nn(i){let e=i[3]-i[0],n=i[4]-i[1],o=i[5]-i[2];return 2*(e*n+n*o+o*e)}var yr=32,Dv=(i,e)=>i.candidate-e.candidate,Fr=new Array(yr).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),EA=new Float32Array(6);function kp(i,e,n,o,r,t){let A=-1,a=0;if(t===0)A=Sc(e),A!==-1&&(a=(e[A]+e[A+3])/2);else if(t===1)A=Sc(i),A!==-1&&(a=Mv(n,o,r,A));else if(t===2){let c=Nn(i),l=1.25*r,u=o*6,h=(o+r)*6;for(let f=0;f<3;f++){let p=e[f],y=(e[f+3]-p)/yr;if(r<yr/4){let C=[...Fr];C.length=r;let m=0;for(let I=u;I<h;I+=6,m++){let E=C[m];E.candidate=n[I+2*f],E.count=0;let{bounds:b,leftCacheBounds:B,rightCacheBounds:T}=E;for(let S=0;S<3;S++)T[S]=1/0,T[S+3]=-1/0,B[S]=1/0,B[S+3]=-1/0,b[S]=1/0,b[S+3]=-1/0;Vi(I,n,b)}C.sort(Dv);let v=r;for(let I=0;I<v;I++){let E=C[I];for(;I+1<v&&C[I+1].candidate===E.candidate;)C.splice(I+1,1),v--}for(let I=u;I<h;I+=6){let E=n[I+2*f];for(let b=0;b<v;b++){let B=C[b];E>=B.candidate?Vi(I,n,B.rightCacheBounds):(Vi(I,n,B.leftCacheBounds),B.count++)}}for(let I=0;I<v;I++){let E=C[I],b=E.count,B=r-E.count,T=E.leftCacheBounds,S=E.rightCacheBounds,R=0;b!==0&&(R=Nn(T)/c);let Q=0;B!==0&&(Q=Nn(S)/c);let M=1+1.25*(R*b+Q*B);M<l&&(A=f,l=M,a=E.candidate)}}else{for(let v=0;v<yr;v++){let I=Fr[v];I.count=0,I.candidate=p+y+v*y;let E=I.bounds;for(let b=0;b<3;b++)E[b]=1/0,E[b+3]=-1/0}for(let v=u;v<h;v+=6){let b=~~((n[v+2*f]-p)/y);b>=yr&&(b=yr-1);let B=Fr[b];B.count++,Vi(v,n,B.bounds)}let C=Fr[yr-1];Dc(C.bounds,C.rightCacheBounds);for(let v=yr-2;v>=0;v--){let I=Fr[v],E=Fr[v+1];Mc(I.bounds,E.rightCacheBounds,I.rightCacheBounds)}let m=0;for(let v=0;v<yr-1;v++){let I=Fr[v],E=I.count,b=I.bounds,T=Fr[v+1].rightCacheBounds;E!==0&&(m===0?Dc(b,EA):Mc(b,EA,EA)),m+=E;let S=0,R=0;m!==0&&(S=Nn(EA)/c);let Q=r-m;Q!==0&&(R=Nn(T)/c);let M=1+1.25*(S*m+R*Q);M<l&&(A=f,l=M,a=I.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${t} used.`);return{axis:A,pos:a}}function Mv(i,e,n,o){let r=0;for(let t=e,A=e+n;t<A;t++)r+=i[t*6+o*2];return r/n}var Gn=class{constructor(){this.boundingData=new Float32Array(6)}};function Qp(i,e,n,o,r,t){let A=o,a=o+r-1,c=t.pos,l=t.axis*2;for(;;){for(;A<=a&&n[A*6+l]<c;)A++;for(;A<=a&&n[a*6+l]>=c;)a--;if(A<a){for(let u=0;u<3;u++){let h=e[A*3+u];e[A*3+u]=e[a*3+u],e[a*3+u]=h}for(let u=0;u<6;u++){let h=n[A*6+u];n[A*6+u]=n[a*6+u],n[a*6+u]=h}A++,a--}else return A}}function Up(i,e,n,o,r,t){let A=o,a=o+r-1,c=t.pos,l=t.axis*2;for(;;){for(;A<=a&&n[A*6+l]<c;)A++;for(;A<=a&&n[a*6+l]>=c;)a--;if(A<a){let u=i[A];i[A]=i[a],i[a]=u;for(let h=0;h<6;h++){let f=n[A*6+h];n[A*6+h]=n[a*6+h],n[a*6+h]=f}A++,a--}else return A}}function Xe(i,e){return e[i+15]===65535}function rt(i,e){return e[i+6]}function ot(i,e){return e[i+14]}function ft(i){return i+8}function ht(i,e){return e[i+6]}function bA(i,e){return e[i+7]}var Lp,ji,BA,Op,Rv=Math.pow(2,32);function TA(i){return"count"in i?1:1+TA(i.left)+TA(i.right)}function Np(i,e,n){return Lp=new Float32Array(n),ji=new Uint32Array(n),BA=new Uint16Array(n),Op=new Uint8Array(n),Rc(i,e)}function Rc(i,e){let n=i/4,o=i/2,r="count"in e,t=e.boundingData;for(let A=0;A<6;A++)Lp[n+A]=t[A];if(r)if(e.buffer){let A=e.buffer;Op.set(new Uint8Array(A),i);for(let a=i,c=i+A.byteLength;a<c;a+=32){let l=a/2;Xe(l,BA)||(ji[a/4+6]+=n)}return i+A.byteLength}else{let A=e.offset,a=e.count;return ji[n+6]=A,BA[o+14]=a,BA[o+15]=65535,i+32}else{let A=e.left,a=e.right,c=e.splitAxis,l;if(l=Rc(i+32,A),l/4>Rv)throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return ji[n+6]=l/4,l=Rc(l,a),ji[n+7]=c,l}}function _v(i,e){let n=(i.index?i.index.count:i.attributes.position.count)/3,o=n>2**16,r=o?4:2,t=e?new SharedArrayBuffer(n*r):new ArrayBuffer(n*r),A=o?new Uint32Array(t):new Uint16Array(t);for(let a=0,c=A.length;a<c;a++)A[a]=a;return A}function Fv(i,e,n,o,r){let{maxDepth:t,verbose:A,maxLeafTris:a,strategy:c,onProgress:l,indirect:u}=r,h=i._indirectBuffer,f=i.geometry,p=f.index?f.index.array:null,g=u?Up:Qp,w=cr(f),y=new Float32Array(6),C=!1,m=new Gn;return CA(e,n,o,m.boundingData,y),I(m,n,o,y),m;function v(E){l&&l(E/w)}function I(E,b,B,T=null,S=0){if(!C&&S>=t&&(C=!0,A&&(console.warn(`MeshBVH: Max depth of ${t} reached when generating BVH. Consider increasing maxDepth.`),console.warn(f))),B<=a||S>=t)return v(b+B),E.offset=b,E.count=B,E;let R=kp(E.boundingData,T,e,b,B,c);if(R.axis===-1)return v(b+B),E.offset=b,E.count=B,E;let Q=g(h,p,e,b,B,R);if(Q===b||Q===b+B)v(b+B),E.offset=b,E.count=B;else{E.splitAxis=R.axis;let M=new Gn,F=b,k=Q-b;E.left=M,CA(e,F,k,M.boundingData,y),I(M,F,k,y,S+1);let Y=new Gn,U=Q,K=B-k;E.right=Y,CA(e,U,K,Y.boundingData,y),I(Y,U,K,y,S+1)}return E}}function Gp(i,e){let n=i.geometry;e.indirect&&(i._indirectBuffer=_v(n,e.useSharedArrayBuffer),Rp(n,e.range)&&!e.verbose&&console.warn('MeshBVH: Provided geometry contains groups or a range that do not fully span the vertex contents while using the "indirect" option. BVH may incorrectly report intersections on unrendered portions of the geometry.')),i._indirectBuffer||Mp(n,e);let o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r=_p(n),t=e.indirect?Bc(n,e.range):Tc(n,e.range);i._roots=t.map(A=>{let a=Fv(i,r,A.offset,A.count,e),c=TA(a),l=new o(32*c);return Np(0,a,l),l})}var Tt=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,n){let o=1/0,r=-1/0;for(let t=0,A=e.length;t<A;t++){let c=e[t][n];o=c<o?c:o,r=c>r?c:r}this.min=o,this.max=r}setFromPoints(e,n){let o=1/0,r=-1/0;for(let t=0,A=n.length;t<A;t++){let a=n[t],c=e.dot(a);o=c<o?c:o,r=c>r?c:r}this.min=o,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}};Tt.prototype.setFromBox=function(){let i=new j;return function(n,o){let r=o.min,t=o.max,A=1/0,a=-1/0;for(let c=0;c<=1;c++)for(let l=0;l<=1;l++)for(let u=0;u<=1;u++){i.x=r.x*c+t.x*(1-c),i.y=r.y*l+t.y*(1-l),i.z=r.z*u+t.z*(1-u);let h=n.dot(i);A=Math.min(h,A),a=Math.max(h,a)}this.min=A,this.max=a}}();var AC=function(){let i=new Tt;return function(n,o){let r=n.points,t=n.satAxes,A=n.satBounds,a=o.points,c=o.satAxes,l=o.satBounds;for(let u=0;u<3;u++){let h=A[u],f=t[u];if(i.setFromPoints(f,a),h.isSeparated(i))return!1}for(let u=0;u<3;u++){let h=l[u],f=c[u];if(i.setFromPoints(f,r),h.isSeparated(i))return!1}}}();var Pv=function(){let i=new j,e=new j,n=new j;return function(r,t,A){let a=r.start,c=i,l=t.start,u=e;n.subVectors(a,l),i.subVectors(r.end,r.start),e.subVectors(t.end,t.start);let h=n.dot(u),f=u.dot(c),p=u.dot(u),g=n.dot(c),y=c.dot(c)*p-f*f,C,m;y!==0?C=(h*f-g*p)/y:C=0,m=(h+C*f)/p,A.x=C,A.y=m}}(),Wi=function(){let i=new tt,e=new j,n=new j;return function(r,t,A,a){Pv(r,t,i);let c=i.x,l=i.y;if(c>=0&&c<=1&&l>=0&&l<=1){r.at(c,A),t.at(l,a);return}else if(c>=0&&c<=1){l<0?t.at(0,a):t.at(1,a),r.closestPointToPoint(a,!0,A);return}else if(l>=0&&l<=1){c<0?r.at(0,A):r.at(1,A),t.closestPointToPoint(A,!0,a);return}else{let u;c<0?u=r.start:u=r.end;let h;l<0?h=t.start:h=t.end;let f=e,p=n;if(r.closestPointToPoint(h,!0,e),t.closestPointToPoint(u,!0,n),f.distanceToSquared(h)<=p.distanceToSquared(u)){A.copy(f),a.copy(h);return}else{A.copy(u),a.copy(p);return}}}}(),zp=function(){let i=new j,e=new j,n=new hr,o=new Ze;return function(t,A){let{radius:a,center:c}=t,{a:l,b:u,c:h}=A;if(o.start=l,o.end=u,o.closestPointToPoint(c,!0,i).distanceTo(c)<=a||(o.start=l,o.end=h,o.closestPointToPoint(c,!0,i).distanceTo(c)<=a)||(o.start=u,o.end=h,o.closestPointToPoint(c,!0,i).distanceTo(c)<=a))return!0;let w=A.getPlane(n);if(Math.abs(w.distanceToPoint(c))<=a){let C=w.projectPoint(c,e);if(A.containsPoint(C))return!0}return!1}}();var kv=1e-15;function _c(i){return Math.abs(i)<kv}var at=class extends We{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new j),this.satBounds=new Array(4).fill().map(()=>new Tt),this.points=[this.a,this.b,this.c],this.sphere=new Ft,this.plane=new hr,this.needsUpdate=!0}intersectsSphere(e){return zp(e,this)}update(){let e=this.a,n=this.b,o=this.c,r=this.points,t=this.satAxes,A=this.satBounds,a=t[0],c=A[0];this.getNormal(a),c.setFromPoints(a,r);let l=t[1],u=A[1];l.subVectors(e,n),u.setFromPoints(l,r);let h=t[2],f=A[2];h.subVectors(n,o),f.setFromPoints(h,r);let p=t[3],g=A[3];p.subVectors(o,e),g.setFromPoints(p,r),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,e),this.needsUpdate=!1}};at.prototype.closestPointToSegment=function(){let i=new j,e=new j,n=new Ze;return function(r,t=null,A=null){let{start:a,end:c}=r,l=this.points,u,h=1/0;for(let f=0;f<3;f++){let p=(f+1)%3;n.start.copy(l[f]),n.end.copy(l[p]),Wi(n,r,i,e),u=i.distanceToSquared(e),u<h&&(h=u,t&&t.copy(i),A&&A.copy(e))}return this.closestPointToPoint(a,i),u=a.distanceToSquared(i),u<h&&(h=u,t&&t.copy(i),A&&A.copy(a)),this.closestPointToPoint(c,i),u=c.distanceToSquared(i),u<h&&(h=u,t&&t.copy(i),A&&A.copy(c)),Math.sqrt(h)}}();at.prototype.intersectsTriangle=function(){let i=new at,e=new Array(3),n=new Array(3),o=new Tt,r=new Tt,t=new j,A=new j,a=new j,c=new j,l=new j,u=new Ze,h=new Ze,f=new Ze,p=new j;function g(w,y,C){let m=w.points,v=0,I=-1;for(let E=0;E<3;E++){let{start:b,end:B}=u;b.copy(m[E]),B.copy(m[(E+1)%3]),u.delta(A);let T=_c(y.distanceToPoint(b));if(_c(y.normal.dot(A))&&T){C.copy(u),v=2;break}let S=y.intersectLine(u,p);if(!S&&T&&p.copy(b),(S||T)&&!_c(p.distanceTo(B))){if(v<=1)(v===1?C.start:C.end).copy(p),T&&(I=v);else if(v>=2){(I===1?C.start:C.end).copy(p),v=2;break}if(v++,v===2&&I===-1)break}}return v}return function(y,C=null,m=!1){this.needsUpdate&&this.update(),y.isExtendedTriangle?y.needsUpdate&&y.update():(i.copy(y),i.update(),y=i);let v=this.plane,I=y.plane;if(Math.abs(v.normal.dot(I.normal))>1-1e-10){let E=this.satBounds,b=this.satAxes;n[0]=y.a,n[1]=y.b,n[2]=y.c;for(let S=0;S<4;S++){let R=E[S],Q=b[S];if(o.setFromPoints(Q,n),R.isSeparated(o))return!1}let B=y.satBounds,T=y.satAxes;e[0]=this.a,e[1]=this.b,e[2]=this.c;for(let S=0;S<4;S++){let R=B[S],Q=T[S];if(o.setFromPoints(Q,e),R.isSeparated(o))return!1}for(let S=0;S<4;S++){let R=b[S];for(let Q=0;Q<4;Q++){let M=T[Q];if(t.crossVectors(R,M),o.setFromPoints(t,e),r.setFromPoints(t,n),o.isSeparated(r))return!1}}return C&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),C.start.set(0,0,0),C.end.set(0,0,0)),!0}else{let E=g(this,I,h);if(E===1&&y.containsPoint(h.end))return C&&(C.start.copy(h.end),C.end.copy(h.end)),!0;if(E!==2)return!1;let b=g(y,v,f);if(b===1&&this.containsPoint(f.end))return C&&(C.start.copy(f.end),C.end.copy(f.end)),!0;if(b!==2)return!1;if(h.delta(a),f.delta(c),a.dot(c)<0){let F=f.start;f.start=f.end,f.end=F}let B=h.start.dot(a),T=h.end.dot(a),S=f.start.dot(a),R=f.end.dot(a),Q=T<S,M=B<R;return B!==R&&S!==T&&Q===M?!1:(C&&(l.subVectors(h.start,f.start),l.dot(a)>0?C.start.copy(h.start):C.start.copy(f.start),l.subVectors(h.end,f.end),l.dot(a)<0?C.end.copy(h.end):C.end.copy(f.end)),!0)}}}();at.prototype.distanceToPoint=function(){let i=new j;return function(n){return this.closestPointToPoint(n,i),n.distanceTo(i)}}();at.prototype.distanceToTriangle=function(){let i=new j,e=new j,n=["a","b","c"],o=new Ze,r=new Ze;return function(A,a=null,c=null){let l=a||c?o:null;if(this.intersectsTriangle(A,l))return(a||c)&&(a&&l.getCenter(a),c&&l.getCenter(c)),0;let u=1/0;for(let h=0;h<3;h++){let f,p=n[h],g=A[p];this.closestPointToPoint(g,i),f=g.distanceToSquared(i),f<u&&(u=f,a&&a.copy(i),c&&c.copy(g));let w=this[p];A.closestPointToPoint(w,i),f=w.distanceToSquared(i),f<u&&(u=f,a&&a.copy(w),c&&c.copy(i))}for(let h=0;h<3;h++){let f=n[h],p=n[(h+1)%3];o.set(this[f],this[p]);for(let g=0;g<3;g++){let w=n[g],y=n[(g+1)%3];r.set(A[w],A[y]),Wi(o,r,i,e);let C=i.distanceToSquared(e);C<u&&(u=C,a&&a.copy(i),c&&c.copy(e))}}return Math.sqrt(u)}}();var et=class{constructor(e,n,o){this.isOrientedBox=!0,this.min=new j,this.max=new j,this.matrix=new Pe,this.invMatrix=new Pe,this.points=new Array(8).fill().map(()=>new j),this.satAxes=new Array(3).fill().map(()=>new j),this.satBounds=new Array(3).fill().map(()=>new Tt),this.alignedSatBounds=new Array(3).fill().map(()=>new Tt),this.needsUpdate=!1,e&&this.min.copy(e),n&&this.max.copy(n),o&&this.matrix.copy(o)}set(e,n,o){this.min.copy(e),this.max.copy(n),this.matrix.copy(o),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};et.prototype.update=function(){return function(){let e=this.matrix,n=this.min,o=this.max,r=this.points;for(let l=0;l<=1;l++)for(let u=0;u<=1;u++)for(let h=0;h<=1;h++){let f=1*l|2*u|4*h,p=r[f];p.x=l?o.x:n.x,p.y=u?o.y:n.y,p.z=h?o.z:n.z,p.applyMatrix4(e)}let t=this.satBounds,A=this.satAxes,a=r[0];for(let l=0;l<3;l++){let u=A[l],h=t[l],f=1<<l,p=r[f];u.subVectors(a,p),h.setFromPoints(u,r)}let c=this.alignedSatBounds;c[0].setFromPointsField(r,"x"),c[1].setFromPointsField(r,"y"),c[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();et.prototype.intersectsBox=function(){let i=new Tt;return function(n){this.needsUpdate&&this.update();let o=n.min,r=n.max,t=this.satBounds,A=this.satAxes,a=this.alignedSatBounds;if(i.min=o.x,i.max=r.x,a[0].isSeparated(i)||(i.min=o.y,i.max=r.y,a[1].isSeparated(i))||(i.min=o.z,i.max=r.z,a[2].isSeparated(i)))return!1;for(let c=0;c<3;c++){let l=A[c],u=t[c];if(i.setFromBox(l,n),u.isSeparated(i))return!1}return!0}}();et.prototype.intersectsTriangle=function(){let i=new at,e=new Array(3),n=new Tt,o=new Tt,r=new j;return function(A){this.needsUpdate&&this.update(),A.isExtendedTriangle?A.needsUpdate&&A.update():(i.copy(A),i.update(),A=i);let a=this.satBounds,c=this.satAxes;e[0]=A.a,e[1]=A.b,e[2]=A.c;for(let f=0;f<3;f++){let p=a[f],g=c[f];if(n.setFromPoints(g,e),p.isSeparated(n))return!1}let l=A.satBounds,u=A.satAxes,h=this.points;for(let f=0;f<3;f++){let p=l[f],g=u[f];if(n.setFromPoints(g,h),p.isSeparated(n))return!1}for(let f=0;f<3;f++){let p=c[f];for(let g=0;g<4;g++){let w=u[g];if(r.crossVectors(p,w),n.setFromPoints(r,e),o.setFromPoints(r,h),n.isSeparated(o))return!1}}return!0}}();et.prototype.closestPointToPoint=function(){return function(e,n){return this.needsUpdate&&this.update(),n.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),n}}();et.prototype.distanceToPoint=function(){let i=new j;return function(n){return this.closestPointToPoint(n,i),n.distanceTo(i)}}();et.prototype.distanceToBox=function(){let i=["x","y","z"],e=new Array(12).fill().map(()=>new Ze),n=new Array(12).fill().map(()=>new Ze),o=new j,r=new j;return function(A,a=0,c=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(A))return(c||l)&&(A.getCenter(r),this.closestPointToPoint(r,o),A.closestPointToPoint(o,r),c&&c.copy(o),l&&l.copy(r)),0;let u=a*a,h=A.min,f=A.max,p=this.points,g=1/0;for(let y=0;y<8;y++){let C=p[y];r.copy(C).clamp(h,f);let m=C.distanceToSquared(r);if(m<g&&(g=m,c&&c.copy(C),l&&l.copy(r),m<u))return Math.sqrt(m)}let w=0;for(let y=0;y<3;y++)for(let C=0;C<=1;C++)for(let m=0;m<=1;m++){let v=(y+1)%3,I=(y+2)%3,E=C<<v|m<<I,b=1<<y|C<<v|m<<I,B=p[E],T=p[b];e[w].set(B,T);let R=i[y],Q=i[v],M=i[I],F=n[w],k=F.start,Y=F.end;k[R]=h[R],k[Q]=C?h[Q]:f[Q],k[M]=m?h[M]:f[Q],Y[R]=f[R],Y[Q]=C?h[Q]:f[Q],Y[M]=m?h[M]:f[Q],w++}for(let y=0;y<=1;y++)for(let C=0;C<=1;C++)for(let m=0;m<=1;m++){r.x=y?f.x:h.x,r.y=C?f.y:h.y,r.z=m?f.z:h.z,this.closestPointToPoint(r,o);let v=r.distanceToSquared(o);if(v<g&&(g=v,c&&c.copy(o),l&&l.copy(r),v<u))return Math.sqrt(v)}for(let y=0;y<12;y++){let C=e[y];for(let m=0;m<12;m++){let v=n[m];Wi(C,v,o,r);let I=o.distanceToSquared(r);if(I<g&&(g=I,c&&c.copy(o),l&&l.copy(r),I<u))return Math.sqrt(I)}}return Math.sqrt(g)}}();var Pr=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};var Fc=class extends Pr{constructor(){super(()=>new at)}},xt=new Fc;var Pc=class{constructor(){this.float32Array=null,this.uint16Array=null,this.uint32Array=null;let e=[],n=null;this.setBuffer=o=>{n&&e.push(n),n=o,this.float32Array=new Float32Array(o),this.uint16Array=new Uint16Array(o),this.uint32Array=new Uint32Array(o)},this.clearBuffer=()=>{n=null,this.float32Array=null,this.uint16Array=null,this.uint32Array=null,e.length!==0&&this.setBuffer(e.pop())}}},Le=new Pc;var kr,Hn,zn=[],DA=new Pr(()=>new Je);function Hp(i,e,n,o,r,t){kr=DA.getPrimitive(),Hn=DA.getPrimitive(),zn.push(kr,Hn),Le.setBuffer(i._roots[e]);let A=kc(0,i.geometry,n,o,r,t);Le.clearBuffer(),DA.releasePrimitive(kr),DA.releasePrimitive(Hn),zn.pop(),zn.pop();let a=zn.length;return a>0&&(Hn=zn[a-1],kr=zn[a-2]),A}function kc(i,e,n,o,r=null,t=0,A=0){let{float32Array:a,uint16Array:c,uint32Array:l}=Le,u=i*2;if(Xe(u,c)){let f=rt(i,l),p=ot(u,c);return ze(i,a,kr),o(f,p,!1,A,t+i,kr)}else{let R=function(M){let{uint16Array:F,uint32Array:k}=Le,Y=M*2;for(;!Xe(Y,F);)M=ft(M),Y=M*2;return rt(M,k)},Q=function(M){let{uint16Array:F,uint32Array:k}=Le,Y=M*2;for(;!Xe(Y,F);)M=ht(M,k),Y=M*2;return rt(M,k)+ot(Y,F)},f=ft(i),p=ht(i,l),g=f,w=p,y,C,m,v;if(r&&(m=kr,v=Hn,ze(g,a,m),ze(w,a,v),y=r(m),C=r(v),C<y)){g=p,w=f;let M=y;y=C,C=M,m=v}m||(m=kr,ze(g,a,m));let I=Xe(g*2,c),E=n(m,I,y,A+1,t+g),b;if(E===2){let M=R(g),k=Q(g)-M;b=o(M,k,!0,A+1,t+g,m)}else b=E&&kc(g,e,n,o,r,t,A+1);if(b)return!0;v=Hn,ze(w,a,v);let B=Xe(w*2,c),T=n(v,B,C,A+1,t+w),S;if(T===2){let M=R(w),k=Q(w)-M;S=o(M,k,!0,A+1,t+w,v)}else S=T&&kc(w,e,n,o,r,t,A+1);return!!S}}var qi=new j,Uc=new j;function Vp(i,e,n={},o=0,r=1/0){let t=o*o,A=r*r,a=1/0,c=null;if(i.shapecast({boundsTraverseOrder:u=>(qi.copy(e).clamp(u.min,u.max),qi.distanceToSquared(e)),intersectsBounds:(u,h,f)=>f<a&&f<A,intersectsTriangle:(u,h)=>{u.closestPointToPoint(e,qi);let f=e.distanceToSquared(qi);return f<a&&(Uc.copy(qi),a=f,c=h),f<t}}),a===1/0)return null;let l=Math.sqrt(a);return n.point?n.point.copy(Uc):n.point=Uc.clone(),n.distance=l,n.faceIndex=c,n}var Uv=parseInt(Co)>=169,en=new j,tn=new j,rn=new j,MA=new tt,RA=new tt,_A=new tt,jp=new j,Yp=new j,Wp=new j,Ki=new j;function Lv(i,e,n,o,r,t,A,a){let c;if(t===Eo?c=i.intersectTriangle(o,n,e,!0,r):c=i.intersectTriangle(e,n,o,t!==At,r),c===null)return null;let l=i.origin.distanceTo(r);return l<A||l>a?null:{distance:l,point:r.clone()}}function Ov(i,e,n,o,r,t,A,a,c,l,u){en.fromBufferAttribute(e,t),tn.fromBufferAttribute(e,A),rn.fromBufferAttribute(e,a);let h=Lv(i,en,tn,rn,Ki,c,l,u);if(h){let f=new j;We.getBarycoord(Ki,en,tn,rn,f),o&&(MA.fromBufferAttribute(o,t),RA.fromBufferAttribute(o,A),_A.fromBufferAttribute(o,a),h.uv=We.getInterpolation(Ki,en,tn,rn,MA,RA,_A,new tt)),r&&(MA.fromBufferAttribute(r,t),RA.fromBufferAttribute(r,A),_A.fromBufferAttribute(r,a),h.uv1=We.getInterpolation(Ki,en,tn,rn,MA,RA,_A,new tt)),n&&(jp.fromBufferAttribute(n,t),Yp.fromBufferAttribute(n,A),Wp.fromBufferAttribute(n,a),h.normal=We.getInterpolation(Ki,en,tn,rn,jp,Yp,Wp,new j),h.normal.dot(i.direction)>0&&h.normal.multiplyScalar(-1));let p={a:t,b:A,c:a,normal:new j,materialIndex:0};We.getNormal(en,tn,rn,p.normal),h.face=p,h.faceIndex=t,Uv&&(h.barycoord=f)}return h}function Vn(i,e,n,o,r,t,A){let a=o*3,c=a+0,l=a+1,u=a+2,h=i.index;i.index&&(c=h.getX(c),l=h.getX(l),u=h.getX(u));let{position:f,normal:p,uv:g,uv1:w}=i.attributes,y=Ov(n,f,p,g,w,c,l,u,e,t,A);return y?(y.faceIndex=o,r&&r.push(y),y):null}function He(i,e,n,o){let r=i.a,t=i.b,A=i.c,a=e,c=e+1,l=e+2;n&&(a=n.getX(a),c=n.getX(c),l=n.getX(l)),r.x=o.getX(a),r.y=o.getY(a),r.z=o.getZ(a),t.x=o.getX(c),t.y=o.getY(c),t.z=o.getZ(c),A.x=o.getX(l),A.y=o.getY(l),A.z=o.getZ(l)}function qp(i,e,n,o,r,t,A,a){let{geometry:c,_indirectBuffer:l}=i;for(let u=o,h=o+r;u<h;u++)Vn(c,e,n,u,t,A,a)}function Kp(i,e,n,o,r,t,A){let{geometry:a,_indirectBuffer:c}=i,l=1/0,u=null;for(let h=o,f=o+r;h<f;h++){let p;p=Vn(a,e,n,h,null,t,A),p&&p.distance<l&&(u=p,l=p.distance)}return u}function Jp(i,e,n,o,r,t,A){let{geometry:a}=n,{index:c}=a,l=a.attributes.position;for(let u=i,h=e+i;u<h;u++){let f;if(f=u,He(A,f*3,c,l),A.needsUpdate=!0,o(A,f,r,t))return!0}return!1}function Xp(i,e=null){e&&Array.isArray(e)&&(e=new Set(e));let n=i.geometry,o=n.index?n.index.array:null,r=n.attributes.position,t,A,a,c,l=0,u=i._roots;for(let f=0,p=u.length;f<p;f++)t=u[f],A=new Uint32Array(t),a=new Uint16Array(t),c=new Float32Array(t),h(0,l),l+=t.byteLength;function h(f,p,g=!1){let w=f*2;if(a[w+15]===65535){let C=A[f+6],m=a[w+14],v=1/0,I=1/0,E=1/0,b=-1/0,B=-1/0,T=-1/0;for(let S=3*C,R=3*(C+m);S<R;S++){let Q=o[S],M=r.getX(Q),F=r.getY(Q),k=r.getZ(Q);M<v&&(v=M),M>b&&(b=M),F<I&&(I=F),F>B&&(B=F),k<E&&(E=k),k>T&&(T=k)}return c[f+0]!==v||c[f+1]!==I||c[f+2]!==E||c[f+3]!==b||c[f+4]!==B||c[f+5]!==T?(c[f+0]=v,c[f+1]=I,c[f+2]=E,c[f+3]=b,c[f+4]=B,c[f+5]=T,!0):!1}else{let C=f+8,m=A[f+6],v=C+p,I=m+p,E=g,b=!1,B=!1;e?E||(b=e.has(v),B=e.has(I),E=!b&&!B):(b=!0,B=!0);let T=E||b,S=E||B,R=!1;T&&(R=h(C,p,E));let Q=!1;S&&(Q=h(m,p,E));let M=R||Q;if(M)for(let F=0;F<3;F++){let k=C+F,Y=m+F,U=c[k],K=c[k+3],W=c[Y],O=c[Y+3];c[f+F]=U<W?U:W,c[f+F+3]=K>O?K:O}return M}}}function Ot(i,e,n,o,r){let t,A,a,c,l,u,h=1/n.direction.x,f=1/n.direction.y,p=1/n.direction.z,g=n.origin.x,w=n.origin.y,y=n.origin.z,C=e[i],m=e[i+3],v=e[i+1],I=e[i+3+1],E=e[i+2],b=e[i+3+2];return h>=0?(t=(C-g)*h,A=(m-g)*h):(t=(m-g)*h,A=(C-g)*h),f>=0?(a=(v-w)*f,c=(I-w)*f):(a=(I-w)*f,c=(v-w)*f),t>c||a>A||((a>t||isNaN(t))&&(t=a),(c<A||isNaN(A))&&(A=c),p>=0?(l=(E-y)*p,u=(b-y)*p):(l=(b-y)*p,u=(E-y)*p),t>u||l>A)?!1:((l>t||t!==t)&&(t=l),(u<A||A!==A)&&(A=u),t<=r&&A>=o)}function Zp(i,e,n,o,r,t,A,a){let{geometry:c,_indirectBuffer:l}=i;for(let u=o,h=o+r;u<h;u++){let f=l?l[u]:u;Vn(c,e,n,f,t,A,a)}}function $p(i,e,n,o,r,t,A){let{geometry:a,_indirectBuffer:c}=i,l=1/0,u=null;for(let h=o,f=o+r;h<f;h++){let p;p=Vn(a,e,n,c?c[h]:h,null,t,A),p&&p.distance<l&&(u=p,l=p.distance)}return u}function ed(i,e,n,o,r,t,A){let{geometry:a}=n,{index:c}=a,l=a.attributes.position;for(let u=i,h=e+i;u<h;u++){let f;if(f=n.resolveTriangleIndex(u),He(A,f*3,c,l),A.needsUpdate=!0,o(A,f,r,t))return!0}return!1}function td(i,e,n,o,r,t,A){Le.setBuffer(i._roots[e]),Lc(0,i,n,o,r,t,A),Le.clearBuffer()}function Lc(i,e,n,o,r,t,A){let{float32Array:a,uint16Array:c,uint32Array:l}=Le,u=i*2;if(Xe(u,c)){let f=rt(i,l),p=ot(u,c);qp(e,n,o,f,p,r,t,A)}else{let f=ft(i);Ot(f,a,o,t,A)&&Lc(f,e,n,o,r,t,A);let p=ht(i,l);Ot(p,a,o,t,A)&&Lc(p,e,n,o,r,t,A)}}var Nv=["x","y","z"];function rd(i,e,n,o,r,t){Le.setBuffer(i._roots[e]);let A=Oc(0,i,n,o,r,t);return Le.clearBuffer(),A}function Oc(i,e,n,o,r,t){let{float32Array:A,uint16Array:a,uint32Array:c}=Le,l=i*2;if(Xe(l,a)){let h=rt(i,c),f=ot(l,a);return Kp(e,n,o,h,f,r,t)}else{let h=bA(i,c),f=Nv[h],g=o.direction[f]>=0,w,y;g?(w=ft(i),y=ht(i,c)):(w=ht(i,c),y=ft(i));let m=Ot(w,A,o,r,t)?Oc(w,e,n,o,r,t):null;if(m){let E=m.point[f];if(g?E<=A[y+h]:E>=A[y+h+3])return m}let I=Ot(y,A,o,r,t)?Oc(y,e,n,o,r,t):null;return m&&I?m.distance<=I.distance?m:I:m||I||null}}var FA=new Je,jn=new at,Yn=new at,Ji=new Pe,nd=new et,PA=new et;function id(i,e,n,o){Le.setBuffer(i._roots[e]);let r=Nc(0,i,n,o);return Le.clearBuffer(),r}function Nc(i,e,n,o,r=null){let{float32Array:t,uint16Array:A,uint32Array:a}=Le,c=i*2;if(r===null&&(n.boundingBox||n.computeBoundingBox(),nd.set(n.boundingBox.min,n.boundingBox.max,o),r=nd),Xe(c,A)){let u=e.geometry,h=u.index,f=u.attributes.position,p=n.index,g=n.attributes.position,w=rt(i,a),y=ot(c,A);if(Ji.copy(o).invert(),n.boundsTree)return ze(i,t,PA),PA.matrix.copy(Ji),PA.needsUpdate=!0,n.boundsTree.shapecast({intersectsBounds:m=>PA.intersectsBox(m),intersectsTriangle:m=>{m.a.applyMatrix4(o),m.b.applyMatrix4(o),m.c.applyMatrix4(o),m.needsUpdate=!0;for(let v=w*3,I=(y+w)*3;v<I;v+=3)if(He(Yn,v,h,f),Yn.needsUpdate=!0,m.intersectsTriangle(Yn))return!0;return!1}});for(let C=w*3,m=(y+w)*3;C<m;C+=3){He(jn,C,h,f),jn.a.applyMatrix4(Ji),jn.b.applyMatrix4(Ji),jn.c.applyMatrix4(Ji),jn.needsUpdate=!0;for(let v=0,I=p.count;v<I;v+=3)if(He(Yn,v,p,g),Yn.needsUpdate=!0,jn.intersectsTriangle(Yn))return!0}}else{let u=i+8,h=a[i+6];return ze(u,t,FA),!!(r.intersectsBox(FA)&&Nc(u,e,n,o,r)||(ze(h,t,FA),r.intersectsBox(FA)&&Nc(h,e,n,o,r)))}}var kA=new Pe,Gc=new et,Xi=new et,Gv=new j,zv=new j,Hv=new j,Vv=new j;function od(i,e,n,o={},r={},t=0,A=1/0){e.boundingBox||e.computeBoundingBox(),Gc.set(e.boundingBox.min,e.boundingBox.max,n),Gc.needsUpdate=!0;let a=i.geometry,c=a.attributes.position,l=a.index,u=e.attributes.position,h=e.index,f=xt.getPrimitive(),p=xt.getPrimitive(),g=Gv,w=zv,y=null,C=null;r&&(y=Hv,C=Vv);let m=1/0,v=null,I=null;return kA.copy(n).invert(),Xi.matrix.copy(kA),i.shapecast({boundsTraverseOrder:E=>Gc.distanceToBox(E),intersectsBounds:(E,b,B)=>B<m&&B<A?(b&&(Xi.min.copy(E.min),Xi.max.copy(E.max),Xi.needsUpdate=!0),!0):!1,intersectsRange:(E,b)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:T=>Xi.distanceToBox(T),intersectsBounds:(T,S,R)=>R<m&&R<A,intersectsRange:(T,S)=>{for(let R=T,Q=T+S;R<Q;R++){He(p,3*R,h,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let M=E,F=E+b;M<F;M++){He(f,3*M,l,c),f.needsUpdate=!0;let k=f.distanceToTriangle(p,g,y);if(k<m&&(w.copy(g),C&&C.copy(y),m=k,v=M,I=R),k<t)return!0}}}});{let B=cr(e);for(let T=0,S=B;T<S;T++){He(p,3*T,h,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let R=E,Q=E+b;R<Q;R++){He(f,3*R,l,c),f.needsUpdate=!0;let M=f.distanceToTriangle(p,g,y);if(M<m&&(w.copy(g),C&&C.copy(y),m=M,v=R,I=T),M<t)return!0}}}}}),xt.releasePrimitive(f),xt.releasePrimitive(p),m===1/0?null:(o.point?o.point.copy(w):o.point=w.clone(),o.distance=m,o.faceIndex=v,r&&(r.point?r.point.copy(C):r.point=C.clone(),r.point.applyMatrix4(kA),w.applyMatrix4(kA),r.distance=w.sub(r.point).length(),r.faceIndex=I),o)}function Ad(i,e=null){e&&Array.isArray(e)&&(e=new Set(e));let n=i.geometry,o=n.index?n.index.array:null,r=n.attributes.position,t,A,a,c,l=0,u=i._roots;for(let f=0,p=u.length;f<p;f++)t=u[f],A=new Uint32Array(t),a=new Uint16Array(t),c=new Float32Array(t),h(0,l),l+=t.byteLength;function h(f,p,g=!1){let w=f*2;if(a[w+15]===65535){let C=A[f+6],m=a[w+14],v=1/0,I=1/0,E=1/0,b=-1/0,B=-1/0,T=-1/0;for(let S=C,R=C+m;S<R;S++){let Q=3*i.resolveTriangleIndex(S);for(let M=0;M<3;M++){let F=Q+M;F=o?o[F]:F;let k=r.getX(F),Y=r.getY(F),U=r.getZ(F);k<v&&(v=k),k>b&&(b=k),Y<I&&(I=Y),Y>B&&(B=Y),U<E&&(E=U),U>T&&(T=U)}}return c[f+0]!==v||c[f+1]!==I||c[f+2]!==E||c[f+3]!==b||c[f+4]!==B||c[f+5]!==T?(c[f+0]=v,c[f+1]=I,c[f+2]=E,c[f+3]=b,c[f+4]=B,c[f+5]=T,!0):!1}else{let C=f+8,m=A[f+6],v=C+p,I=m+p,E=g,b=!1,B=!1;e?E||(b=e.has(v),B=e.has(I),E=!b&&!B):(b=!0,B=!0);let T=E||b,S=E||B,R=!1;T&&(R=h(C,p,E));let Q=!1;S&&(Q=h(m,p,E));let M=R||Q;if(M)for(let F=0;F<3;F++){let k=C+F,Y=m+F,U=c[k],K=c[k+3],W=c[Y],O=c[Y+3];c[f+F]=U<W?U:W,c[f+F+3]=K>O?K:O}return M}}}function sd(i,e,n,o,r,t,A){Le.setBuffer(i._roots[e]),zc(0,i,n,o,r,t,A),Le.clearBuffer()}function zc(i,e,n,o,r,t,A){let{float32Array:a,uint16Array:c,uint32Array:l}=Le,u=i*2;if(Xe(u,c)){let f=rt(i,l),p=ot(u,c);Zp(e,n,o,f,p,r,t,A)}else{let f=ft(i);Ot(f,a,o,t,A)&&zc(f,e,n,o,r,t,A);let p=ht(i,l);Ot(p,a,o,t,A)&&zc(p,e,n,o,r,t,A)}}var jv=["x","y","z"];function ad(i,e,n,o,r,t){Le.setBuffer(i._roots[e]);let A=Hc(0,i,n,o,r,t);return Le.clearBuffer(),A}function Hc(i,e,n,o,r,t){let{float32Array:A,uint16Array:a,uint32Array:c}=Le,l=i*2;if(Xe(l,a)){let h=rt(i,c),f=ot(l,a);return $p(e,n,o,h,f,r,t)}else{let h=bA(i,c),f=jv[h],g=o.direction[f]>=0,w,y;g?(w=ft(i),y=ht(i,c)):(w=ht(i,c),y=ft(i));let m=Ot(w,A,o,r,t)?Hc(w,e,n,o,r,t):null;if(m){let E=m.point[f];if(g?E<=A[y+h]:E>=A[y+h+3])return m}let I=Ot(y,A,o,r,t)?Hc(y,e,n,o,r,t):null;return m&&I?m.distance<=I.distance?m:I:m||I||null}}var QA=new Je,Wn=new at,qn=new at,Zi=new Pe,cd=new et,UA=new et;function ld(i,e,n,o){Le.setBuffer(i._roots[e]);let r=Vc(0,i,n,o);return Le.clearBuffer(),r}function Vc(i,e,n,o,r=null){let{float32Array:t,uint16Array:A,uint32Array:a}=Le,c=i*2;if(r===null&&(n.boundingBox||n.computeBoundingBox(),cd.set(n.boundingBox.min,n.boundingBox.max,o),r=cd),Xe(c,A)){let u=e.geometry,h=u.index,f=u.attributes.position,p=n.index,g=n.attributes.position,w=rt(i,a),y=ot(c,A);if(Zi.copy(o).invert(),n.boundsTree)return ze(i,t,UA),UA.matrix.copy(Zi),UA.needsUpdate=!0,n.boundsTree.shapecast({intersectsBounds:m=>UA.intersectsBox(m),intersectsTriangle:m=>{m.a.applyMatrix4(o),m.b.applyMatrix4(o),m.c.applyMatrix4(o),m.needsUpdate=!0;for(let v=w,I=y+w;v<I;v++)if(He(qn,3*e.resolveTriangleIndex(v),h,f),qn.needsUpdate=!0,m.intersectsTriangle(qn))return!0;return!1}});for(let C=w,m=y+w;C<m;C++){let v=e.resolveTriangleIndex(C);He(Wn,3*v,h,f),Wn.a.applyMatrix4(Zi),Wn.b.applyMatrix4(Zi),Wn.c.applyMatrix4(Zi),Wn.needsUpdate=!0;for(let I=0,E=p.count;I<E;I+=3)if(He(qn,I,p,g),qn.needsUpdate=!0,Wn.intersectsTriangle(qn))return!0}}else{let u=i+8,h=a[i+6];return ze(u,t,QA),!!(r.intersectsBox(QA)&&Vc(u,e,n,o,r)||(ze(h,t,QA),r.intersectsBox(QA)&&Vc(h,e,n,o,r)))}}var LA=new Pe,jc=new et,$i=new et,Yv=new j,Wv=new j,qv=new j,Kv=new j;function ud(i,e,n,o={},r={},t=0,A=1/0){e.boundingBox||e.computeBoundingBox(),jc.set(e.boundingBox.min,e.boundingBox.max,n),jc.needsUpdate=!0;let a=i.geometry,c=a.attributes.position,l=a.index,u=e.attributes.position,h=e.index,f=xt.getPrimitive(),p=xt.getPrimitive(),g=Yv,w=Wv,y=null,C=null;r&&(y=qv,C=Kv);let m=1/0,v=null,I=null;return LA.copy(n).invert(),$i.matrix.copy(LA),i.shapecast({boundsTraverseOrder:E=>jc.distanceToBox(E),intersectsBounds:(E,b,B)=>B<m&&B<A?(b&&($i.min.copy(E.min),$i.max.copy(E.max),$i.needsUpdate=!0),!0):!1,intersectsRange:(E,b)=>{if(e.boundsTree){let B=e.boundsTree;return B.shapecast({boundsTraverseOrder:T=>$i.distanceToBox(T),intersectsBounds:(T,S,R)=>R<m&&R<A,intersectsRange:(T,S)=>{for(let R=T,Q=T+S;R<Q;R++){let M=B.resolveTriangleIndex(R);He(p,3*M,h,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let F=E,k=E+b;F<k;F++){let Y=i.resolveTriangleIndex(F);He(f,3*Y,l,c),f.needsUpdate=!0;let U=f.distanceToTriangle(p,g,y);if(U<m&&(w.copy(g),C&&C.copy(y),m=U,v=F,I=R),U<t)return!0}}}})}else{let B=cr(e);for(let T=0,S=B;T<S;T++){He(p,3*T,h,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let R=E,Q=E+b;R<Q;R++){let M=i.resolveTriangleIndex(R);He(f,3*M,l,c),f.needsUpdate=!0;let F=f.distanceToTriangle(p,g,y);if(F<m&&(w.copy(g),C&&C.copy(y),m=F,v=R,I=T),F<t)return!0}}}}}),xt.releasePrimitive(f),xt.releasePrimitive(p),m===1/0?null:(o.point?o.point.copy(w):o.point=w.clone(),o.distance=m,o.faceIndex=v,r&&(r.point?r.point.copy(C):r.point=C.clone(),r.point.applyMatrix4(LA),w.applyMatrix4(LA),r.distance=w.sub(r.point).length(),r.faceIndex=I),o)}function fd(){return typeof SharedArrayBuffer<"u"}var eo=new Le.constructor,OA=new Le.constructor,Qr=new Pr(()=>new Je),Kn=new Je,Jn=new Je,Yc=new Je,Wc=new Je,qc=!1;function hd(i,e,n,o){if(qc)throw new Error("MeshBVH: Recursive calls to bvhcast not supported.");qc=!0;let r=i._roots,t=e._roots,A,a=0,c=0,l=new Pe().copy(n).invert();for(let u=0,h=r.length;u<h;u++){eo.setBuffer(r[u]),c=0;let f=Qr.getPrimitive();ze(0,eo.float32Array,f),f.applyMatrix4(l);for(let p=0,g=t.length;p<g&&(OA.setBuffer(t[p]),A=Wt(0,0,n,l,o,a,c,0,0,f),OA.clearBuffer(),c+=t[p].length,!A);p++);if(Qr.releasePrimitive(f),eo.clearBuffer(),a+=r[u].length,A)break}return qc=!1,A}function Wt(i,e,n,o,r,t=0,A=0,a=0,c=0,l=null,u=!1){let h,f;u?(h=OA,f=eo):(h=eo,f=OA);let p=h.float32Array,g=h.uint32Array,w=h.uint16Array,y=f.float32Array,C=f.uint32Array,m=f.uint16Array,v=i*2,I=e*2,E=Xe(v,w),b=Xe(I,m),B=!1;if(b&&E)u?B=r(rt(e,C),ot(e*2,m),rt(i,g),ot(i*2,w),c,A+e,a,t+i):B=r(rt(i,g),ot(i*2,w),rt(e,C),ot(e*2,m),a,t+i,c,A+e);else if(b){let T=Qr.getPrimitive();ze(e,y,T),T.applyMatrix4(n);let S=ft(i),R=ht(i,g);ze(S,p,Kn),ze(R,p,Jn);let Q=T.intersectsBox(Kn),M=T.intersectsBox(Jn);B=Q&&Wt(e,S,o,n,r,A,t,c,a+1,T,!u)||M&&Wt(e,R,o,n,r,A,t,c,a+1,T,!u),Qr.releasePrimitive(T)}else{let T=ft(e),S=ht(e,C);ze(T,y,Yc),ze(S,y,Wc);let R=l.intersectsBox(Yc),Q=l.intersectsBox(Wc);if(R&&Q)B=Wt(i,T,n,o,r,t,A,a,c+1,l,u)||Wt(i,S,n,o,r,t,A,a,c+1,l,u);else if(R)if(E)B=Wt(i,T,n,o,r,t,A,a,c+1,l,u);else{let M=Qr.getPrimitive();M.copy(Yc).applyMatrix4(n);let F=ft(i),k=ht(i,g);ze(F,p,Kn),ze(k,p,Jn);let Y=M.intersectsBox(Kn),U=M.intersectsBox(Jn);B=Y&&Wt(T,F,o,n,r,A,t,c,a+1,M,!u)||U&&Wt(T,k,o,n,r,A,t,c,a+1,M,!u),Qr.releasePrimitive(M)}else if(Q)if(E)B=Wt(i,S,n,o,r,t,A,a,c+1,l,u);else{let M=Qr.getPrimitive();M.copy(Wc).applyMatrix4(n);let F=ft(i),k=ht(i,g);ze(F,p,Kn),ze(k,p,Jn);let Y=M.intersectsBox(Kn),U=M.intersectsBox(Jn);B=Y&&Wt(S,F,o,n,r,A,t,c,a+1,M,!u)||U&&Wt(S,k,o,n,r,A,t,c,a+1,M,!u),Qr.releasePrimitive(M)}}return B}var NA=new et,pd=new Je,Jv={strategy:0,maxDepth:40,maxLeafTris:10,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,indirect:!1,verbose:!0,range:null},nn=class i{static serialize(e,n={}){n={cloneBuffers:!0,...n};let o=e.geometry,r=e._roots,t=e._indirectBuffer,A=o.getIndex(),a;return n.cloneBuffers?a={roots:r.map(c=>c.slice()),index:A?A.array.slice():null,indirectBuffer:t?t.slice():null}:a={roots:r,index:A?A.array:null,indirectBuffer:t},a}static deserialize(e,n,o={}){o={setIndex:!0,indirect:!!e.indirectBuffer,...o};let{index:r,roots:t,indirectBuffer:A}=e,a=new i(n,{...o,[IA]:!0});if(a._roots=t,a._indirectBuffer=A||null,o.setIndex){let c=n.getIndex();if(c===null){let l=new je(e.index,1,!1);n.setIndex(l)}else c.array!==r&&(c.array.set(r),c.needsUpdate=!0)}return a}get indirect(){return!!this._indirectBuffer}constructor(e,n={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(n=Object.assign({...Jv,[IA]:!1},n),n.useSharedArrayBuffer&&!fd())throw new Error("MeshBVH: SharedArrayBuffer is not available.");this.geometry=e,this._roots=null,this._indirectBuffer=null,n[IA]||(Gp(this,n),!e.boundingBox&&n.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Je))),this.resolveTriangleIndex=n.indirect?o=>this._indirectBuffer[o]:o=>o}refit(e=null){return(this.indirect?Ad:Xp)(this,e)}traverse(e,n=0){let o=this._roots[n],r=new Uint32Array(o),t=new Uint16Array(o);A(0);function A(a,c=0){let l=a*2,u=t[l+15]===65535;if(u){let h=r[a+6],f=t[l+14];e(c,u,new Float32Array(o,a*4,6),h,f)}else{let h=a+32/4,f=r[a+6],p=r[a+7];e(c,u,new Float32Array(o,a*4,6),p)||(A(h,c+1),A(f,c+1))}}}raycast(e,n=hi,o=0,r=1/0){let t=this._roots,A=this.geometry,a=[],c=n.isMaterial,l=Array.isArray(n),u=A.groups,h=c?n.side:n,f=this.indirect?sd:td;for(let p=0,g=t.length;p<g;p++){let w=l?n[u[p].materialIndex].side:h,y=a.length;if(f(this,p,w,e,a,o,r),l){let C=u[p].materialIndex;for(let m=y,v=a.length;m<v;m++)a[m].face.materialIndex=C}}return a}raycastFirst(e,n=hi,o=0,r=1/0){let t=this._roots,A=this.geometry,a=n.isMaterial,c=Array.isArray(n),l=null,u=A.groups,h=a?n.side:n,f=this.indirect?ad:rd;for(let p=0,g=t.length;p<g;p++){let w=c?n[u[p].materialIndex].side:h,y=f(this,p,w,e,o,r);y!=null&&(l==null||y.distance<l.distance)&&(l=y,c&&(y.face.materialIndex=u[p].materialIndex))}return l}intersectsGeometry(e,n){let o=!1,r=this._roots,t=this.indirect?ld:id;for(let A=0,a=r.length;A<a&&(o=t(this,A,e,n),!o);A++);return o}shapecast(e){let n=xt.getPrimitive(),o=this.indirect?ed:Jp,{boundsTraverseOrder:r,intersectsBounds:t,intersectsRange:A,intersectsTriangle:a}=e;if(A&&a){let h=A;A=(f,p,g,w,y)=>h(f,p,g,w,y)?!0:o(f,p,this,a,g,w,n)}else A||(a?A=(h,f,p,g)=>o(h,f,this,a,p,g,n):A=(h,f,p)=>p);let c=!1,l=0,u=this._roots;for(let h=0,f=u.length;h<f;h++){let p=u[h];if(c=Hp(this,h,t,A,r,l),c)break;l+=p.byteLength}return xt.releasePrimitive(n),c}bvhcast(e,n,o){let{intersectsRanges:r,intersectsTriangles:t}=o,A=xt.getPrimitive(),a=this.geometry.index,c=this.geometry.attributes.position,l=this.indirect?g=>{let w=this.resolveTriangleIndex(g);He(A,w*3,a,c)}:g=>{He(A,g*3,a,c)},u=xt.getPrimitive(),h=e.geometry.index,f=e.geometry.attributes.position,p=e.indirect?g=>{let w=e.resolveTriangleIndex(g);He(u,w*3,h,f)}:g=>{He(u,g*3,h,f)};if(t){let g=(w,y,C,m,v,I,E,b)=>{for(let B=C,T=C+m;B<T;B++){p(B),u.a.applyMatrix4(n),u.b.applyMatrix4(n),u.c.applyMatrix4(n),u.needsUpdate=!0;for(let S=w,R=w+y;S<R;S++)if(l(S),A.needsUpdate=!0,t(A,u,S,B,v,I,E,b))return!0}return!1};if(r){let w=r;r=function(y,C,m,v,I,E,b,B){return w(y,C,m,v,I,E,b,B)?!0:g(y,C,m,v,I,E,b,B)}}else r=g}return hd(this,e,n,r)}intersectsBox(e,n){return NA.set(e.min,e.max,n),NA.needsUpdate=!0,this.shapecast({intersectsBounds:o=>NA.intersectsBox(o),intersectsTriangle:o=>NA.intersectsTriangle(o)})}intersectsSphere(e){return this.shapecast({intersectsBounds:n=>e.intersectsBox(n),intersectsTriangle:n=>n.intersectsSphere(e)})}closestPointToGeometry(e,n,o={},r={},t=0,A=1/0){return(this.indirect?ud:od)(this,e,n,o,r,t,A)}closestPointToPoint(e,n={},o=0,r=1/0){return Vp(this,e,n,o,r)}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(o=>{ze(0,new Float32Array(o),pd),e.union(pd)}),e}};function Kc(i,e,n){return i===null?null:(i.point.applyMatrix4(e.matrixWorld),i.distance=i.point.distanceTo(n.ray.origin),i.object=e,i)}var v2=parseInt(Co)>=166,GA=new Br,dd=new j,gd=new Pe,Xv=_e.prototype.raycast,Zv=pu.prototype.raycast,md=new j,gt=new _e,zA=[];function yd(i,e){this.isBatchedMesh?$v.call(this,i,e):ew.call(this,i,e)}function $v(i,e){if(this.boundsTrees){let n=this.boundsTrees,o=this._drawInfo,r=this._drawRanges,t=this.matrixWorld;gt.material=this.material,gt.geometry=this.geometry;let A=gt.geometry.boundsTree,a=gt.geometry.drawRange;gt.geometry.boundingSphere===null&&(gt.geometry.boundingSphere=new Ft);for(let c=0,l=o.length;c<l;c++){if(!this.getVisibleAt(c))continue;let u=o[c].geometryIndex;if(gt.geometry.boundsTree=n[u],this.getMatrixAt(c,gt.matrixWorld).premultiply(t),!gt.geometry.boundsTree){this.getBoundingBoxAt(u,gt.geometry.boundingBox),this.getBoundingSphereAt(u,gt.geometry.boundingSphere);let h=r[u];gt.geometry.setDrawRange(h.start,h.count)}gt.raycast(i,zA);for(let h=0,f=zA.length;h<f;h++){let p=zA[h];p.object=this,p.batchId=c,e.push(p)}zA.length=0}gt.geometry.boundsTree=A,gt.geometry.drawRange=a,gt.material=null,gt.geometry=null}else Zv.call(this,i,e)}function ew(i,e){if(this.geometry.boundsTree){if(this.material===void 0)return;gd.copy(this.matrixWorld).invert(),GA.copy(i.ray).applyMatrix4(gd),md.setFromMatrixScale(this.matrixWorld),dd.copy(GA.direction).multiply(md);let n=dd.length(),o=i.near/n,r=i.far/n,t=this.geometry.boundsTree;if(i.firstHitOnly===!0){let A=Kc(t.raycastFirst(GA,this.material,o,r),this,i);A&&e.push(A)}else{let A=t.raycast(GA,this.material,o,r);for(let a=0,c=A.length;a<c;a++){let l=Kc(A[a],this,i);l&&e.push(l)}}}else Xv.call(this,i,e)}function vd(i={}){return this.boundsTree=new nn(this,i),this.boundsTree}function wd(){this.boundsTree=null}var xd=`

// A stack of uint32 indices can can store the indices for
// a perfectly balanced tree with a depth up to 31. Lower stack
// depth gets higher performance.
//
// However not all trees are balanced. Best value to set this to
// is the trees max depth.
#ifndef BVH_STACK_DEPTH
#define BVH_STACK_DEPTH 60
#endif

#ifndef INFINITY
#define INFINITY 1e20
#endif

// Utilities
uvec4 uTexelFetch1D( usampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

ivec4 iTexelFetch1D( isampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

vec4 texelFetch1D( sampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

vec4 textureSampleBarycoord( sampler2D tex, vec3 barycoord, uvec3 faceIndices ) {

	return
		barycoord.x * texelFetch1D( tex, faceIndices.x ) +
		barycoord.y * texelFetch1D( tex, faceIndices.y ) +
		barycoord.z * texelFetch1D( tex, faceIndices.z );

}

void ndcToCameraRay(
	vec2 coord, mat4 cameraWorld, mat4 invProjectionMatrix,
	out vec3 rayOrigin, out vec3 rayDirection
) {

	// get camera look direction and near plane for camera clipping
	vec4 lookDirection = cameraWorld * vec4( 0.0, 0.0, - 1.0, 0.0 );
	vec4 nearVector = invProjectionMatrix * vec4( 0.0, 0.0, - 1.0, 1.0 );
	float near = abs( nearVector.z / nearVector.w );

	// get the camera direction and position from camera matrices
	vec4 origin = cameraWorld * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec4 direction = invProjectionMatrix * vec4( coord, 0.5, 1.0 );
	direction /= direction.w;
	direction = cameraWorld * direction - origin;

	// slide the origin along the ray until it sits at the near clip plane position
	origin.xyz += direction.xyz * near / dot( direction, lookDirection );

	rayOrigin = origin.xyz;
	rayDirection = direction.xyz;

}
`;var Id=`

#ifndef TRI_INTERSECT_EPSILON
#define TRI_INTERSECT_EPSILON 1e-5
#endif

// Raycasting
bool intersectsBounds( vec3 rayOrigin, vec3 rayDirection, vec3 boundsMin, vec3 boundsMax, out float dist ) {

	// https://www.reddit.com/r/opengl/comments/8ntzz5/fast_glsl_ray_box_intersection/
	// https://tavianator.com/2011/ray_box.html
	vec3 invDir = 1.0 / rayDirection;

	// find intersection distances for each plane
	vec3 tMinPlane = invDir * ( boundsMin - rayOrigin );
	vec3 tMaxPlane = invDir * ( boundsMax - rayOrigin );

	// get the min and max distances from each intersection
	vec3 tMinHit = min( tMaxPlane, tMinPlane );
	vec3 tMaxHit = max( tMaxPlane, tMinPlane );

	// get the furthest hit distance
	vec2 t = max( tMinHit.xx, tMinHit.yz );
	float t0 = max( t.x, t.y );

	// get the minimum hit distance
	t = min( tMaxHit.xx, tMaxHit.yz );
	float t1 = min( t.x, t.y );

	// set distance to 0.0 if the ray starts inside the box
	dist = max( t0, 0.0 );

	return t1 >= dist;

}

bool intersectsTriangle(
	vec3 rayOrigin, vec3 rayDirection, vec3 a, vec3 b, vec3 c,
	out vec3 barycoord, out vec3 norm, out float dist, out float side
) {

	// https://stackoverflow.com/questions/42740765/intersection-between-line-and-triangle-in-3d
	vec3 edge1 = b - a;
	vec3 edge2 = c - a;
	norm = cross( edge1, edge2 );

	float det = - dot( rayDirection, norm );
	float invdet = 1.0 / det;

	vec3 AO = rayOrigin - a;
	vec3 DAO = cross( AO, rayDirection );

	vec4 uvt;
	uvt.x = dot( edge2, DAO ) * invdet;
	uvt.y = - dot( edge1, DAO ) * invdet;
	uvt.z = dot( AO, norm ) * invdet;
	uvt.w = 1.0 - uvt.x - uvt.y;

	// set the hit information
	barycoord = uvt.wxy; // arranged in A, B, C order
	dist = uvt.z;
	side = sign( det );
	norm = side * normalize( norm );

	// add an epsilon to avoid misses between triangles
	uvt += vec4( TRI_INTERSECT_EPSILON );

	return all( greaterThanEqual( uvt, vec4( 0.0 ) ) );

}

bool intersectTriangles(
	// geometry info and triangle range
	sampler2D positionAttr, usampler2D indexAttr, uint offset, uint count,

	// ray
	vec3 rayOrigin, vec3 rayDirection,

	// outputs
	inout float minDistance, inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,
	inout float side, inout float dist
) {

	bool found = false;
	vec3 localBarycoord, localNormal;
	float localDist, localSide;
	for ( uint i = offset, l = offset + count; i < l; i ++ ) {

		uvec3 indices = uTexelFetch1D( indexAttr, i ).xyz;
		vec3 a = texelFetch1D( positionAttr, indices.x ).rgb;
		vec3 b = texelFetch1D( positionAttr, indices.y ).rgb;
		vec3 c = texelFetch1D( positionAttr, indices.z ).rgb;

		if (
			intersectsTriangle( rayOrigin, rayDirection, a, b, c, localBarycoord, localNormal, localDist, localSide )
			&& localDist < minDistance
		) {

			found = true;
			minDistance = localDist;

			faceIndices = uvec4( indices.xyz, i );
			faceNormal = localNormal;

			side = localSide;
			barycoord = localBarycoord;
			dist = localDist;

		}

	}

	return found;

}

bool intersectsBVHNodeBounds( vec3 rayOrigin, vec3 rayDirection, sampler2D bvhBounds, uint currNodeIndex, out float dist ) {

	uint cni2 = currNodeIndex * 2u;
	vec3 boundsMin = texelFetch1D( bvhBounds, cni2 ).xyz;
	vec3 boundsMax = texelFetch1D( bvhBounds, cni2 + 1u ).xyz;
	return intersectsBounds( rayOrigin, rayDirection, boundsMin, boundsMax, dist );

}

// use a macro to hide the fact that we need to expand the struct into separate fields
#define	bvhIntersectFirstHit(		bvh,		rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist	)	_bvhIntersectFirstHit(		bvh.position, bvh.index, bvh.bvhBounds, bvh.bvhContents,		rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist	)

bool _bvhIntersectFirstHit(
	// bvh info
	sampler2D bvh_position, usampler2D bvh_index, sampler2D bvh_bvhBounds, usampler2D bvh_bvhContents,

	// ray
	vec3 rayOrigin, vec3 rayDirection,

	// output variables split into separate variables due to output precision
	inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,
	inout float side, inout float dist
) {

	// stack needs to be twice as long as the deepest tree we expect because
	// we push both the left and right child onto the stack every traversal
	int ptr = 0;
	uint stack[ BVH_STACK_DEPTH ];
	stack[ 0 ] = 0u;

	float triangleDistance = INFINITY;
	bool found = false;
	while ( ptr > - 1 && ptr < BVH_STACK_DEPTH ) {

		uint currNodeIndex = stack[ ptr ];
		ptr --;

		// check if we intersect the current bounds
		float boundsHitDistance;
		if (
			! intersectsBVHNodeBounds( rayOrigin, rayDirection, bvh_bvhBounds, currNodeIndex, boundsHitDistance )
			|| boundsHitDistance > triangleDistance
		) {

			continue;

		}

		uvec2 boundsInfo = uTexelFetch1D( bvh_bvhContents, currNodeIndex ).xy;
		bool isLeaf = bool( boundsInfo.x & 0xffff0000u );

		if ( isLeaf ) {

			uint count = boundsInfo.x & 0x0000ffffu;
			uint offset = boundsInfo.y;

			found = intersectTriangles(
				bvh_position, bvh_index, offset, count,
				rayOrigin, rayDirection, triangleDistance,
				faceIndices, faceNormal, barycoord, side, dist
			) || found;

		} else {

			uint leftIndex = currNodeIndex + 1u;
			uint splitAxis = boundsInfo.x & 0x0000ffffu;
			uint rightIndex = boundsInfo.y;

			bool leftToRight = rayDirection[ splitAxis ] >= 0.0;
			uint c1 = leftToRight ? leftIndex : rightIndex;
			uint c2 = leftToRight ? rightIndex : leftIndex;

			// set c2 in the stack so we traverse it later. We need to keep track of a pointer in
			// the stack while we traverse. The second pointer added is the one that will be
			// traversed first
			ptr ++;
			stack[ ptr ] = c2;

			ptr ++;
			stack[ ptr ] = c1;

		}

	}

	return found;

}
`;var b2=`
	${xd}
	${Id}
`;var Cd=Math.pow(10,-Math.log10(1e-6)),rw=5e-7*Cd;function qt(i){return~~(i*Cd+rw)}function Ed(i){return`${qt(i.x)},${qt(i.y)}`}function Jc(i){return`${qt(i.x)},${qt(i.y)},${qt(i.z)}`}function bd(i){return`${qt(i.x)},${qt(i.y)},${qt(i.z)},${qt(i.w)}`}function HA(i,e,n){n.direction.subVectors(e,i).normalize();let o=i.dot(n.direction);return n.origin.copy(i).addScaledVector(n.direction,-o),n}function VA(){return typeof SharedArrayBuffer<"u"}function Bd(i){if(i.buffer instanceof SharedArrayBuffer)return i;let e=i.constructor,n=i.buffer,o=new SharedArrayBuffer(n.byteLength),r=new Uint8Array(n);return new Uint8Array(o).set(r,0),new e(o)}function nw(i,e=ArrayBuffer){return i>65535?new Uint32Array(new e(4*i)):new Uint16Array(new e(2*i))}function Td(i,e){if(!i.index){let n=i.attributes.position.count,o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,r=nw(n,o);i.setIndex(new je(r,1));for(let t=0;t<n;t++)r[t]=t}}function iw(i){return i.index?i.index.count:i.attributes.position.count}function lr(i){return iw(i)/3}var ow=1e-8,Aw=new j;function Dd(i){return~~(i/3)}function Md(i){return i%3}function Sd(i,e){return i.start-e.start}function Xc(i,e){return Aw.subVectors(e,i.origin).dot(i.direction)}function Rd(i,e,n,o=ow){i.sort(Sd),e.sort(Sd);for(let a=0;a<i.length;a++){let c=i[a];for(let l=0;l<e.length;l++){let u=e[l];if(!(u.start>c.end)){if(c.end<u.start||u.end<c.start)continue;if(c.start<=u.start&&c.end>=u.end)t(u.end,c.end)||i.splice(a+1,0,{start:u.end,end:c.end,index:c.index}),c.end=u.start,u.start=0,u.end=0;else if(c.start>=u.start&&c.end<=u.end)t(c.end,u.end)||e.splice(l+1,0,{start:c.end,end:u.end,index:u.index}),u.end=c.start,c.start=0,c.end=0;else if(c.start<=u.start&&c.end<=u.end){let h=c.end;c.end=u.start,u.start=h}else if(c.start>=u.start&&c.end>=u.end){let h=u.end;u.end=c.start,c.start=h}else throw new Error}if(n.has(c.index)||n.set(c.index,[]),n.has(u.index)||n.set(u.index,[]),n.get(c.index).push(u.index),n.get(u.index).push(c.index),A(u)&&(e.splice(l,1),l--),A(c)){i.splice(a,1),a--;break}}}r(i),r(e);function r(a){for(let c=0;c<a.length;c++)A(a[c])&&(a.splice(c,1),c--)}function t(a,c){return Math.abs(c-a)<o}function A(a){return Math.abs(a.end-a.start)<o}}var jA=class{constructor(){this._rays=[]}addRay(e){this._rays.push(e)}findClosestRay(e){let n=this._rays,o=e.clone();o.direction.multiplyScalar(-1);let r=1/0,t=null;for(let c=0,l=n.length;c<l;c++){let u=n[c];if(A(u,e)&&A(u,o))continue;let h=a(u,e),f=a(u,o),p=Math.min(h,f);p<r&&(r=p,t=u)}return t;function A(c,l){let u=c.origin.distanceTo(l.origin)>1e-5;return c.direction.angleTo(l.direction)>1e-4||u}function a(c,l){let u=c.origin.distanceTo(l.origin),h=c.direction.angleTo(l.direction);return u/1e-5+h/1e-4}}};var Zc=new j,$c=new j,YA=new Br;function _d(i,e,n){let o=i.attributes,r=i.index,t=o.position,A=new Map,a=new Map,c=Array.from(e),l=new jA;for(let u=0,h=c.length;u<h;u++){let f=c[u],p=Dd(f),g=Md(f),w=3*p+g,y=3*p+(g+1)%3;r&&(w=r.getX(w),y=r.getX(y)),Zc.fromBufferAttribute(t,w),$c.fromBufferAttribute(t,y),HA(Zc,$c,YA);let C,m=l.findClosestRay(YA);m===null&&(m=YA.clone(),l.addRay(m)),a.has(m)||a.set(m,{forward:[],reverse:[],ray:m}),C=a.get(m);let v=Xc(m,Zc),I=Xc(m,$c);v>I&&([v,I]=[I,v]),YA.direction.dot(m.direction)<0?C.reverse.push({start:v,end:I,index:f}):C.forward.push({start:v,end:I,index:f})}return a.forEach(({forward:u,reverse:h},f)=>{Rd(u,h,A,n),u.length===0&&h.length===0&&a.delete(f)}),{disjointConnectivityMap:A,fragmentMap:a}}var sw=new tt,el=new j,aw=new Dt,tl=["","",""],to=class{constructor(e=null){this.data=null,this.disjointConnections=null,this.unmatchedDisjointEdges=null,this.unmatchedEdges=-1,this.matchedEdges=-1,this.useDrawRange=!0,this.useAllAttributes=!1,this.matchDisjointEdges=!1,this.degenerateEpsilon=1e-8,e&&this.updateFrom(e)}getSiblingTriangleIndex(e,n){let o=this.data[e*3+n];return o===-1?-1:~~(o/3)}getSiblingEdgeIndex(e,n){let o=this.data[e*3+n];return o===-1?-1:o%3}getDisjointSiblingTriangleIndices(e,n){let o=e*3+n,r=this.disjointConnections.get(o);return r?r.map(t=>~~(t/3)):[]}getDisjointSiblingEdgeIndices(e,n){let o=e*3+n,r=this.disjointConnections.get(o);return r?r.map(t=>t%3):[]}isFullyConnected(){return this.unmatchedEdges===0}updateFrom(e){let{useAllAttributes:n,useDrawRange:o,matchDisjointEdges:r,degenerateEpsilon:t}=this,A=n?v:m,a=new Map,{attributes:c}=e,l=n?Object.keys(c):null,u=e.index,h=c.position,f=lr(e),p=f,g=0;o&&(g=e.drawRange.start,e.drawRange.count!==1/0&&(f=~~(e.drawRange.count/3)));let w=this.data;(!w||w.length<3*p)&&(w=new Int32Array(3*p)),w.fill(-1);let y=0,C=new Set;for(let I=g,E=f*3+g;I<E;I+=3){let b=I;for(let B=0;B<3;B++){let T=b+B;u&&(T=u.getX(T)),tl[B]=A(T)}for(let B=0;B<3;B++){let T=(B+1)%3,S=tl[B],R=tl[T],Q=`${R}_${S}`;if(a.has(Q)){let M=b+B,F=a.get(Q);w[M]=F,w[F]=M,a.delete(Q),y+=2,C.delete(F)}else{let M=`${S}_${R}`,F=b+B;a.set(M,F),C.add(F)}}}if(r){let{fragmentMap:I,disjointConnectivityMap:E}=_d(e,C,t);C.clear(),I.forEach(({forward:b,reverse:B})=>{b.forEach(({index:T})=>C.add(T)),B.forEach(({index:T})=>C.add(T))}),this.unmatchedDisjointEdges=I,this.disjointConnections=E,y=f*3-C.size}this.matchedEdges=y,this.unmatchedEdges=C.size,this.data=w;function m(I){return el.fromBufferAttribute(h,I),Jc(el)}function v(I){let E="";for(let b=0,B=l.length;b<B;b++){let T=c[l[b]],S;switch(T.itemSize){case 1:S=qt(T.getX(I));break;case 2:S=Ed(sw.fromBufferAttribute(T,I));break;case 3:S=Jc(el.fromBufferAttribute(T,I));break;case 4:S=bd(aw.fromBufferAttribute(T,I));break}E!==""&&(E+="|"),E+=S}return E}}};var Kt=class extends _e{constructor(...e){super(...e),this.isBrush=!0,this._previousMatrix=new Pe,this._previousMatrix.elements.fill(0)}markUpdated(){this._previousMatrix.copy(this.matrix)}isDirty(){let{matrix:e,_previousMatrix:n}=this,o=e.elements,r=n.elements;for(let t=0;t<16;t++)if(o[t]!==r[t])return!0;return!1}prepareGeometry(){let e=this.geometry,n=e.attributes,o=VA();if(o)for(let r in n){let t=n[r];if(t.isInterleavedBufferAttribute)throw new Error("Brush: InterleavedBufferAttributes are not supported.");t.array=Bd(t.array)}if(e.boundsTree||(Td(e,{useSharedArrayBuffer:o}),e.boundsTree=new nn(e,{maxLeafTris:3,indirect:!0,useSharedArrayBuffer:o})),e.halfEdges||(e.halfEdges=new to(e)),!e.groupIndices){let r=lr(e),t=new Uint16Array(r),A=e.groups;for(let a=0,c=A.length;a<c;a++){let{start:l,count:u}=A[a];for(let h=l/3,f=(l+u)/3;h<f;h++)t[h]=a}e.groupIndices=t}}disposeCacheData(){let{geometry:e}=this;e.halfEdges=null,e.boundsTree=null,e.groupIndices=null}};var cw=1e-14,rl=new j,Fd=new j,Pd=new j;function Jt(i,e=cw){rl.subVectors(i.b,i.a),Fd.subVectors(i.c,i.a),Pd.subVectors(i.b,i.c);let n=rl.angleTo(Fd),o=rl.angleTo(Pd),r=Math.PI-n-o;return Math.abs(n)<e||Math.abs(o)<e||Math.abs(r)<e||i.a.distanceToSquared(i.b)<e||i.a.distanceToSquared(i.c)<e||i.b.distanceToSquared(i.c)<e}var nl=1e-10,ro=1e-10,lw=1e-10,vr=new Ze,nt=new Ze,wr=new j,il=new j,kd=new j,WA=new hr,ol=new at,Al=class{constructor(){this._pool=[],this._index=0}getTriangle(){return this._index>=this._pool.length&&this._pool.push(new We),this._pool[this._index++]}clear(){this._index=0}reset(){this._pool.length=0,this._index=0}},no=class{constructor(){this.trianglePool=new Al,this.triangles=[],this.normal=new j,this.coplanarTriangleUsed=!1}initialize(e){this.reset();let{triangles:n,trianglePool:o,normal:r}=this;if(Array.isArray(e))for(let t=0,A=e.length;t<A;t++){let a=e[t];if(t===0)a.getNormal(r);else if(Math.abs(1-a.getNormal(wr).dot(r))>nl)throw new Error("Triangle Splitter: Cannot initialize with triangles that have different normals.");let c=o.getTriangle();c.copy(a),n.push(c)}else{e.getNormal(r);let t=o.getTriangle();t.copy(e),n.push(t)}}splitByTriangle(e){let{normal:n,triangles:o}=this;if(e.getNormal(il).normalize(),Math.abs(1-Math.abs(il.dot(n)))<lw){this.coplanarTriangleUsed=!0;for(let t=0,A=o.length;t<A;t++){let a=o[t];a.coplanarCount=0}let r=[e.a,e.b,e.c];for(let t=0;t<3;t++){let A=(t+1)%3,a=r[t],c=r[A];wr.subVectors(c,a).normalize(),kd.crossVectors(il,wr),WA.setFromNormalAndCoplanarPoint(kd,a),this.splitByPlane(WA,e)}}else e.getPlane(WA),this.splitByPlane(WA,e)}splitByPlane(e,n){let{triangles:o,trianglePool:r}=this;ol.copy(n),ol.needsUpdate=!0;for(let t=0,A=o.length;t<A;t++){let a=o[t];if(!ol.intersectsTriangle(a,vr,!0))continue;let{a:c,b:l,c:u}=a,h=0,f=-1,p=!1,g=[],w=[],y=[c,l,u];for(let C=0;C<3;C++){let m=(C+1)%3;vr.start.copy(y[C]),vr.end.copy(y[m]);let v=e.distanceToPoint(vr.start),I=e.distanceToPoint(vr.end);if(Math.abs(v)<ro&&Math.abs(I)<ro){p=!0;break}if(v>0?g.push(C):w.push(C),Math.abs(v)<ro)continue;let E=!!e.intersectLine(vr,wr);!E&&Math.abs(I)<ro&&(wr.copy(vr.end),E=!0),E&&!(wr.distanceTo(vr.start)<nl)&&(wr.distanceTo(vr.end)<nl&&(f=C),h===0?nt.start.copy(wr):nt.end.copy(wr),h++)}if(!p&&h===2&&nt.distance()>ro)if(f!==-1){f=(f+1)%3;let C=0;C===f&&(C=(C+1)%3);let m=C+1;m===f&&(m=(m+1)%3);let v=r.getTriangle();v.a.copy(y[m]),v.b.copy(nt.end),v.c.copy(nt.start),Jt(v)||o.push(v),a.a.copy(y[C]),a.b.copy(nt.start),a.c.copy(nt.end),Jt(a)&&(o.splice(t,1),t--,A--)}else{let C=g.length>=2?w[0]:g[0];if(C===0){let b=nt.start;nt.start=nt.end,nt.end=b}let m=(C+1)%3,v=(C+2)%3,I=r.getTriangle(),E=r.getTriangle();y[m].distanceToSquared(nt.start)<y[v].distanceToSquared(nt.end)?(I.a.copy(y[m]),I.b.copy(nt.start),I.c.copy(nt.end),E.a.copy(y[m]),E.b.copy(y[v]),E.c.copy(nt.start)):(I.a.copy(y[v]),I.b.copy(nt.start),I.c.copy(nt.end),E.a.copy(y[m]),E.b.copy(y[v]),E.c.copy(nt.end)),a.a.copy(y[C]),a.b.copy(nt.end),a.c.copy(nt.start),Jt(I)||o.push(I),Jt(E)||o.push(E),Jt(a)&&(o.splice(t,1),t--,A--)}else h===3&&console.warn("TriangleClipper: Coplanar clip not handled")}}reset(){this.triangles.length=0,this.trianglePool.clear(),this.coplanarTriangleUsed=!1}};function uw(i){return i=~~i,i+4-i%4}var io=class{constructor(e,n=500){this.expansionFactor=1.5,this.type=e,this.length=0,this.array=null,this.setSize(n)}setType(e){if(this.length!==0)throw new Error("TypeBackedArray: Cannot change the type while there is used data in the buffer.");let n=this.array.buffer;this.array=new e(n),this.type=e}setSize(e){if(this.array&&e===this.array.length)return;let n=this.type,o=VA()?SharedArrayBuffer:ArrayBuffer,r=new n(new o(uw(e*n.BYTES_PER_ELEMENT)));this.array&&r.set(this.array,0),this.array=r}expand(){let{array:e,expansionFactor:n}=this;this.setSize(e.length*n)}push(...e){let{array:n,length:o}=this;o+e.length>n.length&&(this.expand(),n=this.array);for(let r=0,t=e.length;r<t;r++)n[o+r]=e[r];this.length+=e.length}clear(){this.length=0}};var qA=class{constructor(){this.groupAttributes=[{}],this.groupCount=0}getType(e){return this.groupAttributes[0][e].type}getItemSize(e){return this.groupAttributes[0][e].itemSize}getNormalized(e){return this.groupAttributes[0][e].normalized}getCount(e){if(this.groupCount<=e)return 0;let n=this.getGroupAttrArray("position",e);return n.length/n.itemSize}getTotalLength(e){let{groupCount:n,groupAttributes:o}=this,r=0;for(let t=0;t<n;t++){let A=o[t];r+=A[e].length}return r}getGroupAttrSet(e=0){let{groupAttributes:n}=this;if(n[e])return this.groupCount=Math.max(this.groupCount,e+1),n[e];let o=n[0];for(this.groupCount=Math.max(this.groupCount,e+1);e>=n.length;){let r={};n.push(r);for(let t in o){let A=o[t],a=new io(A.type);a.itemSize=A.itemSize,a.normalized=A.normalized,r[t]=a}}return n[e]}getGroupAttrArray(e,n=0){let{groupAttributes:o}=this;if(!o[0][e])throw new Error(`TypedAttributeData: Attribute with "${e}" has not been initialized`);return this.getGroupAttrSet(n)[e]}initializeArray(e,n,o,r){let{groupAttributes:t}=this,a=t[0][e];if(a){if(a.type!==n)for(let c=0,l=t.length;c<l;c++){let u=t[c][e];u.setType(n),u.itemSize=o,u.normalized=r}}else for(let c=0,l=t.length;c<l;c++){let u=new io(n);u.itemSize=o,u.normalized=r,t[c][e]=u}}clear(){this.groupCount=0;let{groupAttributes:e}=this;e.forEach(n=>{for(let o in n)n[o].clear()})}delete(e){this.groupAttributes.forEach(n=>{delete n[e]})}reset(){this.groupAttributes=[],this.groupCount=0}};var oo=class{constructor(){this.intersectionSet={},this.ids=[]}add(e,n){let{intersectionSet:o,ids:r}=this;o[e]||(o[e]=[],r.push(e)),o[e].push(n)}};var Qd=0,sl=1,fw=2,hw=3,pw=4,Ud=5,Ld=6;var Nt=new Br,Od=new Pe,It=new We,xr=new j,Nd=new Dt,Gd=new Dt,zd=new Dt,al=new Dt,KA=new Dt,JA=new Dt,Hd=new Ze,cl=new j,ll=1e-8,dw=1e-15,An=-1,sn=1,XA=-2,ZA=2,Xn=0,on=1,es=2,gw=1e-14,$A=null;function hl(i){$A=i}function pl(i,e){i.getMidpoint(Nt.origin),i.getNormal(Nt.direction);let n=e.raycastFirst(Nt,At);return!!(n&&Nt.direction.dot(n.face.normal)>0)?An:sn}function Vd(i,e){function n(){return Math.random()-.5}i.getNormal(cl),Nt.direction.copy(cl),i.getMidpoint(Nt.origin);let o=3,r=0,t=1/0;for(let A=0;A<o;A++){Nt.direction.x+=n()*ll,Nt.direction.y+=n()*ll,Nt.direction.z+=n()*ll,Nt.direction.multiplyScalar(-1);let a=e.raycastFirst(Nt,At);if(!!(a&&Nt.direction.dot(a.face.normal)>0)&&r++,a!==null&&(t=Math.min(t,a.distance)),t<=dw)return a.face.normal.dot(cl)>0?ZA:XA;if(r/o>.5||(A-r+1)/o>.5)break}return r/o>.5?An:sn}function jd(i,e){let n=new oo,o=new oo;return Od.copy(i.matrixWorld).invert().multiply(e.matrixWorld),i.geometry.boundsTree.bvhcast(e.geometry.boundsTree,Od,{intersectsTriangles(r,t,A,a){if(!Jt(r)&&!Jt(t)){let c=r.intersectsTriangle(t,Hd,!0);if(!c){let l=r.plane,u=t.plane,h=l.normal,f=u.normal;h.dot(f)===1&&Math.abs(l.constant-u.constant)<gw&&(c=!0)}if(c){let l=i.geometry.boundsTree.resolveTriangleIndex(A),u=e.geometry.boundsTree.resolveTriangleIndex(a);n.add(l,u),o.add(u,l),$A&&($A.addEdge(Hd),$A.addIntersectingTriangles(A,r,a,t))}}return!1}}),{aIntersections:n,bIntersections:o}}function Yd(i,e,n,o,r,t,A=!1){let a=n.attributes,c=n.index,l=i*3,u=c.getX(l+0),h=c.getX(l+1),f=c.getX(l+2);for(let p in t){let g=a[p],w=t[p];if(!(p in a))throw new Error(`CSG Operations: Attribute ${p} not available on geometry.`);let y=g.itemSize;p==="position"?(It.a.fromBufferAttribute(g,u).applyMatrix4(o),It.b.fromBufferAttribute(g,h).applyMatrix4(o),It.c.fromBufferAttribute(g,f).applyMatrix4(o),ul(It.a,It.b,It.c,e,3,w,A)):p==="normal"?(It.a.fromBufferAttribute(g,u).applyNormalMatrix(r),It.b.fromBufferAttribute(g,h).applyNormalMatrix(r),It.c.fromBufferAttribute(g,f).applyNormalMatrix(r),A&&(It.a.multiplyScalar(-1),It.b.multiplyScalar(-1),It.c.multiplyScalar(-1)),ul(It.a,It.b,It.c,e,3,w,A,!0)):(Nd.fromBufferAttribute(g,u),Gd.fromBufferAttribute(g,h),zd.fromBufferAttribute(g,f),ul(Nd,Gd,zd,e,y,w,A))}}function Wd(i,e,n,o,r,t,A,a=!1){fl(i,o,r,t,A,a),fl(a?n:e,o,r,t,A,a),fl(a?e:n,o,r,t,A,a)}function dl(i,e,n=!1){switch(i){case 0:if(e===sn||e===ZA&&!n)return on;break;case 1:if(n){if(e===An)return Xn}else if(e===sn||e===XA)return on;break;case 2:if(n){if(e===sn||e===XA)return on}else if(e===An)return Xn;break;case 4:if(e===An)return Xn;if(e===sn)return on;break;case 3:if(e===An||e===ZA&&!n)return on;break;case 5:if(!n&&(e===sn||e===XA))return on;break;case 6:if(!n&&(e===An||e===ZA))return on;break;default:throw new Error(`Unrecognized CSG operation enum "${i}".`)}return es}function ul(i,e,n,o,r,t,A=!1,a=!1){let c=l=>{t.push(l.x),r>1&&t.push(l.y),r>2&&t.push(l.z),r>3&&t.push(l.w)};al.set(0,0,0,0).addScaledVector(i,o.a.x).addScaledVector(e,o.a.y).addScaledVector(n,o.a.z),KA.set(0,0,0,0).addScaledVector(i,o.b.x).addScaledVector(e,o.b.y).addScaledVector(n,o.b.z),JA.set(0,0,0,0).addScaledVector(i,o.c.x).addScaledVector(e,o.c.y).addScaledVector(n,o.c.z),a&&(al.normalize(),KA.normalize(),JA.normalize()),c(al),A?(c(JA),c(KA)):(c(KA),c(JA))}function fl(i,e,n,o,r,t=!1){for(let A in r){let a=e[A],c=r[A];if(!(A in e))throw new Error(`CSG Operations: Attribute ${A} no available on geometry.`);let l=a.itemSize;A==="position"?(xr.fromBufferAttribute(a,i).applyMatrix4(n),c.push(xr.x,xr.y,xr.z)):A==="normal"?(xr.fromBufferAttribute(a,i).applyNormalMatrix(o),t&&xr.multiplyScalar(-1),c.push(xr.x,xr.y,xr.z)):(c.push(a.getX(i)),l>1&&c.push(a.getY(i)),l>2&&c.push(a.getZ(i)),l>3&&c.push(a.getW(i)))}}var gl=class{constructor(e){this.triangle=new We().copy(e),this.intersects={}}addTriangle(e,n){this.intersects[e]=new We().copy(n)}getIntersectArray(){let e=[],{intersects:n}=this;for(let o in n)e.push(n[o]);return e}},ts=class{constructor(){this.data={}}addTriangleIntersection(e,n,o,r){let{data:t}=this;t[e]||(t[e]=new gl(n)),t[e].addTriangle(o,r)}getTrianglesAsArray(e=null){let{data:n}=this,o=[];if(e!==null)e in n&&o.push(n[e].triangle);else for(let r in n)o.push(n[r].triangle);return o}getTriangleIndices(){return Object.keys(this.data).map(e=>parseInt(e))}getIntersectionIndices(e){let{data:n}=this;return n[e]?Object.keys(n[e].intersects).map(o=>parseInt(o)):[]}getIntersectionsAsArray(e=null,n=null){let{data:o}=this,r=new Set,t=[],A=a=>{if(o[a])if(n!==null)o[a].intersects[n]&&t.push(o[a].intersects[n]);else{let c=o[a].intersects;for(let l in c)r.has(l)||(r.add(l),t.push(c[l]))}};if(e!==null)A(e);else for(let a in o)A(a);return t}reset(){this.data={}}},rs=class{constructor(){this.enabled=!1,this.triangleIntersectsA=new ts,this.triangleIntersectsB=new ts,this.intersectionEdges=[]}addIntersectingTriangles(e,n,o,r){let{triangleIntersectsA:t,triangleIntersectsB:A}=this;t.addTriangleIntersection(e,n,o,r),A.addTriangleIntersection(o,r,e,n)}addEdge(e){this.intersectionEdges.push(e.clone())}reset(){this.triangleIntersectsA.reset(),this.triangleIntersectsB.reset(),this.intersectionEdges=[]}init(){this.enabled&&(this.reset(),hl(this))}complete(){this.enabled&&hl(null)}};var Lr=new Pe,os=new gi,an=new We,ns=new We,Ur=new We,is=new We,Xt=[],cn=[];function mw(i){for(let e of i)return e}function Jd(i,e,n,o,r,t={}){let{useGroups:A=!0}=t,{aIntersections:a,bIntersections:c}=jd(i,e),l=[],u=null,h;return h=A?0:-1,qd(i,e,a,n,!1,o,r,h),Kd(i,e,a,n,!1,r,h),n.findIndex(p=>p!==6&&p!==5)!==-1&&(h=A?i.geometry.groups.length||1:-1,qd(e,i,c,n,!0,o,r,h),Kd(e,i,c,n,!0,r,h)),Xt.length=0,cn.length=0,{groups:l,materials:u}}function qd(i,e,n,o,r,t,A,a=0){let c=i.matrixWorld.determinant()<0;Lr.copy(e.matrixWorld).invert().multiply(i.matrixWorld),os.getNormalMatrix(i.matrixWorld).multiplyScalar(c?-1:1);let l=i.geometry.groupIndices,u=i.geometry.index,h=i.geometry.attributes.position,f=e.geometry.boundsTree,p=e.geometry.index,g=e.geometry.attributes.position,w=n.ids,y=n.intersectionSet;for(let C=0,m=w.length;C<m;C++){let v=w[C],I=a===-1?0:l[v]+a,E=3*v,b=u.getX(E+0),B=u.getX(E+1),T=u.getX(E+2);an.a.fromBufferAttribute(h,b).applyMatrix4(Lr),an.b.fromBufferAttribute(h,B).applyMatrix4(Lr),an.c.fromBufferAttribute(h,T).applyMatrix4(Lr),t.reset(),t.initialize(an);let S=y[v];for(let Q=0,M=S.length;Q<M;Q++){let F=3*S[Q],k=p.getX(F+0),Y=p.getX(F+1),U=p.getX(F+2);ns.a.fromBufferAttribute(g,k),ns.b.fromBufferAttribute(g,Y),ns.c.fromBufferAttribute(g,U),t.splitByTriangle(ns)}let R=t.triangles;for(let Q=0,M=R.length;Q<M;Q++){let F=R[Q],k=t.coplanarTriangleUsed?Vd(F,f):pl(F,f);Xt.length=0,cn.length=0;for(let Y=0,U=o.length;Y<U;Y++){let K=dl(o[Y],k,r);K!==es&&(cn.push(K),Xt.push(A[Y].getGroupAttrSet(I)))}if(Xt.length!==0){an.getBarycoord(F.a,is.a),an.getBarycoord(F.b,is.b),an.getBarycoord(F.c,is.c);for(let Y=0,U=Xt.length;Y<U;Y++){let K=Xt[Y],O=cn[Y]===Xn;Yd(v,is,i.geometry,i.matrixWorld,os,K,c!==O)}}}}return w.length}function Kd(i,e,n,o,r,t,A=0){let a=i.matrixWorld.determinant()<0;Lr.copy(e.matrixWorld).invert().multiply(i.matrixWorld),os.getNormalMatrix(i.matrixWorld).multiplyScalar(a?-1:1);let c=e.geometry.boundsTree,l=i.geometry.groupIndices,u=i.geometry.index,h=i.geometry.attributes,f=h.position,p=[],g=i.geometry.halfEdges,w=new Set,y=lr(i.geometry);for(let C=0,m=y;C<m;C++)C in n.intersectionSet||w.add(C);for(;w.size>0;){let C=mw(w);w.delete(C),p.push(C);let m=3*C,v=u.getX(m+0),I=u.getX(m+1),E=u.getX(m+2);Ur.a.fromBufferAttribute(f,v).applyMatrix4(Lr),Ur.b.fromBufferAttribute(f,I).applyMatrix4(Lr),Ur.c.fromBufferAttribute(f,E).applyMatrix4(Lr);let b=pl(Ur,c);cn.length=0,Xt.length=0;for(let B=0,T=o.length;B<T;B++){let S=dl(o[B],b,r);S!==es&&(cn.push(S),Xt.push(t[B]))}for(;p.length>0;){let B=p.pop();for(let T=0;T<3;T++){let S=g.getSiblingTriangleIndex(B,T);S!==-1&&w.has(S)&&(p.push(S),w.delete(S))}if(Xt.length!==0){let T=3*B,S=u.getX(T+0),R=u.getX(T+1),Q=u.getX(T+2),M=A===-1?0:l[B]+A;if(Ur.a.fromBufferAttribute(f,S),Ur.b.fromBufferAttribute(f,R),Ur.c.fromBufferAttribute(f,Q),!Jt(Ur))for(let F=0,k=Xt.length;F<k;F++){let Y=cn[F],U=Xt[F].getGroupAttrSet(M),K=Y===Xn;Wd(S,R,Q,h,i.matrixWorld,os,U,K!==a)}}}}}function yw(i){for(let e=0;e<i.length-1;e++){let n=i[e],o=i[e+1];if(n.materialIndex===o.materialIndex){let r=n.start,t=o.start+o.count;o.start=r,o.count=t-r,i.splice(e,1),e--}}}function vw(i,e,n,o){n.clear();let r=i.attributes;for(let t=0,A=o.length;t<A;t++){let a=o[t],c=r[a];n.initializeArray(a,c.array.constructor,c.itemSize,c.normalized)}for(let t in n.attributes)o.includes(t)||n.delete(t);for(let t in e.attributes)o.includes(t)||(e.deleteAttribute(t),e.dispose())}function ww(i,e,n){let o=!1,r=-1,t=i.attributes,A=e.groupAttributes[0];for(let c in A){let l=e.getTotalLength(c),u=e.getType(c),h=e.getItemSize(c),f=e.getNormalized(c),p=t[c];(!p||p.array.length<l)&&(p=new je(new u(l),h,f),i.setAttribute(c,p),o=!0);let g=0;for(let w=0,y=Math.min(n.length,e.groupCount);w<y;w++){let C=n[w].index,{array:m,type:v,length:I}=e.groupAttributes[C][c],E=new v(m.buffer,0,I);p.array.set(E,g),g+=E.length}p.needsUpdate=!0,r=l/p.itemSize}if(i.index){let c=i.index.array;if(c.length<r)i.index=null,o=!0;else for(let l=0,u=c.length;l<u;l++)c[l]=l}let a=0;i.clearGroups();for(let c=0,l=Math.min(n.length,e.groupCount);c<l;c++){let{index:u,materialIndex:h}=n[c],f=e.getCount(u);f!==0&&(i.addGroup(a,f,h),a+=f)}i.setDrawRange(0,r),i.boundsTree=null,o&&i.dispose()}function Xd(i,e){let n=e;return Array.isArray(e)||(n=[],i.forEach(o=>{n[o.materialIndex]=e})),n}var Ao=class{constructor(){this.triangleSplitter=new no,this.attributeData=[],this.attributes=["position","uv","normal"],this.useGroups=!0,this.consolidateGroups=!0,this.debug=new rs}getGroupRanges(e){return!this.useGroups||e.groups.length===0?[{start:0,count:1/0,materialIndex:0}]:e.groups.map(n=>({...n}))}evaluate(e,n,o,r=new Kt){let t=!0;if(Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r],t=!1),r.length!==o.length)throw new Error("Evaluator: operations and target array passed as different sizes.");e.prepareGeometry(),n.prepareGeometry();let{triangleSplitter:A,attributeData:a,attributes:c,useGroups:l,consolidateGroups:u,debug:h}=this;for(;a.length<r.length;)a.push(new qA);r.forEach((C,m)=>{vw(e.geometry,C.geometry,a[m],c)}),h.init(),Jd(e,n,o,A,a,{useGroups:l}),h.complete();let f=this.getGroupRanges(e.geometry),p=Xd(f,e.material),g=this.getGroupRanges(n.geometry),w=Xd(g,n.material);g.forEach(C=>C.materialIndex+=p.length);let y=[...f,...g].map((C,m)=>({...C,index:m}));if(l){let C=[...p,...w];u&&(y=y.map(v=>{let I=C[v.materialIndex];return v.materialIndex=C.indexOf(I),v}).sort((v,I)=>v.materialIndex-I.materialIndex));let m=[];for(let v=0,I=C.length;v<I;v++){let E=!1;for(let b=0,B=y.length;b<B;b++){let T=y[b];T.materialIndex===v&&(E=!0,T.materialIndex=m.length)}E&&m.push(C[v])}r.forEach(v=>{v.material=m})}else y=[{start:0,count:1/0,index:0,materialIndex:0}],r.forEach(C=>{C.material=p[0]});return r.forEach((C,m)=>{let v=C.geometry;ww(v,a[m],y),u&&yw(v.groups)}),t?r:r[0]}evaluateHierarchy(e,n=new Kt){e.updateMatrixWorld(!0);let o=(t,A)=>{let a=t.children;for(let c=0,l=a.length;c<l;c++){let u=a[c];u.isOperationGroup?o(u,A):A(u)}},r=t=>{let A=t.children,a=!1;for(let l=0,u=A.length;l<u;l++){let h=A[l];a=r(h)||a}let c=t.isDirty();if(c&&t.markUpdated(),a&&!t.isOperationGroup){let l;return o(t,u=>{l?l=this.evaluate(l,u,u.operation):l=this.evaluate(t,u,u.operation)}),t._cachedGeometry=l.geometry,t._cachedMaterials=l.material,!0}else return a||c};return r(e),n.geometry=e._cachedGeometry,n.material=e._cachedMaterials,n}reset(){this.triangleSplitter.reset()}};var ml=class extends Kt{constructor(...e){super(...e),this.isOperation=!0,this.operation=0,this._cachedGeometry=new lt,this._cachedMaterials=null,this._previousOperation=null}markUpdated(){super.markUpdated(),this._previousOperation=this.operation}isDirty(){return this.operation!==this._previousOperation||super.isDirty()}insertBefore(e){let n=this.parent,o=n.children.indexOf(this);n.children.splice(o,0,e)}insertAfter(e){let n=this.parent,o=n.children.indexOf(this);n.children.splice(o+1,0,e)}};var yl=class extends Qt{constructor(){super(),this.isOperationGroup=!0,this._previousMatrix=new Pe}markUpdated(){this._previousMatrix.copy(this.matrix)}isDirty(){let{matrix:e,_previousMatrix:n}=this,o=e.elements,r=n.elements;for(let t=0;t<16;t++)if(o[t]!==r[t])return!0;return!1}};function xw(i){if(!/varying\s+vec3\s+wPosition/.test(i.vertexShader))return i.vertexShader=`
			varying vec3 wPosition;
			${i.vertexShader}
		`.replace(/#include <displacementmap_vertex>/,e=>`${e}
				wPosition = (modelMatrix * vec4( transformed, 1.0 )).xyz;
				`),i.fragmentShader=`
		varying vec3 wPosition;
		${i.fragmentShader}
		`,i}function Zd(i){return i.uniforms={...i.uniforms,checkerboardColor:{value:new qe(1118481)}},xw(i),i.defines={CSG_GRID:1},i.fragmentShader=i.fragmentShader.replace(/#include <common>/,e=>`
			${e}

			uniform vec3 checkerboardColor;
			float getCheckerboard( vec2 p, float scale ) {

				p /= scale;
				p += vec2( 0.5 );

				vec2 line = mod( p, 2.0 ) - vec2( 1.0 );
				line = abs( line );

				vec2 pWidth = fwidth( line );
				vec2 value = smoothstep( 0.5 - pWidth / 2.0, 0.5 + pWidth / 2.0, line );
				float result = value.x * value.y + ( 1.0 - value.x ) * ( 1.0 - value.y );

				return result;

			}

			float getGrid( vec2 p, float scale, float thickness ) {

				p /= 0.5 * scale;

				vec2 stride = mod( p, 2.0 ) - vec2( 1.0 );
				stride = abs( stride );

				vec2 pWidth = fwidth( p );
				vec2 line = smoothstep( 1.0 - pWidth / 2.0, 1.0 + pWidth / 2.0, stride + thickness * pWidth );

				return max( line.x, line.y );

			}

			vec3 getFaceColor( vec2 p, vec3 color ) {

				float checkLarge = getCheckerboard( p, 1.0 );
				float checkSmall = abs( getCheckerboard( p, 0.1 ) );
				float lines = getGrid( p, 10.0, 1.0 );

				vec3 checkColor = mix(
					vec3( 0.7 ) * color,
					vec3( 1.0 ) * color,
					checkSmall * 0.4 + checkLarge * 0.6
				);

				vec3 gridColor = vec3( 1.0 );

				return mix( checkColor, gridColor, lines );

			}

			float angleBetween( vec3 a, vec3 b ) {

				return acos( abs( dot( a, b ) ) );

			}

			vec3 planeProject( vec3 norm, vec3 other ) {

				float d = dot( norm, other );
				return normalize( other - norm * d );

			}

			vec3 getBlendFactors( vec3 norm ) {

				vec3 xVec = vec3( 1.0, 0.0, 0.0 );
				vec3 yVec = vec3( 0.0, 1.0, 0.0 );
				vec3 zVec = vec3( 0.0, 0.0, 1.0 );

				vec3 projX = planeProject( xVec, norm );
				vec3 projY = planeProject( yVec, norm );
				vec3 projZ = planeProject( zVec, norm );

				float xAngle = max(
					angleBetween( xVec, projY ),
					angleBetween( xVec, projZ )
				);

				float yAngle = max(
					angleBetween( yVec, projX ),
					angleBetween( yVec, projZ )
				);

				float zAngle = max(
					angleBetween( zVec, projX ),
					angleBetween( zVec, projY )
				);

				return vec3( xAngle, yAngle, zAngle ) / ( 0.5 * PI );

			}
		`).replace(/#include <normal_fragment_maps>/,e=>`${e}
				#if CSG_GRID
				{

					vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );

					float yCont = abs( dot( vec3( 0.0, 1.0, 0.0 ), worldNormal ) );
					float zCont = abs( dot( vec3( 0.0, 0.0, 1.0 ), worldNormal ) );
					float xCont = abs( dot( vec3( 1.0, 0.0, 0.0 ), worldNormal ) );

					vec3 factors = getBlendFactors( worldNormal );
					factors = smoothstep( vec3( 0.475 ), vec3( 0.525 ), vec3( 1.0 ) - factors );

					float weight = factors.x + factors.y + factors.z;
					factors /= weight;

					vec3 color =
						getFaceColor( wPosition.yz, diffuseColor.rgb ) * factors.x +
						getFaceColor( wPosition.xz, diffuseColor.rgb ) * factors.y +
						getFaceColor( wPosition.xy, diffuseColor.rgb ) * factors.z;

					diffuseColor.rgb = color;

				}
				#endif
				`),i}var vl=class extends yi{get enableGrid(){return!!this._enableGrid}set enableGrid(e){this._enableGrid!==e&&(this._enableGrid=e,this.needsUpdate=!0)}constructor(...e){super(...e),this.enableGrid=!0}onBeforeCompile(e){Zd(e),e.defines.CSG_GRID=Number(this.enableGrid)}customProgramCacheKey(){return this.enableGrid.toString()}};function $d(...i){function e(n){return`new THREE.Vector3( ${n.x}, ${n.y}, ${n.z} )`}return i.map(n=>`
new THREE.Triangle(
	${e(n.a)},
	${e(n.b)},
	${e(n.c)},
)
		`.trim())}function Iw(...i){console.log($d(...i).join(`,
`))}function Cw(i){let e=i.attributes.position,n=new Float32Array(e.count*3),o=new qe;for(let r=0,t=n.length;r<t;r+=9)o.setHSL(Math.random(),gn.lerp(.5,1,Math.random()),gn.lerp(.5,.75,Math.random())),n[r+0]=o.r,n[r+1]=o.g,n[r+2]=o.b,n[r+3]=o.r,n[r+4]=o.g,n[r+5]=o.b,n[r+6]=o.r,n[r+7]=o.g,n[r+8]=o.b;i.setAttribute("color",new je(n,3))}var wl=class extends Qt{get color(){return this._mesh.material.color}get side(){return this._mesh.material.side}set side(e){this._mesh.material.side=e}constructor(e=[]){super();let n=new lt,o=new lt;this._mesh=new _e(n,new yi({flatShading:!0,transparent:!0,opacity:.25,depthWrite:!1})),this._lines=new xn(o,new mi),this._mesh.material.color=this._lines.material.color,this._lines.frustumCulled=!1,this._mesh.frustumCulled=!1,this.add(this._lines,this._mesh),this.setTriangles(e)}setTriangles(e){let n=new Float32Array(9*e.length),o=new Float32Array(6*3*e.length);for(let r=0,t=e.length;r<t;r++){let A=9*r,a=18*r,c=e[r];c.a.toArray(n,A+0),c.b.toArray(n,A+3),c.c.toArray(n,A+6),c.a.toArray(o,a+0),c.b.toArray(o,a+3),c.b.toArray(o,a+6),c.c.toArray(o,a+9),c.c.toArray(o,a+12),c.a.toArray(o,a+15)}this._mesh.geometry.dispose(),this._mesh.geometry.setAttribute("position",new je(n,3)),this._lines.geometry.dispose(),this._lines.geometry.setAttribute("position",new je(o,3))}};var so=class extends xn{get color(){return this.material.color}constructor(e=[]){super(),this.frustumCulled=!1,this.setEdges(e)}setEdges(e){let{geometry:n}=this,o=e.flatMap(r=>[r.start,r.end]);n.dispose(),n.setFromPoints(o)}};var eg=new Pe,xl=class extends To{get color(){return this.material.color}constructor(e=1e3,n=[]){super(new vu(.025),new pt,e),this.frustumCulled=!1,this.setPoints(n)}setPoints(e){for(let n=0,o=e.length;n<o;n++){let r=e[n];eg.makeTranslation(r.x,r.y,r.z),this.setMatrixAt(n,eg)}this.count=e.length}};var Or=["a","b","c"],Ir=new We,ao=new We,Zn=new j,co=new j,tg=new j,rg=new j,As=new j,ss=new j,ng=new j,ig=new j,$n=new j,og=new j,Ag=new j,sg=new j,ag=new hr,cg=new hr,as=new j,Zt=new Br,Il=new Ze;function cs(i,e,n){let o=3*e,r=o+0,t=o+1,A=o+2,a=i.index,c=i.attributes.position;return a&&(r=a.getX(r),t=a.getX(t),A=a.getX(A)),n.a.fromBufferAttribute(c,r),n.b.fromBufferAttribute(c,t),n.c.fromBufferAttribute(c,A),n}function Ew(i,e,n,o,r){let t=(e+1)%3,A=i[Or[e]],a=i[Or[t]],c=(o+1)%3,l=n[Or[o]],u=n[Or[c]];HA(A,a,Zt);let h=$n.subVectors(A,Zt.origin).dot(Zt.direction),f=$n.subVectors(a,Zt.origin).dot(Zt.direction);h>f&&([h,f]=[f,h]);let p=$n.subVectors(l,Zt.origin).dot(Zt.direction),g=$n.subVectors(u,Zt.origin).dot(Zt.direction);p>g&&([p,g]=[g,p]);let w=Math.max(h,p),y=Math.min(f,g);Zt.at(w,r.start),Zt.at(y,r.end)}var Cl=class extends so{constructor(e=null,n=null){super(),this.straightEdges=!1,this.displayDisconnectedEdges=!1,e&&n&&this.setHalfEdges(e,n)}setHalfEdges(e,n){let{straightEdges:o,displayDisconnectedEdges:r}=this,t=[],A=e.drawRange.start,a=lr(e);if(e.drawRange.count!==1/0&&(a=~~(e.drawRange.count/3)),r)if(n.unmatchedDisjointEdges)n.unmatchedDisjointEdges.forEach(({forward:l,reverse:u,ray:h})=>{[...l,...u].forEach(({start:f,end:p})=>{let g=new Ze;h.at(f,g.start),h.at(p,g.end),t.push(g)})});else for(let l=A;l<a;l++){cs(e,l,Ir);for(let u=0;u<3;u++)if(n.getSiblingTriangleIndex(l,u)===-1){let f=(u+1)%3,p=Ir[Or[u]],g=Ir[Or[f]],w=new Ze;w.start.copy(p),w.end.copy(g),t.push(w)}}else for(let l=A;l<a;l++){cs(e,l,Ir);for(let u=0;u<3;u++){let h=n.getSiblingTriangleIndex(l,u);if(h===-1)continue;cs(e,h,ao);let f=(u+1)%3,p=Ir[Or[u]],g=Ir[Or[f]];as.lerpVectors(p,g,.5),c(Ir,ao,as)}if(n.disjointConnections)for(let u=0;u<3;u++){let h=n.getDisjointSiblingTriangleIndices(l,u),f=n.getDisjointSiblingEdgeIndices(l,u);for(let p=0;p<h.length;p++){let g=h[p],w=f[p];cs(e,g,ao),Ew(Ir,u,ao,w,Il),as.lerpVectors(Il.start,Il.end,.5),c(Ir,ao,as)}}}super.setEdges(t);function c(l,u,h){l.getMidpoint(Zn),u.getMidpoint(co),l.getPlane(ag),u.getPlane(cg);let f=new Ze;f.start.copy(Zn),o?(ag.projectPoint(co,tg),cg.projectPoint(Zn,rg),As.subVectors(tg,Zn),ss.subVectors(rg,co),ng.subVectors(h,Zn),ig.subVectors(h,co),As.dot(ng)<0&&As.multiplyScalar(-1),ss.dot(ig)<0&&ss.multiplyScalar(-1),$n.addVectors(Zn,As),og.addVectors(co,ss),l.closestPointToPoint($n,Ag),u.closestPointToPoint(og,sg),f.end.lerpVectors(Ag,sg,.5)):f.end.copy(h),t.push(f)}}};var ur=new We,lg=new j,ug=new j;function bw(i){let e,n;i.isBufferGeometry?(e=i,n=null):(e=i.geometry,n=Math.abs(i.matrixWorld.determinant()-1)<1e-15?null:i.matrixWorld);let o=e.index,r=e.attributes.position,t=e.drawRange,A=Math.min(lr(e),t.count/3);ur.setFromAttributeAndIndices(r,0,1,2),fg(ur,n),ur.getNormal(lg),ur.getMidpoint(ug).add(lg);let a=0,c=t.start/3;for(let l=c,u=c+A;l<u;l++){let h=3*l+0,f=3*l+1,p=3*l+2;o&&(h=o.getX(h),f=o.getX(f),p=o.getX(p)),ur.setFromAttributeAndIndices(r,h,f,p),fg(ur,n),Tw(ur,ug),a+=Bw(ur.a,ur.b,ur.c)}return Math.abs(a)}function Bw(i,e,n){let o=n.x*e.y*i.z,r=e.x*n.y*i.z,t=n.x*i.y*e.z,A=i.x*n.y*e.z,a=e.x*i.y*n.z,c=i.x*e.y*n.z;return 1/6*(-o+r+t-A-a+c)}function Tw(i,e){i.a.sub(e),i.b.sub(e),i.c.sub(e)}function fg(i,e=null){e!==null&&(i.a.applyMatrix4(e),i.b.applyMatrix4(e),i.c.applyMatrix4(e))}var hg=class extends fu{constructor(){super();let e=new kt;e.deleteAttribute("uv");let n=new Mt({side:Eo}),o=new Mt,r=new xi(16777215,900,28,2);r.position.set(.418,16.199,.3),this.add(r);let t=new _e(e,n);t.position.set(-.757,13.219,.717),t.scale.set(31.713,28.305,28.591),this.add(t);let A=new _e(e,o);A.position.set(-10.906,2.009,1.846),A.rotation.set(0,-.195,0),A.scale.set(2.328,7.905,4.651),this.add(A);let a=new _e(e,o);a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),this.add(a);let c=new _e(e,o);c.position.set(6.167,.857,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),this.add(c);let l=new _e(e,o);l.position.set(-2.017,.018,6.124),l.rotation.set(0,.333,0),l.scale.set(2.002,4.566,2.064),this.add(l);let u=new _e(e,o);u.position.set(2.291,-.756,-2.621),u.rotation.set(0,-.286,0),u.scale.set(1.546,1.552,1.496),this.add(u);let h=new _e(e,o);h.position.set(-2.193,-.369,-5.547),h.rotation.set(0,.516,0),h.scale.set(3.875,3.487,2.986),this.add(h);let f=new _e(e,ei(50));f.position.set(-16.116,14.37,8.208),f.scale.set(.1,2.428,2.739),this.add(f);let p=new _e(e,ei(50));p.position.set(-16.109,18.021,-8.207),p.scale.set(.1,2.425,2.751),this.add(p);let g=new _e(e,ei(17));g.position.set(14.904,12.198,-1.832),g.scale.set(.15,4.265,6.331),this.add(g);let w=new _e(e,ei(43));w.position.set(-.462,8.89,14.52),w.scale.set(4.38,5.441,.088),this.add(w);let y=new _e(e,ei(20));y.position.set(3.235,11.486,-12.541),y.scale.set(2.5,2,.1),this.add(y);let C=new _e(e,ei(100));C.position.set(0,20,0),C.scale.set(1,.1,1),this.add(C)}dispose(){let e=new Set;this.traverse(n=>{n.isMesh&&(e.add(n.geometry),e.add(n.material))});for(let n of e)n.dispose()}};function ei(i){let e=new pt;return e.color.setScalar(i),e}window.CSG=El;function pg(){lt.prototype.computeBoundsTree=vd,lt.prototype.disposeBoundsTree=wd,_e.prototype.raycast=yd}window.initbvh=pg;function Sw(){pg();let i=new Kt(new kt),e=new Kt(new yu(.5,2,4,10));return new Ao().evaluate(i,e,1)}window.joink=Sw;window.BufferGeometryUtils=js;window.troika=Qa;function Dw(i){return WorldGen({generator:"cave",seed:i})}window.cavegen=Dw;function Mw(){let i=new World({worldgen:WorldGen({generator:"terrain",seed:2}),renderRadius:2,chunkSize:32,chunkMaterial:new Mt({side:At,transparent:!0,opacity:.5,color:13421755})});i.castShadow=!0,i.receiveShadow=!0;let e={r:180,g:150,b:110};return i.ball=(n,o,r,t,A)=>{A=A===void 0?255:A,i.updateVolume(gr(n,o,r),t,A,e),i.updateChunks(gr(n,o,r)),console.warn("ball",n,o,r,t)},i.up=(n,o,r)=>{console.warn("up",n,o,r),i.updateChunks(gr(n,o,r))},i.up(0,0,0),i}window.softxel=Mw;function Rw(){let i=new Mt({side:At,envMapIntensity:1,vertexColors:!0,metalness:.1,roughness:.8});i.defines={USE_OUTPUT_NORMAL:1,USE_OUTPUT_POSITION:1};let e=new Mt({envMapIntensity:.5,vertexColors:!0,visible:!1});e.defines={USE_INSTANCED_POSITION:1,USE_OUTPUT_NORMAL:1,USE_OUTPUT_POSITION:1};let n={triangles:i,voxels:e},o=new $o({history:!1,materials:n}),r=()=>Math.floor(Math.random()*155);return o.castShadow=!0,o.receiveShadow=!0,o.ball=(t,A,a,c,l,u)=>{t=Math.floor(t),A=Math.floor(A),a=Math.floor(a),c=Math.floor(c),l=l||[170,150,150],u=u=="undefined"?1:u;let h=[];for(let f=t-c;f<t+c;f++)for(let p=A-c;p<A+c;p++)for(let g=a-c;g<a+c;g++){let w=t-f,y=A-p,C=a-g;Math.sqrt(w*w+y*y+C*C)<c&&h.push({x:f,y:p,z:g,r:l[0],g:l[1],b:l[2],value:u})}o.update(h)},o}window.sculpty=Rw;function _w(i,e,n,o,r){return i.ball(Math.floor(e*100),Math.floor(n*100),Math.floor(o*100),r,[180,170,170],1)}window.sball=_w;function Bl(i){let e=document.createElement("div"),n=new ko(e);return e.style.width="1000px",e.style.minWidth="1000px",e.style.height="800px",e.style.background="rgba(0,0,0,0.2)",e.style.position="absolute",e.style.backfaceVisibility="hidden",e.style.webkitBackfaceVisibility="hidden",e.style.pointerEvents="none",e.style.transformStyle="preserve-3d",n}window.css3dobj=Bl;function Fw(i,e,n){e=e||1e3,n=n||800;let o=Bl(),r=new _e(new kt(e,n,20),new Mt({color:16777215,side:At,blending:Ds}));return r.geometry.translate(0,0,-20),r.castShadow=!0,r.sync=()=>{console.warn("box.sync"),o.position.copy(r.position),o.rotation.copy(r.rotation),o.scale.copy(r.scale)},r.ontransformchanged=t=>r.sync(),r.ondatachanged=async t=>{console.warn("box.ondatachanged");let A=t.data,a=A.html,c=A.url;a?o.element.innerHTML=a:c&&(o.element.innerHTML=await fetch(c))},r.focus=t=>{o.element.style.pointerEvents=t?"all":"none"},r.twin=o,r}window.css3dbox=Fw;function Pw(){let i=Bl(),e=new _e(new vn(1e3,800),new pt({color:16711680,side:At,blending:Ds}));return e.geometry.translate(0,0,-.01),e.sync=()=>{console.warn("plane.sync"),i.position.copy(e.position),i.rotation.copy(e.rotation),i.scale.copy(e.scale)},e.ondatachanged=n=>{let o=n.data,r=o.html;i.el.innerHTML=r},e.ontransformchanged=n=>e.sync(),e.twin=i,e}window.css3dplane=Pw;function kw(i,e,n){i=i||1,e=e||i,n=n||i;let o=new _e(new kt(i,e,n),new it({color:1381653,transparent:!0,opacity:1}));return o.castShadow=!0,o.receiveShadow=!0,o.tag="box - don't do this",o}window.box=kw;function Qw(i,e,n){let o="https://sublambda.github.io/",r=new Pt,t=o||"";return r.tag=e||i,r.contenthook=()=>{i.indexOf(".")>0||(i+=".glb"),bi(i,t+"stuff/",A=>{let a=A.scene;if(A.animations.length){let c=new Ii(a);A.animations.forEach(l=>c.clipAction(l).play()),window.app.mixers.push(c),c.timeScale=.8}r.add(a),a.traverse(c=>{if(c.receiveShadow=!0,c.castShadow=!0,c.frustumCulled=!1,c.geometry,c.material){let l=u=>{};Array.isArray(c.material)?c.material.map(l):l(c.material)}}),r.onload&&r.onload(),n&&n(r)})},r.contenthook(),r}window.sogltf=Qw;function Uw(){let i=Ia("https://sublambda.github.io/stuff/norm1.mp4");return i.vid.autoplay=!1,window._embedded||setTimeout(()=>{i.vid.play()},1e3),i.tag="vidbox",i}window.sovidbox=Uw;function Lw(){let i=()=>(Math.random()-.5)*2,e=new Raymarcher({conetracing:!0,resolution:.3,blending:.1,roughness:1,metalness:.8,envMapIntensity:.7,envMap:lim.envmap,layers:[Array.from({length:6},()=>{let n=new j(2,.5,-2),o=[shapes.box,shapes.capsule,shapes.sphere][Math.floor(Math.random()*3)];o=shapes.box;let r=()=>Math.random(),t=()=>Math.random()*1,A=r()*.5;return{color:new qe(A-0,A,A),operation:operations.union,position:new j(t(),t(),t()).add(n),rotation:new _t().setFromAxisAngle(new j(r()*20,r()*20,r()*20),r()*20),scale:new j(...(s=.5,[s,s,s])),shape:o}})]});return e.castShadow=!0,e.receiveShadow=!0,e.tag="rm",e}window.sorm=Lw;function Ow(){let i=new wu(4,1.8,100,10),e=new it({color:7829360}),n=new _e(i,e);return n.castShadow=!0,n.tag="knot",n}window.soknot=Ow;function Nw(){let i=new kt(1,1,1),e=new it({color:6710886,transparent:!0,clearcoat:!0}),n=new _e(i,e);return n.castShadow=!0,n.receiveShadow=!0,n.tag="cbox",n}window.cbox=Nw;function Gw(){let i=new lt,e=[],n=[],o=200,r=3e4;for(let c=0;c<r;c++){let l=Math.random()*o-o/2,u=Math.random()*o/20,h=Math.random()*o-o/2,f=16,p=Math.random()*Math.PI*2,g=Math.random()*Math.PI*2,w=Math.random()*f;l=w*Math.sin(p)*Math.cos(g),u=.3*w*Math.sin(p)*Math.sin(g),h=w*Math.cos(p),e.push(l,u,h);let C=Math.random()*.8+.1;n.push(0,0,0)}i.setAttribute("position",new Gr(e,3)),i.setAttribute("color",new Gr(n,3)),i.computeBoundingSphere();let t=new wi().load("stuff/textures/disc.png"),A=new So({size:.05,map:t,vertexColors:!0,transparent:!0,toneMapped:!1,fog:!0,opacity:.5}),a=new Do(i,A);return a.renderOrder=2,a.castShadow=!0,a.tag="sopoints",a}window.sopoints=Gw;function zw(i,e){let n=new Sr;return n.text=e||`there is
nothing here`,n.font="./stuff/SpecialElite-Regular.ttf",n.fontSize=.2,n.position.y=.2,n.material.transparent=!0,n.castShadow=!0,n.fillOpacity=.2,n.outlineColor=0,n.outlineOpacity=.2,n.outlineWidth=.002,n.strokeColor=16777215,n.strokeColor=0,n.strokeWidth=.007,n.strokeOpacity=1,n.sync(),n}window.sotext=zw;function Hw(){let i=Tl();i.position.set(0,100,0),i.tag="sostatus";let e=()=>i.html("<body style='margin:0px;background:transparent'><pre style='margin:0px; padding:5px; font-size:28px;color:rgba(200,230,230,0.8);text-shadow: 1px 1px 4px black;background:rgba(0,0,0,0.2);height:512px;'>"+JSON.stringify({ts:Date.now(),render:app.renderer.info.render,mem:app.renderer.info.memory},null,2));return e(),setInterval(e,1e3),i}window.sostatus=Hw;function Tl(){let i=document.createElement("canvas"),e=i.getContext("2d");i.width=512,i.height=512;let n=new mu(i),o=new _e(new kt(1,1,.01),new Mt({color:16777215,map:n,opacity:1,transparent:!0}));return o.tex=n,o.canvas=i,o.castShadow=!0,o.receiveShadow=!0,o.html=r=>bl.default.drawHTML(r,i).then(t=>{e.clearRect(0,0,i.width,i.height),e.drawImage(t.image,0,0),o.tex.needsUpdate=!0}),o.url=r=>bl.default.drawURL(r,i).then(t=>o.tex.needsUpdate=!0),o.html("<h1>...</h1>"),o}window.xtmlbox=Tl;window.htmlbox=Tl;function Vw(i){let e=new Ls([new j(0,10,-10),new j(10,0,-10),new j(20,0,0),new j(30,0,10),new j(30,0,20),new j(20,0,30),new j(10,0,30),new j(0,0,30),new j(-10,10,30),new j(-10,20,30),new j(0,30,30),new j(10,30,30),new j(20,30,15),new j(10,30,10),new j(0,30,10),new j(-10,20,10),new j(-10,10,10),new j(0,0,10),new j(10,-10,10),new j(20,-15,10),new j(30,-15,10),new j(40,-15,10),new j(50,-15,10),new j(60,0,10),new j(70,0,0),new j(80,0,0),new j(90,0,0),new j(400,0,0)],!1),n=new Mo(e,300,10,10,!1),o=new it({color:3359812,side:At,opacity:1,clearcoat:.2,transparent:!0}),r=new _e(n,o);return e.closed=!0,r.castShadow=!0,r.receiveShadow=!0,r}window.splinetube=Vw;function PB(i){let e=[],n=new Mo,o=new it({color:3359812,side:At,opacity:1,clearcoat:.5,transparent:!0}),r=new _e(n,o),t=()=>{let A=new Ls(e.map(a=>gr(...a)),!1);n=new Mo(A,r.lseg,2,r.rseg,!1),r.geometry.copy(n)};return r.lseg=100,r.rseg=10,r.pts=e,r.retube=t,r.addpt=(A,a,c)=>{e.push([A,a,c]),e.length>1&&t()},r.castShadow=!0,r.receiveShadow=!0,r}function jw(i,e,n,o,r,t,A){var a=new _e(new Os(e,n,o,r,t,A),new it({color:16777215,transparent:!0}));return a.castShadow=!0,a.receiveShadow=!0,a}window.cylinder=jw;export{gr as a,f1 as b,d1 as c,hg as d,Sr as e,Sp as f,Dw as g,Mw as h,Rw as i,_w as j,Bl as k,Fw as l,kw as m,Qw as n,Lw as o,Ow as p,Nw as q,Gw as r,zw as s,Vw as t,PB as u,jw as v};
/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/
/*! Bundled license information:

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

rasterizehtml/dist/rasterizeHTML.js:
  (*! rasterizeHTML.js - v1.3.1 - 2022-01-16
  * http://www.github.com/cburgmer/rasterizeHTML.js
  * Copyright (c) 2022 Christoph Burgmer; Licensed MIT *)

troika-three-text/dist/troika-three-text.esm.js:
  (*!
  Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
  Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
  *)
  (*!
  Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
  (https://github.com/101arrowz/fflate) for use in Troika text rendering. 
  Original licenses apply: 
  - fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
  - woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
  *)
  (*!
  Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
  for use in Troika text rendering. 
  Original MIT license applies
  *)
*/
