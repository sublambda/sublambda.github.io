import{$ as je,$a as Hs,A as iu,Aa as hu,B as Bo,Ba as pu,C as hi,Ca as Os,D as ou,Da as du,E as jt,Ea as Ns,F as Rt,Fa as wn,G as Au,Ga as gu,Ha as mu,I as dn,Ia as Ro,J as tt,K as pi,Ka as Mt,L as gn,La as it,M as mn,Ma as gi,N as Dt,Na as yu,Oa as vu,P as _t,Pa as wu,Q as j,Qa as _o,R as Je,Ra as ko,S as kt,Sa as Fo,T as Sr,Ta as Gs,U as Fe,Ua as mi,V as su,Va as jr,W as Ft,Wa as yi,X as We,Y as qe,Ya as zs,Z as To,Za as vi,_ as pt,_a as xu,a as Eo,aa as Hr,ba as lt,bb as Yr,ca as ke,cb as Po,da as Pt,db as Iu,ea as au,fb as Vs,g as ui,ga as Fs,gb as wi,h as bo,hb as Cu,i as At,ia as cu,j as Ds,ja as yn,ka as nr,kb as Ze,la as Ps,m as fi,ma as Qs,mb as Eu,n as Ms,na as lu,o as Xl,oa as Us,p as Rs,pa as Vr,q as Zl,qa as So,r as $l,ra as hr,s as zr,sa as uu,t as eu,ta as di,u as _s,ua as Ls,v as tu,va as vn,wa as fu,x as ru,xa as Do,y as nu,ya as Mo,z as ks,za as Qt}from"./chunk-IY3G7QRH.js";import{a as Tr,b as De,c as Ss,d as Jl}from"./chunk-FSRPMVAS.js";var Pu=De((Ho,Fu)=>{(function(i,e){typeof Ho=="object"&&typeof Fu<"u"?e(Ho):typeof define=="function"&&define.amd?define(["exports"],e):e((i=i||self).TWEEN={})})(Ho,function(i){"use strict";function e(d){var x=u.indexOf(d);-1<x&&u.splice(x,1),u.push(d),w=0,h&&!f&&(r=g(v),f=!0)}function n(d){for(var x=0;x<u.length;x++)if(d===u[x])return u[x];return null}function o(){return f}function t(){return C}var r,A=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this||(i!==void 0?i:{}),a=A.requestAnimationFrame||function(d){return A.setTimeout(d,50/3)},c=A.cancelAnimationFrame||function(d){return A.clearTimeout(d)},l=function(){if(typeof process>"u"||process.hrtime===void 0||process.versions&&process.versions.electron!==void 0){if(A.performance!==void 0&&A.performance.now!==void 0)return A.performance.now.bind(A.performance);var d=A.performance&&A.performance.timing&&A.performance.timing.navigationStart?A.performance.timing.navigationStart:Date.now();return function(){return Date.now()-d}}return function(){var x=process.hrtime();return 1e3*x[0]+x[1]/1e6}}(),u=[],f=!1,h=!1,p=[],g=a,w=0,y=120,C=!0,m=function(d){var x=u.indexOf(d);x!==-1&&u.splice(x,1),u.length===0&&(c(r),f=!1)},v=function d(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:l(),D=1<arguments.length?arguments[1]:void 0;if(y<=w&&C)return f=!1,w=0,c(r),!1;h&&f?r=g(d):function(){for(var V=0;V<p.length;V++)p[V]()}(),u.length||w++;for(var F=0,L=u.length;F<L;)u[F++].update(x,D),L>u.length&&F--,L=u.length;return!0},I={},E={Linear:{None:function(d){return d}},Quadratic:{In:function(d){return Math.pow(d,2)},Out:function(d){return d*(2-d)},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,2):-.5*(--d*(d-2)-1)}},Cubic:{In:function(d){return Math.pow(d,3)},Out:function(d){return--d*d*d+1},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,3):.5*((d-=2)*d*d+2)}},Quartic:{In:function(d){return Math.pow(d,4)},Out:function(d){return 1- --d*d*d*d},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,4):-.5*((d-=2)*d*d*d-2)}},Quintic:{In:function(d){return Math.pow(d,5)},Out:function(d){return--d*d*d*d*d+1},InOut:function(d){return(d*=2)<1?.5*Math.pow(d,5):.5*((d-=2)*d*d*d*d+2)}},Sinusoidal:{In:function(d){return 1-Math.cos(d*Math.PI/2)},Out:function(d){return Math.sin(d*Math.PI/2)},InOut:function(d){return .5*(1-Math.cos(Math.PI*d))}},Exponential:{In:function(d){return d===0?0:Math.pow(1024,d-1)},Out:function(d){return d===1?1:1-Math.pow(2,-10*d)},InOut:function(d){return d===0?0:d===1?1:(d*=2)<1?.5*Math.pow(1024,d-1):.5*(2-Math.pow(2,-10*(d-1)))}},Circular:{In:function(d){return 1-Math.sqrt(1-d*d)},Out:function(d){return Math.sqrt(1- --d*d)},InOut:function(d){return(d*=2)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)}},Elastic:{In:function(d){return d===0?0:d===1?1:-Math.pow(2,10*(d-1))*Math.sin(5*(d-1.1)*Math.PI)},Out:function(d){return d===0?0:d===1?1:Math.pow(2,-10*d)*Math.sin(5*(d-.1)*Math.PI)+1},InOut:function(d){return d===0?0:d===1?1:(d*=2)<1?-.5*Math.pow(2,10*(d-1))*Math.sin(5*(d-1.1)*Math.PI):.5*Math.pow(2,-10*(d-1))*Math.sin(5*(d-1.1)*Math.PI)+1}},Back:{In:function(d){return d*d*(2.70158*d-1.70158)},Out:function(d){return--d*d*(2.70158*d+1.70158)+1},InOut:function(d){var x=2.5949095;return(d*=2)<1?d*d*((1+x)*d-x)*.5:.5*((d-=2)*d*((1+x)*d+x)+2)}},Bounce:{In:function(d){return 1-E.Bounce.Out(1-d)},Out:function(d){var x=2.75,D=7.5625;return d<1/x?D*d*d:d<2/x?D*(d-=1.5/x)*d+.75:d<2.5/x?D*(d-=2.25/x)*d+.9375:D*(d-=2.625/x)*d+.984375},InOut:function(d){return d<.5?.5*E.Bounce.In(2*d):.5*E.Bounce.Out(2*d-1)+.5}},Stepped:{steps:function(d){return function(x){return(x*d|0)/d}}}};function B(d){return(B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(d)}function b(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")}function T(d,x){for(var D=0;D<x.length;D++){var F=x[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(d,F.key,F)}}function S(d,x,D){return x&&T(d.prototype,x),D&&T(d,D),d}function R(d,x){var D=Object.keys(d);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(d);x&&(F=F.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),D.push.apply(D,F)}return D}function Q(d){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?R(Object(D),!0).forEach(function(F){var L,V,$;L=d,$=D[V=F],V in L?Object.defineProperty(L,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):L[V]=$}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(D)):R(Object(D)).forEach(function(F){Object.defineProperty(d,F,Object.getOwnPropertyDescriptor(D,F))})}return d}function M(d){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(d)}function k(d,x){return(k=Object.setPrototypeOf||function(D,F){return D.__proto__=F,D})(d,x)}function P(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function H(d,x){return!x||typeof x!="object"&&typeof x!="function"?P(d):x}function U(d,x){return function(D){if(Array.isArray(D))return D}(d)||function(D,F){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]"){var L=[],V=!0,$=!1,X=void 0;try{for(var J,ce=D[Symbol.iterator]();!(V=(J=ce.next()).done)&&(L.push(J.value),!F||L.length!==F);V=!0);}catch(oe){$=!0,X=oe}finally{try{V||ce.return==null||ce.return()}finally{if($)throw X}}return L}}(d,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var K=50/3,q="_chainedTweens",O="Callback",G="update",_="complete",N="start",z="repeat",Y="reverse",W="restart",ee="STRING_PROP",te=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function re(d){if(d&&d.nodeType||d===void 0||B(d)!=="object")return d;if(Array.isArray(d))return[].concat(d);if(B(d)!=="object")return d;var x={};for(var D in d)x[D]=re(d[D]);return x}var se=function(d){return isNaN(+d)||(d[0]==="+"||d[0]==="-")&&d[1]==="="||d===""||d===" "},le=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,Ae=function(d,x){var D,F,L;x.length===3&&(x=(D=x[0])+D+(F=x[1])+F+(L=x[2])+L);var V=parseInt(x,16);return"rgb("+(D=V>>16&255)+", "+(F=V>>8&255)+", "+(L=255&V)+")"};function ne(d){if(d&&d.splice&&d.isString||typeof d!="string"||d.charAt(1)==="=")return d;var x=d.replace(le,Ae).match(te).map(function(D){return se(D)?D:+D});return x.isString=!0,x}function Ee(d,x,D,F){var L=D[d],V=F[d];if(L===V)return!0;if(Array.isArray(L)&&Array.isArray(V)&&L.length===V.length)for(var $=0,X=V.length;$<X;$++){var J=L[$],ce=V[$];J===ce||typeof J=="number"&&typeof ce=="number"||Ee($,x[d],L,V)}if(!(typeof L=="number"&&typeof V=="number"||L&&L.splice&&L.isString&&V&&V.splice&&V.isString)){if(typeof L=="string"&&Array.isArray(V)){var oe=ne(L),ue=V.map(ne);return D[d]=oe,F[d]=ue,!0}if(typeof L=="string"||typeof V=="string"){var me=Array.isArray(L)&&L[0]===ee?L:ne(L),xe=Array.isArray(V)&&V[0]===ee?V:ne(V);if(me===void 0)return;for(var he=1;he<me.length;)me[he]===xe[he]&&typeof me[he-1]=="string"?(me.splice(he-1,2,me[he-1]+me[he]),xe.splice(he-1,2,xe[he-1]+xe[he])):he++;return me[he=0]===ee&&me.shift(),xe[0]===ee&&xe.shift(),D[d]=me,F[d]=xe,!0}if(B(L)==="object"&&B(V)==="object"){if(Array.isArray(L)&&!L.isString)return L.map(function(Ye,Oe){return Ee(Oe,x[d],L,V)});for(var Re in V)Ee(Re,x[d],L,V);return!0}}return!1}var Te="rgba(",de=function(d,x,D){var F=2<arguments.length&&D!==void 0?D:"rgb(";return typeof d[x]=="number"&&(d[x-1]===F||d[x-3]===F||d[x-5]===F)};function ye(d,x,D,F,L,V,$){var X=$?D:D[d],J=$?F:F[d];if(J===void 0)return X;if(X===void 0||typeof X=="string"||X===J)return J;if(B(X)==="object"&&B(J)==="object"){if(!X||!J)return x[d];if(B(X)==="object"&&X&&X.isString&&J&&J.splice&&J.isString){for(var ce="",oe=0,ue=X.length;oe<ue;oe++)if(X[oe]!==J[oe]||typeof X[oe]!="number"||typeof J[oe]=="number"){var me=typeof X[oe]=="number"&&typeof J[oe]=="string"&&J[oe][1]==="=",xe=typeof X[oe]!="number"?X[oe]:me?X[oe]+parseFloat(J[oe][0]+J[oe].substr(2))*L:X[oe]+(J[oe]-X[oe])*L;(de(X,oe)||de(X,oe,Te))&&(xe|=0),ce+=xe,me&&V===1&&(X[oe]=X[oe]+parseFloat(J[oe][0]+J[oe].substr(2)))}else ce+=X[oe];return $||(x[d]=ce),ce}if(Array.isArray(X)&&X[0]!==ee)for(var he=0,Re=X.length;he<Re;he++)X[he]!==J[he]&&typeof x[d]!="string"&&ye(he,x[d],X,J,L,V);else if(B(X)==="object"&&X&&!X.isString)for(var Ye in X)X[Ye]!==J[Ye]&&ye(Ye,x[d],X,J,L,V)}else if(typeof X=="number"){var Oe=typeof J=="string";x[d]=Oe?X+parseFloat(J[0]+J.substr(2))*L:X+(J-X)*L,Oe&&V===1&&(D[d]=x[d])}else typeof J=="function"&&(x[d]=J(L));return x[d]}function Be(d,x){var D=d[x],F=x.replace(ie,"").split(we),L=F.length-1,V=Array.isArray(d),$=B(d)==="object"&&!V;return $?(d[x]=null,delete d[x]):V&&d.splice(x,1),F.reduce(function(X,J,ce){V&&J!=="."&&J!=="["&&(J*=1);var oe=F[ce+1]==="[";if(J==="."||J==="[")return J==="."?V=!($=!0):J==="["&&(V=!($=!1)),X;if(X[J]===void 0){if(V||$)return X[J]=ce===L?D:V||oe?[]:$?{}:null,$=V=!1,X[J]}else if(X[J]!==void 0)return ce===L&&(X[J]=D),X[J];return X},d)}function ae(d){if(B(d)==="object"&&d){for(var x in d)if(x.indexOf(".")!==-1||x.indexOf("[")!==-1)Be(d,x);else if(B(d[x])==="object"&&d[x]){var D=d[x];for(var F in D)if(F.indexOf(".")!==-1||F.indexOf("[")!==-1)Be(D,F);else if(B(D[F])==="object"&&D[F]){var L=D[F];for(var V in L)V.indexOf(".")===-1&&V.indexOf("[")===-1||Be(L,V)}}}return d}var pe,we=/([.[])/g,ie=/\]/g,_e=Object.freeze({__proto__:null,FRAME_MS:K,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:q,EVENT_CALLBACK:O,EVENT_UPDATE:G,EVENT_COMPLETE:_,EVENT_START:N,EVENT_REPEAT:z,EVENT_REVERSE:Y,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:W,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:ee,NUM_REGEX:te,deepCopy:re,decomposeString:ne,decompose:Ee,RGB:"rgb(",RGBA:Te,isRGBColor:de,recompose:ye,SET_NESTED:ae}),fe={Linear:function(d,x,D){var F=d.length-1,L=F*x,V=Math.floor(L),$=fe.Utils.Linear;return x<0?$(d[0],d[1],L,D):1<x?$(d[F],d[F-1],F-L,D):$(d[V],d[F<V+1?F:V+1],L-V,D)},Bezier:function(d,x,D){for(var F=fe.Utils.Reset(D),L=d.length-1,V=Math.pow,$=fe.Utils.Bernstein,X=Array.isArray(F),J=0;J<=L;J++)if(typeof F=="number")F+=V(1-x,L-J)*V(x,J)*d[J]*$(L,J);else if(X)for(var ce=0,oe=F.length;ce<oe;ce++)typeof F[ce]=="number"?F[ce]+=V(1-x,L-J)*V(x,J)*d[J][ce]*$(L,J):F[ce]=d[J][ce];else if(B(F)==="object")for(var ue in F)typeof F[ue]=="number"?F[ue]+=V(1-x,L-J)*V(x,J)*d[J][ue]*$(L,J):F[ue]=d[J][ue];else if(typeof F=="string"){for(var me="",xe=d[Math.round(L*x)],he=1,Re=xe.length;he<Re;he++)me+=xe[he];return me}return F},CatmullRom:function(d,x,D){var F=d.length-1,L=F*x,V=Math.floor(L),$=fe.Utils.CatmullRom;return d[0]===d[F]?(x<0&&(V=Math.floor(L=F*(1+x))),$(d[(V-1+F)%F],d[V],d[(V+1)%F],d[(V+2)%F],L-V,D)):x<0?$(d[1],d[1],d[0],d[0],-x,D):1<x?$(d[F-1],d[F-1],d[F],d[F],(0|x)-x,D):$(d[V?V-1:0],d[V],d[F<V+1?F:V+1],d[F<V+2?F:V+2],L-V,D)},Utils:{Linear:function(d,x,D,F){if(d===x||typeof d=="string"){if(x.length&&x.splice&&x.isString){x="";for(var L=0,V=d.length;L<V;L++)x+=d[L]}return x}if(typeof d=="number")return typeof d=="function"?d(D):d+(x-d)*D;if(B(d)==="object"){if(d.length!==void 0){var $=typeof d[0]=="string"||d.isString;if($||d[0]===ee){for(var X="",J=$?0:1,ce=d.length;J<ce;J++){var oe=D===0?d[J]:D!==1&&typeof d[J]=="number"?d[J]+(x[J]-d[J])*D:x[J];(0<D&&D<1&&de(d,J)||de(d,J,Te))&&(oe|=0),X+=oe}return X}if(F&&F.length&&F.splice)for(var ue=0,me=F.length;ue<me;ue++)F[ue]=fe.Utils.Linear(d[ue],x[ue],D,F[ue])}else for(var xe in F)F[xe]=fe.Utils.Linear(d[xe],x[xe],D,F[xe]);return F}},Reset:function(d){if(Array.isArray(d)){for(var x=0,D=d.length;x<D;x++)d[x]=fe.Utils.Reset(d[x]);return d}if(B(d)!=="object")return typeof d=="number"?0:d;for(var F in d)d[F]=fe.Utils.Reset(d[F]);return d},Bernstein:function(d,x){var D=fe.Utils.Factorial;return D(d)/D(x)/D(d-x)},Factorial:(pe=[1],function(d){var x=1;if(pe[d])return pe[d];for(var D=d;1<D;D--)x*=D;return pe[d]=x}),CatmullRom:function(d,x,D,F,L,V){if(typeof d=="string")return x;if(typeof d=="number"){var $=.5*(D-d),X=.5*(F-x),J=L*L;return(2*x-2*D+$+X)*(L*J)+(-3*x+3*D-2*$-X)*J+$*L+x}if(B(d)==="object"){if(d.length!==void 0){if(d[0]===ee){for(var ce="",oe=1,ue=d.length;oe<ue;oe++){var me=typeof d[oe]=="number"?fe.Utils.CatmullRom(d[oe],x[oe],D[oe],F[oe],L):F[oe];(de(d,oe)||de(d,oe,Te))&&(me|=0),ce+=me}return ce}for(var xe=0,he=V.length;xe<he;xe++)V[xe]=fe.Utils.CatmullRom(d[xe],x[xe],D[xe],F[xe],L,V[xe])}else for(var Re in V)V[Re]=fe.Utils.CatmullRom(d[Re],x[Re],D[Re],F[Re],L,V[Re]);return V}}}},ve={};function ge(d,x,D){if(!d||!d.nodeType)return x;var F=d.queueID||"q_"+Date.now();d.queueID||(d.queueID=F);var L=ve[F];if(L){if(L.object===x&&d===L.tween.node&&D._startTime===L.tween._startTime)m(L.tween);else if(B(x)==="object"&&x&&L.object){for(var V in x)V in L.object&&(D._startTime===L.tween._startTime?delete L.object[V]:L.propNormaliseRequired=!0);Object.assign(L.object,x)}return L.object}return B(x)==="object"&&x?(ve[F]={tween:D,object:x,propNormaliseRequired:!1},ve[F].object):x}function Pe(d,x,D){return x?d?typeof window<"u"&&d===window||typeof document<"u"&&d===document?[d]:typeof d=="string"?!!document.querySelectorAll&&document.querySelectorAll(d):Array.isArray(d)?d:d.nodeType?[d]:D?d:[]:null:d?typeof window<"u"&&d===window||typeof document<"u"&&d===document?d:typeof d=="string"?!!document.querySelector&&document.querySelector(d):Array.isArray(d)?d[0]:d.nodeType||D?d:null:null}var Ie=0,Ce=E.Linear.None,be=function(){function d(x,D){return b(this,d),this.id=Ie++,!x||B(x)!=="object"||D||x.nodeType?x&&(x.nodeType||x.length||typeof x=="string")&&(x=this.node=Pe(x),D=this.object=ge(x,D,this)):(D=this.object=x,x=null),this._valuesEnd=null,this._valuesStart=Array.isArray(D)?[]:{},this._duration=1e3,this._easingFunction=Ce,this._easingReverse=Ce,this._interpolationFunction=fe.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return S(d,null,[{key:"fromTo",value:function(x,D,F,L){var V=3<arguments.length&&L!==void 0?L:{};V.quickRender=V.quickRender?V.quickRender:!F;var $=new d(x,D).to(F,V);return V.quickRender&&($.render().update($._startTime),$._rendered=!1,$._onStartCallbackFired=!1),$}},{key:"to",value:function(x,D,F){return d.fromTo(x,null,D,F)}},{key:"from",value:function(x,D,F){return d.fromTo(x,D,null,F)}}]),S(d,[{key:"setMaxListener",value:function(x){var D=0<arguments.length&&x!==void 0?x:15;return this._maxListener=D,this}},{key:"on",value:function(x,D){for(var F=this._maxListener,L=x+O,V=0;V<F;V++){var $=L+V;if(!this[$]){this[$]=D;break}}return this}},{key:"once",value:function(x,D){for(var F=this,L=this._maxListener,V=x+O,$=function(J){var ce=V+J;if(!F[ce])return F[ce]=function(){for(var oe=arguments.length,ue=new Array(oe),me=0;me<oe;me++)ue[me]=arguments[me];D.apply(F,ue),F[ce]=null},"break"},X=0;X<L&&$(X)!=="break";X++);return this}},{key:"off",value:function(x,D){for(var F=this._maxListener,L=x+O,V=0;V<F;V++){var $=L+V;this[$]===D&&(this[$]=null)}return this}},{key:"emit",value:function(x,D,F,L){var V=this._maxListener,$=x+O;if(!this[$+0])return this;for(var X=0;X<V;X++){var J=$+X;this[J]&&this[J](D,F,L)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(x){var D=this._reversed;return this._reversed=x!==void 0?x:!D,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,m(this),this._pausedTime=l(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=l()-this._pausedTime,this._initTime=this._startTime,e(this),this._pausedTime=l(),this.emit("play",this.object))}},{key:"restart",value:function(){return this._repeat=this._r,this.reassignValues(),e(this),this.emit(W,this.object)}},{key:"seek",value:function(x,D){var F=this._duration,L=this._initTime,V=this._startTime,$=this._reversed,X=L+x;return this._isPlaying=!0,X<V&&L<=V&&(this._startTime-=F,this._reversed=!$),this.update(x,!1),this.emit("seek",x,this.object),D?this:this.pause()}},{key:"duration",value:function(x){return this._duration=typeof x=="function"?x(this._duration):x,this}},{key:"to",value:function(x,D){var F=1<arguments.length&&D!==void 0?D:1e3;if(this._valuesEnd=x,typeof F=="number"||typeof F=="function")this._duration=typeof F=="function"?F(this._duration):F;else if(B(F)==="object"){for(var L in F)if(typeof this[L]=="function"){var V=U(Array.isArray(F[L])?F[L]:[F[L]],4),$=V[0],X=$===void 0?null:$,J=V[1],ce=J===void 0?null:J,oe=V[2],ue=oe===void 0?null:oe,me=V[3],xe=me===void 0?null:me;this[L](X,ce,ue,xe)}}return this}},{key:"render",value:function(){if(this._rendered)return this;var x=this._valuesStart,D=this._valuesEnd,F=this.object,L=this.node,V=this.InitialValues;if(ae(F),ae(D),L&&L.queueID&&ve[L.queueID]){var $=ve[L.queueID];if($.propNormaliseRequired&&$.tween!==this){for(var X in D)$.tween._valuesEnd[X];$.normalisedProp=!0,$.propNormaliseRequired=!1}}if(L&&V&&(F&&Object.keys(F).length!==0?D&&Object.keys(D).length!==0||(D=this._valuesEnd=V(L,F)):F=this.object=ge(L,V(L,D),this)),!x.processed){for(var J in D){var ce=F&&F[J]&&re(F[J]),oe=D[J];if(!(I[J]&&I[J].init&&(I[J].init.call(this,ce,oe,J,F),ce===void 0&&x[J]&&(ce=x[J]),I[J].skipProcess))&&!(typeof ce=="number"&&isNaN(ce)||ce===null||oe===null||ce===!1||oe===!1||ce===void 0||oe===void 0||ce===oe)){if(x[J]=ce,Array.isArray(oe))if(Array.isArray(ce))oe.isString&&F[J].isString&&!ce.isString?ce.isString=!0:Ee(J,F,x,D);else{oe.unshift(ce);for(var ue=0,me=oe.length;ue<me;ue++)typeof oe[ue]=="string"&&(oe[ue]=ne(oe[ue]))}else Ee(J,F,x,D);typeof ce!="number"||typeof oe!="string"||oe[1]}}x.processed=!0}return d.Renderer&&this.node&&d.Renderer.init&&(d.Renderer.init.call(this,F,x,D),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(x){return this._startTime=x!==void 0?typeof x=="string"?l()+parseFloat(x):x:l(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,e(this),this}},{key:"stop",value:function(){var x=this._isPlaying,D=this._isFinite,F=this.object,L=this._startTime,V=this._duration,$=this._r,X=this._yoyo,J=this._reversed;if(!x)return this;var ce=D?($+1)%2==1:!J;return this._reversed=!1,X&&ce?this.update(L):this.update(L+V),m(this),this.emit("stop",F)}},{key:"delay",value:function(x){return this._delayTime=typeof x=="function"?x(this._delayTime):x,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var x=0,D=this._chainedTweensCount;x<D;x++)this[q+x]=arguments[x];return this}},{key:"repeat",value:function(x){return this._repeat=this._duration?typeof x=="function"?x(this._repeat):x:0,this._r=this._repeat,this._isFinite=isFinite(x),this}},{key:"reverseDelay",value:function(x){return this._reverseDelayTime=typeof x=="function"?x(this._reverseDelayTime):x,this}},{key:"yoyo",value:function(x,D){return this._yoyo=typeof x=="function"?x(this._yoyo):x===null?this._yoyo:x,x||(this._reversed=!1),this._easingReverse=D||null,this}},{key:"easing",value:function(x){return this._easingFunction=x,this}},{key:"interpolation",value:function(x){return typeof x=="function"&&(this._interpolationFunction=x),this}},{key:"reassignValues",value:function(x){var D=this._valuesStart,F=this.object,L=this._delayTime;for(var V in this._isPlaying=!0,this._startTime=x!==void 0?x:l(),this._startTime+=L,this._reversed=!1,e(this),D){var $=D[V];F[V]=$}return this}},{key:"update",value:function(x,D,F){var L,V,$,X=this._onStartCallbackFired,J=this._easingFunction,ce=this._interpolationFunction,oe=this._easingReverse,ue=this._repeat,me=this._delayTime,xe=this._reverseDelayTime,he=this._yoyo,Re=this._reversed,Ye=this._startTime,Oe=this._prevTime,Ve=this._duration,mt=this._valuesStart,Ct=this._valuesEnd,Ke=this.object,$t=this._isFinite,fr=this._isPlaying,Gt=this.__render,ct=this._chainedTweensCount,er=0;if(Ve){var $n=(x=x!==void 0?x:l())-Oe;if(this._prevTime=x,250<$n&&o()&&t()&&(x-=$n-K),!fr||x<Ye&&!F)return!0;L=1<(L=(x-Ye)/Ve)?1:L,L=Re?1-L:L}else L=1,ue=0;if(X||(this._rendered||(this.render(),this._rendered=!0),this.emit(N,Ke),this._onStartCallbackFired=!0),V=Re&&oe||J,!Ke)return!0;for($ in Ct){var zt=mt[$];if(zt!=null||I[$]&&I[$].update){var yt=Ct[$],tr=V[$]?V[$](L):(typeof V=="function"?V:Ce)(L),ln=ce[$]?ce[$]:typeof ce=="function"?ce:fe.Linear;typeof yt=="number"?Ke[$]=zt+(yt-zt)*tr:!Array.isArray(yt)||yt.isString||Array.isArray(zt)?yt&&yt.update?yt.update(tr):typeof yt=="function"?Ke[$]=yt(tr):typeof yt=="string"&&typeof zt=="number"?Ke[$]=zt+parseFloat(yt[0]+yt.substr(2))*tr:ye($,Ke,mt,Ct,tr,L):Ke[$]=ln(yt,tr,Ke[$]),I[$]&&I[$].update&&I[$].update.call(this,Ke[$],zt,yt,tr,L,$),er++}}if(!er)return m(this),!1;if(Gt&&d.Renderer&&d.Renderer.update&&d.Renderer.update.call(this,Ke,L),this.emit(G,Ke,L,x),L===1||Re&&L===0){if(0<ue&&0<Ve){if($t&&this._repeat--,he)this._reversed=!Re;else for($ in Ct){var Gr=Ct[$];typeof Gr=="string"&&typeof mt[$]=="number"&&(mt[$]+=parseFloat(Gr[0]+Gr.substr(2)))}return this.emit(he&&!Re?Y:z,Ke),this._startTime=Re&&xe?x-xe:x+me,!0}if(D||(this._isPlaying=!1,m(this),Ie--),this.emit(_,Ke),this._repeat=this._r,ct)for(var ei=0;ei<ct;ei++)this[q+ei].start(x+Ve);return!1}return!0}}]),d}(),Me=function(){function d(){b(this,d),this.totalTime=0,this.labels=[],this.offsets=[]}return S(d,[{key:"parseLabel",value:function(x,D){var F=this.offsets,L=this.labels,V=L.indexOf(x);if(typeof x=="string"&&x.indexOf("=")!==-1&&!D&&V===-1){var $=x.substr(x.indexOf("=")-1,2),X=x.split($);D=X.length===2?$+X[1]:null,x=X[0],V=L.indexOf(x)}if(V!==-1&&x){var J=F[V]||0;if(typeof D=="number")J=D;else if(typeof D=="string"&&D.indexOf("=")!==-1){var ce=D.charAt(0);D=Number(D.substr(2)),ce==="+"||ce==="-"?J+=parseFloat(ce+D):ce==="*"?J*=D:ce==="/"?J/=D:ce==="%"&&(J*=D/100)}return J}return typeof D=="number"?D:0}},{key:"addLabel",value:function(x,D){return this.labels.push(x),this.offsets.push(this.parseLabel(x,D)),this}},{key:"setLabel",value:function(x,D){var F=this.labels.indexOf(x);return F!==-1&&this.offsets.splice(F,1,this.parseLabel(x,D)),this}},{key:"eraseLabel",value:function(x){var D=this.labels.indexOf(x);return D!==-1&&(this.labels.splice(D,1),this.offsets.splice(D,1)),this}}]),d}(),Ge=0,Z=function(){function d(x){var D;return b(this,d),(D=H(this,M(d).call(this)))._duration=0,D._startTime=x&&x.startTime!==void 0?x.startTime:l(),D._tweens=[],D.elapsed=0,D._id=Ge++,D._defaultParams=x,D.position=new Me,D.position.addLabel("afterLast",D._duration),D.position.addLabel("afterInit",D._startTime),D._onStartCallbackFired=!1,H(D,P(D))}return function(x,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(D&&D.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),D&&k(x,D)}(d,be),S(d,[{key:"mapTotal",value:function(x){return x.call(this,this._tweens),this}},{key:"timingOrder",value:function(x){var D=x(this._tweens.map(function(F){return F._startTime}));return this._tweens.map(function(F,L){F._startTime=D[L]}),this}},{key:"getTiming",value:function(x,D,F,L){var V=3<arguments.length&&L!==void 0?L:0;if(x==="reverse"){var $=F.stagger,X=($||0)*(D.length-1);return D.map(function(ue,me){return X-($||0)*me+V})}if(x==="async")return D.map(function(ue){return V});if(x==="sequence"||x==="delayed"){var J=F.stagger;return J=J||(F.duration||1e3)/(D.length-1),D.map(function(ue,me){return J*me+V})}if(x==="oneByOne")return D.map(function(ue){return F.duration});if(x==="shuffle"){var ce=F.stagger;return function(ue){var me,xe,he;for(he=ue.length;he;--he)me=Math.floor(Math.random()*he),xe=ue[he-1],ue[he-1]=ue[me],ue[me]=xe;return ue}(D.map(function(ue,me){return(ce||0)*me+V}))}var oe=F.stagger;return D.map(function(ue,me){return(oe||0)*me+V})}},{key:"fromTo",value:function(x,D,F,L){if((x=Pe(x,!0,!0))&&x.length){this._defaultParams&&(L=L?Q({},this._defaultParams,{},L):this._defaultParams);for(var V,$=L.label,X=typeof $=="number"?$:this.position.parseLabel($!==void 0?$:"afterLast",null),J=this.getTiming(L.mode,x,L,X),ce=0,oe=x.length;ce<oe;ce++)V=x[ce],this.add(be.fromTo(V,typeof D=="function"?D(ce,x.length):B(D)==="object"&&D?Q({},D):null,typeof F=="function"?F(ce,x.length):F,typeof L=="function"?L(ce,x.length):L),J[ce])}return this.start()}},{key:"from",value:function(x,D,F){return this.fromTo(x,D,null,F)}},{key:"to",value:function(x,D,F){return this.fromTo(x,null,D,F)}},{key:"addLabel",value:function(x,D){return this.position.addLabel(x,D),this}},{key:"map",value:function(x){for(var D=0,F=this._tweens.length;D<F;D++){var L=this._tweens[D];x(L,D),this._duration=Math.max(this._duration,L._duration+L._startTime)}return this}},{key:"add",value:function(x,D){var F=this;if(Array.isArray(x))return x.map(function(J){F.add(J,D)}),this;B(x)!=="object"||x instanceof be||(x=new be(x.from).to(x.to,x));var L=this._defaultParams,V=this._duration;if(L)for(var $ in L)typeof x[$]=="function"&&x[$](L[$]);var X=typeof D=="number"?D:this.position.parseLabel(D!==void 0?D:"afterLast",null);return x._startTime=Math.max(this._startTime,x._delayTime,X),x._delayTime=X,x._isPlaying=!0,this._duration=Math.max(V,Math.max(x._startTime+x._delayTime,x._duration)),this._tweens.push(x),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=l(),e(this),this.emit(W)}},{key:"easing",value:function(x){return this.map(function(D){return D.easing(x)})}},{key:"interpolation",value:function(x){return this.map(function(D){return D.interpolation(x)})}},{key:"update",value:function(x){var D,F=this._tweens,L=this._duration,V=this._reverseDelayTime,$=this._startTime,X=this._reversed,J=this._yoyo,ce=this._repeat,oe=this._isFinite,ue=this._isPlaying,me=this._prevTime,xe=this._onStartCallbackFired,he=(x=x!==void 0?x:l())-me;if(this._prevTime=x,250<he&&o()&&t()&&(x-=he-K),!ue||x<$)return!0;D=1<(D=(x-$)/L)?1:D,D=X?1-D:D,this.elapsed=D,xe||(this.emit(N),this._onStartCallbackFired=!0);for(var Re=x-$,Ye=X?L-Re:Re,Oe=0;Oe<F.length;)F[Oe].update(Ye),Oe++;if(this.emit(G,D,Re),D===1||X&&D===0){if(ce){for(oe&&this._repeat--,this.emit(X?Y:z),J&&(this._reversed=!X,this.timingOrder(function(Ve){return Ve.reverse()})),this._startTime=X&&V?x+V:x,Oe=0;Oe<F.length;)F[Oe].reassignValues(x),Oe++;return!0}return this.emit(_),this._repeat=this._r,m(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(x){return x!==void 0?this.update(x*this._duration):this.elapsed}}]),d}();i.Easing=E,i.FrameThrottle=function(d){y=1.05*(0<arguments.length&&d!==void 0?d:120)},i.Interpolation=fe,i.Interpolator=function(d,x){var D=Array.isArray(d)&&!d.isString,F=typeof d=="string"?d:D?d.slice():Q({},d);if(D)for(var L=0,V=d.length;L<V;L++)d[L]===x[L]&&typeof d[L]=="number"&&typeof x[L]!="number"||Ee(L,F,d,x);else if(B(d)==="object")for(var $ in d)d[$]===x[$]&&typeof d[$]=="number"&&typeof x[$]!="number"||Ee($,F,d,x);else if(typeof d=="string"){d=ne(d),x=ne(x);for(var X=1;X<d.length;)d[X]===x[X]&&typeof d[X-1]=="string"?(d.splice(X-1,2,d[X-1]+d[X]),x.splice(X-1,2,x[X-1]+x[X])):X++}return function(J){if(D)for(var ce=0,oe=d.length;ce<oe;ce++)ye(ce,F,d,x,J);else if(B(F)==="object")for(var ue in d)ye(ue,F,d,x,J);else typeof F=="string"&&(F=ye(0,0,d,x,J,J,!0));return F}},i.Plugins=I,i.Selector=Pe,i.Timeline=Z,i.ToggleLagSmoothing=function(d){C=!(0<arguments.length&&d!==void 0)||d},i.Tween=be,i.add=e,i.autoPlay=function(d){h=d},i.get=n,i.getAll=function(){return u},i.has=function(d){return n(d)!==null},i.isRunning=o,i.now=l,i.onRequestTick=function(d){p.push(d)},i.onTick=function(d){return u.push({update:d})},i.remove=m,i.removeAll=function(){u.length=0,c(r),f=!1},i.update=v,i.utils=_e,Object.defineProperty(i,"__esModule",{value:!0})})});var yf=De((Bn,Tn)=>{(function(i){var e=typeof Bn=="object"&&Bn&&!Bn.nodeType&&Bn,n=typeof Tn=="object"&&Tn&&!Tn.nodeType&&Tn,o=typeof global=="object"&&global;(o.global===o||o.window===o||o.self===o)&&(i=o);var t,r=2147483647,A=36,a=1,c=26,l=38,u=700,f=72,h=128,p="-",g=/^xn--/,w=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=A-a,v=Math.floor,I=String.fromCharCode,E;function B(q){throw new RangeError(C[q])}function b(q,O){for(var G=q.length,_=[];G--;)_[G]=O(q[G]);return _}function T(q,O){var G=q.split("@"),_="";G.length>1&&(_=G[0]+"@",q=G[1]),q=q.replace(y,".");var N=q.split("."),z=b(N,O).join(".");return _+z}function S(q){for(var O=[],G=0,_=q.length,N,z;G<_;)N=q.charCodeAt(G++),N>=55296&&N<=56319&&G<_?(z=q.charCodeAt(G++),(z&64512)==56320?O.push(((N&1023)<<10)+(z&1023)+65536):(O.push(N),G--)):O.push(N);return O}function R(q){return b(q,function(O){var G="";return O>65535&&(O-=65536,G+=I(O>>>10&1023|55296),O=56320|O&1023),G+=I(O),G}).join("")}function Q(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:A}function M(q,O){return q+22+75*(q<26)-((O!=0)<<5)}function k(q,O,G){var _=0;for(q=G?v(q/u):q>>1,q+=v(q/O);q>m*c>>1;_+=A)q=v(q/m);return v(_+(m+1)*q/(q+l))}function P(q){var O=[],G=q.length,_,N=0,z=h,Y=f,W,ee,te,re,se,le,Ae,ne,Ee;for(W=q.lastIndexOf(p),W<0&&(W=0),ee=0;ee<W;++ee)q.charCodeAt(ee)>=128&&B("not-basic"),O.push(q.charCodeAt(ee));for(te=W>0?W+1:0;te<G;){for(re=N,se=1,le=A;te>=G&&B("invalid-input"),Ae=Q(q.charCodeAt(te++)),(Ae>=A||Ae>v((r-N)/se))&&B("overflow"),N+=Ae*se,ne=le<=Y?a:le>=Y+c?c:le-Y,!(Ae<ne);le+=A)Ee=A-ne,se>v(r/Ee)&&B("overflow"),se*=Ee;_=O.length+1,Y=k(N-re,_,re==0),v(N/_)>r-z&&B("overflow"),z+=v(N/_),N%=_,O.splice(N++,0,z)}return R(O)}function H(q){var O,G,_,N,z,Y,W,ee,te,re,se,le=[],Ae,ne,Ee,Te;for(q=S(q),Ae=q.length,O=h,G=0,z=f,Y=0;Y<Ae;++Y)se=q[Y],se<128&&le.push(I(se));for(_=N=le.length,N&&le.push(p);_<Ae;){for(W=r,Y=0;Y<Ae;++Y)se=q[Y],se>=O&&se<W&&(W=se);for(ne=_+1,W-O>v((r-G)/ne)&&B("overflow"),G+=(W-O)*ne,O=W,Y=0;Y<Ae;++Y)if(se=q[Y],se<O&&++G>r&&B("overflow"),se==O){for(ee=G,te=A;re=te<=z?a:te>=z+c?c:te-z,!(ee<re);te+=A)Te=ee-re,Ee=A-re,le.push(I(M(re+Te%Ee,0))),ee=v(Te/Ee);le.push(I(M(ee,0))),z=k(G,ne,_==N),G=0,++_}++G,++O}return le.join("")}function U(q){return T(q,function(O){return g.test(O)?P(O.slice(4).toLowerCase()):O})}function K(q){return T(q,function(O){return w.test(O)?"xn--"+H(O):O})}if(t={version:"1.4.1",ucs2:{decode:S,encode:R},decode:P,encode:H,toASCII:K,toUnicode:U},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return t});else if(e&&n)if(Tn.exports==e)n.exports=t;else for(E in t)t.hasOwnProperty(E)&&(e[E]=t[E]);else i.punycode=t})(Bn)});var Xr=De((FI,vf)=>{"use strict";vf.exports=TypeError});var wf=De(()=>{});var _i=De((UI,Nf)=>{var ic=typeof Map=="function"&&Map.prototype,Ka=Object.getOwnPropertyDescriptor&&ic?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rA=ic&&Ka&&typeof Ka.get=="function"?Ka.get:null,xf=ic&&Map.prototype.forEach,oc=typeof Set=="function"&&Set.prototype,Ja=Object.getOwnPropertyDescriptor&&oc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,nA=oc&&Ja&&typeof Ja.get=="function"?Ja.get:null,If=oc&&Set.prototype.forEach,$m=typeof WeakMap=="function"&&WeakMap.prototype,Mi=$m?WeakMap.prototype.has:null,e0=typeof WeakSet=="function"&&WeakSet.prototype,Ri=e0?WeakSet.prototype.has:null,t0=typeof WeakRef=="function"&&WeakRef.prototype,Cf=t0?WeakRef.prototype.deref:null,r0=Boolean.prototype.valueOf,n0=Object.prototype.toString,i0=Function.prototype.toString,o0=String.prototype.match,Ac=String.prototype.slice,Rr=String.prototype.replace,A0=String.prototype.toUpperCase,Ef=String.prototype.toLowerCase,kf=RegExp.prototype.test,bf=Array.prototype.concat,or=Array.prototype.join,s0=Array.prototype.slice,Bf=Math.floor,$a=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Xa=Object.getOwnPropertySymbols,ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Sn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",vt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Sn||!0)?Symbol.toStringTag:null,Ff=Object.prototype.propertyIsEnumerable,Tf=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(i){return i.__proto__}:null);function Sf(i,e){if(i===1/0||i===-1/0||i!==i||i&&i>-1e3&&i<1e3||kf.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof i=="number"){var o=i<0?-Bf(-i):Bf(i);if(o!==i){var t=String(o),r=Ac.call(e,t.length+1);return Rr.call(t,n,"$&_")+"."+Rr.call(Rr.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Rr.call(e,n,"$&_")}var tc=wf(),Df=tc.custom,Mf=Uf(Df)?Df:null,Pf={__proto__:null,double:'"',single:"'"},a0={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Nf.exports=function i(e,n,o,t){var r=n||{};if(yr(r,"quoteStyle")&&!yr(Pf,r.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(yr(r,"maxStringLength")&&(typeof r.maxStringLength=="number"?r.maxStringLength<0&&r.maxStringLength!==1/0:r.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var A=yr(r,"customInspect")?r.customInspect:!0;if(typeof A!="boolean"&&A!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(yr(r,"indent")&&r.indent!==null&&r.indent!=="	"&&!(parseInt(r.indent,10)===r.indent&&r.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(yr(r,"numericSeparator")&&typeof r.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=r.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Of(e,r);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Sf(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?Sf(e,l):l}var u=typeof r.depth>"u"?5:r.depth;if(typeof o>"u"&&(o=0),o>=u&&u>0&&typeof e=="object")return rc(e)?"[Array]":"[Object]";var f=B0(r,o);if(typeof t>"u")t=[];else if(Lf(t,e)>=0)return"[Circular]";function h(k,P,H){if(P&&(t=s0.call(t),t.push(P)),H){var U={depth:r.depth};return yr(r,"quoteStyle")&&(U.quoteStyle=r.quoteStyle),i(k,U,o+1,t)}return i(k,r,o+1,t)}if(typeof e=="function"&&!Rf(e)){var p=m0(e),g=tA(e,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(g.length>0?" { "+or.call(g,", ")+" }":"")}if(Uf(e)){var w=Sn?Rr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ec.call(e);return typeof e=="object"&&!Sn?Di(w):w}if(C0(e)){for(var y="<"+Ef.call(String(e.nodeName)),C=e.attributes||[],m=0;m<C.length;m++)y+=" "+C[m].name+"="+Qf(c0(C[m].value),"double",r);return y+=">",e.childNodes&&e.childNodes.length&&(y+="..."),y+="</"+Ef.call(String(e.nodeName))+">",y}if(rc(e)){if(e.length===0)return"[]";var v=tA(e,h);return f&&!b0(v)?"["+nc(v,f)+"]":"[ "+or.call(v,", ")+" ]"}if(u0(e)){var I=tA(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!Ff.call(e,"cause")?"{ ["+String(e)+"] "+or.call(bf.call("[cause]: "+h(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+or.call(I,", ")+" }"}if(typeof e=="object"&&A){if(Mf&&typeof e[Mf]=="function"&&tc)return tc(e,{depth:u-o});if(A!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(y0(e)){var E=[];return xf&&xf.call(e,function(k,P){E.push(h(P,e,!0)+" => "+h(k,e))}),_f("Map",rA.call(e),E,f)}if(x0(e)){var B=[];return If&&If.call(e,function(k){B.push(h(k,e))}),_f("Set",nA.call(e),B,f)}if(v0(e))return Za("WeakMap");if(I0(e))return Za("WeakSet");if(w0(e))return Za("WeakRef");if(h0(e))return Di(h(Number(e)));if(d0(e))return Di(h($a.call(e)));if(p0(e))return Di(r0.call(e));if(f0(e))return Di(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!l0(e)&&!Rf(e)){var b=tA(e,h),T=Tf?Tf(e)===Object.prototype:e instanceof Object||e.constructor===Object,S=e instanceof Object?"":"null prototype",R=!T&&vt&&Object(e)===e&&vt in e?Ac.call(_r(e),8,-1):S?"Object":"",Q=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",M=Q+(R||S?"["+or.call(bf.call([],R||[],S||[]),": ")+"] ":"");return b.length===0?M+"{}":f?M+"{"+nc(b,f)+"}":M+"{ "+or.call(b,", ")+" }"}return String(e)};function Qf(i,e,n){var o=n.quoteStyle||e,t=Pf[o];return t+i+t}function c0(i){return Rr.call(String(i),/"/g,"&quot;")}function rc(i){return _r(i)==="[object Array]"&&(!vt||!(typeof i=="object"&&vt in i))}function l0(i){return _r(i)==="[object Date]"&&(!vt||!(typeof i=="object"&&vt in i))}function Rf(i){return _r(i)==="[object RegExp]"&&(!vt||!(typeof i=="object"&&vt in i))}function u0(i){return _r(i)==="[object Error]"&&(!vt||!(typeof i=="object"&&vt in i))}function f0(i){return _r(i)==="[object String]"&&(!vt||!(typeof i=="object"&&vt in i))}function h0(i){return _r(i)==="[object Number]"&&(!vt||!(typeof i=="object"&&vt in i))}function p0(i){return _r(i)==="[object Boolean]"&&(!vt||!(typeof i=="object"&&vt in i))}function Uf(i){if(Sn)return i&&typeof i=="object"&&i instanceof Symbol;if(typeof i=="symbol")return!0;if(!i||typeof i!="object"||!ec)return!1;try{return ec.call(i),!0}catch{}return!1}function d0(i){if(!i||typeof i!="object"||!$a)return!1;try{return $a.call(i),!0}catch{}return!1}var g0=Object.prototype.hasOwnProperty||function(i){return i in this};function yr(i,e){return g0.call(i,e)}function _r(i){return n0.call(i)}function m0(i){if(i.name)return i.name;var e=o0.call(i0.call(i),/^function\s*([\w$]+)/);return e?e[1]:null}function Lf(i,e){if(i.indexOf)return i.indexOf(e);for(var n=0,o=i.length;n<o;n++)if(i[n]===e)return n;return-1}function y0(i){if(!rA||!i||typeof i!="object")return!1;try{rA.call(i);try{nA.call(i)}catch{return!0}return i instanceof Map}catch{}return!1}function v0(i){if(!Mi||!i||typeof i!="object")return!1;try{Mi.call(i,Mi);try{Ri.call(i,Ri)}catch{return!0}return i instanceof WeakMap}catch{}return!1}function w0(i){if(!Cf||!i||typeof i!="object")return!1;try{return Cf.call(i),!0}catch{}return!1}function x0(i){if(!nA||!i||typeof i!="object")return!1;try{nA.call(i);try{rA.call(i)}catch{return!0}return i instanceof Set}catch{}return!1}function I0(i){if(!Ri||!i||typeof i!="object")return!1;try{Ri.call(i,Ri);try{Mi.call(i,Mi)}catch{return!0}return i instanceof WeakSet}catch{}return!1}function C0(i){return!i||typeof i!="object"?!1:typeof HTMLElement<"u"&&i instanceof HTMLElement?!0:typeof i.nodeName=="string"&&typeof i.getAttribute=="function"}function Of(i,e){if(i.length>e.maxStringLength){var n=i.length-e.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return Of(Ac.call(i,0,e.maxStringLength),e)+o}var t=a0[e.quoteStyle||"single"];t.lastIndex=0;var r=Rr.call(Rr.call(i,t,"\\$1"),/[\x00-\x1f]/g,E0);return Qf(r,"single",e)}function E0(i){var e=i.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+A0.call(e.toString(16))}function Di(i){return"Object("+i+")"}function Za(i){return i+" { ? }"}function _f(i,e,n,o){var t=o?nc(n,o):or.call(n,", ");return i+" ("+e+") {"+t+"}"}function b0(i){for(var e=0;e<i.length;e++)if(Lf(i[e],`
`)>=0)return!1;return!0}function B0(i,e){var n;if(i.indent==="	")n="	";else if(typeof i.indent=="number"&&i.indent>0)n=or.call(Array(i.indent+1)," ");else return null;return{base:n,prev:or.call(Array(e+1),n)}}function nc(i,e){if(i.length===0)return"";var n=`
`+e.prev+e.base;return n+or.call(i,","+n)+`
`+e.prev}function tA(i,e){var n=rc(i),o=[];if(n){o.length=i.length;for(var t=0;t<i.length;t++)o[t]=yr(i,t)?e(i[t],i):""}var r=typeof Xa=="function"?Xa(i):[],A;if(Sn){A={};for(var a=0;a<r.length;a++)A["$"+r[a]]=r[a]}for(var c in i)yr(i,c)&&(n&&String(Number(c))===c&&c<i.length||Sn&&A["$"+c]instanceof Symbol||(kf.call(/[^\w$]/,c)?o.push(e(c,i)+": "+e(i[c],i)):o.push(c+": "+e(i[c],i))));if(typeof Xa=="function")for(var l=0;l<r.length;l++)Ff.call(i,r[l])&&o.push("["+e(r[l])+"]: "+e(i[r[l]],i));return o}});var zf=De((LI,Gf)=>{"use strict";var T0=_i(),S0=Xr(),iA=function(i,e,n){for(var o=i,t;(t=o.next)!=null;o=t)if(t.key===e)return o.next=t.next,n||(t.next=i.next,i.next=t),t},D0=function(i,e){if(i){var n=iA(i,e);return n&&n.value}},M0=function(i,e,n){var o=iA(i,e);o?o.value=n:i.next={key:e,next:i.next,value:n}},R0=function(i,e){return i?!!iA(i,e):!1},_0=function(i,e){if(i)return iA(i,e,!0)};Gf.exports=function(){var e,n={assert:function(o){if(!n.has(o))throw new S0("Side channel does not contain "+T0(o))},delete:function(o){var t=e&&e.next,r=_0(e,o);return r&&t&&t===r&&(e=void 0),!!r},get:function(o){return D0(e,o)},has:function(o){return R0(e,o)},set:function(o,t){e||(e={next:void 0}),M0(e,o,t)}};return n}});var Vf=De((OI,Hf)=>{"use strict";Hf.exports=Object});var Yf=De((NI,jf)=>{"use strict";jf.exports=Error});var qf=De((GI,Wf)=>{"use strict";Wf.exports=EvalError});var Jf=De((zI,Kf)=>{"use strict";Kf.exports=RangeError});var Zf=De((HI,Xf)=>{"use strict";Xf.exports=ReferenceError});var eh=De((VI,$f)=>{"use strict";$f.exports=SyntaxError});var rh=De((jI,th)=>{"use strict";th.exports=URIError});var ih=De((YI,nh)=>{"use strict";nh.exports=Math.abs});var Ah=De((WI,oh)=>{"use strict";oh.exports=Math.floor});var ah=De((qI,sh)=>{"use strict";sh.exports=Math.max});var lh=De((KI,ch)=>{"use strict";ch.exports=Math.min});var fh=De((JI,uh)=>{"use strict";uh.exports=Math.pow});var ph=De((XI,hh)=>{"use strict";hh.exports=Object.getOwnPropertyDescriptor});var sc=De((ZI,dh)=>{"use strict";var oA=ph();if(oA)try{oA([],"length")}catch{oA=null}dh.exports=oA});var mh=De(($I,gh)=>{"use strict";var AA=Object.defineProperty||!1;if(AA)try{AA({},"a",{value:1})}catch{AA=!1}gh.exports=AA});var vh=De((eC,yh)=>{"use strict";yh.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var t=42;e[n]=t;for(var r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var A=Object.getOwnPropertySymbols(e);if(A.length!==1||A[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==t||a.enumerable!==!0)return!1}return!0}});var Ih=De((tC,xh)=>{"use strict";var wh=typeof Symbol<"u"&&Symbol,k0=vh();xh.exports=function(){return typeof wh!="function"||typeof Symbol!="function"||typeof wh("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:k0()}});var bh=De((rC,Eh)=>{"use strict";var F0="Function.prototype.bind called on incompatible ",P0=Object.prototype.toString,Q0=Math.max,U0="[object Function]",Ch=function(e,n){for(var o=[],t=0;t<e.length;t+=1)o[t]=e[t];for(var r=0;r<n.length;r+=1)o[r+e.length]=n[r];return o},L0=function(e,n){for(var o=[],t=n||0,r=0;t<e.length;t+=1,r+=1)o[r]=e[t];return o},O0=function(i,e){for(var n="",o=0;o<i.length;o+=1)n+=i[o],o+1<i.length&&(n+=e);return n};Eh.exports=function(e){var n=this;if(typeof n!="function"||P0.apply(n)!==U0)throw new TypeError(F0+n);for(var o=L0(arguments,1),t,r=function(){if(this instanceof t){var u=n.apply(this,Ch(o,arguments));return Object(u)===u?u:this}return n.apply(e,Ch(o,arguments))},A=Q0(0,n.length-o.length),a=[],c=0;c<A;c++)a[c]="$"+c;if(t=Function("binder","return function ("+O0(a,",")+"){ return binder.apply(this,arguments); }")(r),n.prototype){var l=function(){};l.prototype=n.prototype,t.prototype=new l,l.prototype=null}return t}});var ki=De((nC,Bh)=>{"use strict";var N0=bh();Bh.exports=Function.prototype.bind||N0});var sA=De((iC,Th)=>{"use strict";Th.exports=Function.prototype.call});var ac=De((oC,Sh)=>{"use strict";Sh.exports=Function.prototype.apply});var Mh=De((AC,Dh)=>{"use strict";Dh.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var _h=De((sC,Rh)=>{"use strict";var G0=ki(),z0=ac(),H0=sA(),V0=Mh();Rh.exports=V0||G0.call(H0,z0)});var cc=De((aC,kh)=>{"use strict";var j0=ki(),Y0=Xr(),W0=sA(),q0=_h();kh.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Y0("a function is required");return q0(j0,W0,e)}});var Oh=De((cC,Lh)=>{"use strict";var K0=cc(),Fh=sc(),Qh;try{Qh=[].__proto__===Array.prototype}catch(i){if(!i||typeof i!="object"||!("code"in i)||i.code!=="ERR_PROTO_ACCESS")throw i}var lc=!!Qh&&Fh&&Fh(Object.prototype,"__proto__"),Uh=Object,Ph=Uh.getPrototypeOf;Lh.exports=lc&&typeof lc.get=="function"?K0([lc.get]):typeof Ph=="function"?function(e){return Ph(e==null?e:Uh(e))}:!1});var Gh=De((lC,Nh)=>{"use strict";var J0=Function.prototype.call,X0=Object.prototype.hasOwnProperty,Z0=ki();Nh.exports=Z0.call(J0,X0)});var lA=De((uC,qh)=>{"use strict";var Ue,jh=Vf(),$0=Yf(),ey=qf(),ty=Jf(),ry=Zf(),_n=eh(),Rn=Xr(),ny=rh(),iy=ih(),oy=Ah(),Ay=ah(),sy=lh(),ay=fh(),Yh=Function,uc=function(i){try{return Yh('"use strict"; return ('+i+").constructor;")()}catch{}},Fi=sc(),cy=mh(),fc=function(){throw new Rn},ly=Fi?function(){try{return arguments.callee,fc}catch{try{return Fi(arguments,"callee").get}catch{return fc}}}():fc,Dn=Ih()(),uy=Oh(),ut=typeof Reflect=="function"&&Reflect.getPrototypeOf||jh.getPrototypeOf||uy,Wh=ac(),Pi=sA(),Mn={},fy=typeof Uint8Array>"u"||!ut?Ue:ut(Uint8Array),Zr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":Dn&&ut?ut([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":Mn,"%AsyncGenerator%":Mn,"%AsyncGeneratorFunction%":Mn,"%AsyncIteratorPrototype%":Mn,"%Atomics%":typeof Atomics>"u"?Ue:Atomics,"%BigInt%":typeof BigInt>"u"?Ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$0,"%eval%":eval,"%EvalError%":ey,"%Float32Array%":typeof Float32Array>"u"?Ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ue:FinalizationRegistry,"%Function%":Yh,"%GeneratorFunction%":Mn,"%Int8Array%":typeof Int8Array>"u"?Ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dn&&ut?ut(ut([][Symbol.iterator]())):Ue,"%JSON%":typeof JSON=="object"?JSON:Ue,"%Map%":typeof Map>"u"?Ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dn||!ut?Ue:ut(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":jh,"%Object.getOwnPropertyDescriptor%":Fi,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ue:Promise,"%Proxy%":typeof Proxy>"u"?Ue:Proxy,"%RangeError%":ty,"%ReferenceError%":ry,"%Reflect%":typeof Reflect>"u"?Ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dn||!ut?Ue:ut(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dn&&ut?ut(""[Symbol.iterator]()):Ue,"%Symbol%":Dn?Symbol:Ue,"%SyntaxError%":_n,"%ThrowTypeError%":ly,"%TypedArray%":fy,"%TypeError%":Rn,"%Uint8Array%":typeof Uint8Array>"u"?Ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ue:Uint32Array,"%URIError%":ny,"%WeakMap%":typeof WeakMap>"u"?Ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ue:WeakSet,"%Function.prototype.call%":Pi,"%Function.prototype.apply%":Wh,"%Object.defineProperty%":cy,"%Math.abs%":iy,"%Math.floor%":oy,"%Math.max%":Ay,"%Math.min%":sy,"%Math.pow%":ay};if(ut)try{null.error}catch(i){zh=ut(ut(i)),Zr["%Error.prototype%"]=zh}var zh,hy=function i(e){var n;if(e==="%AsyncFunction%")n=uc("async function () {}");else if(e==="%GeneratorFunction%")n=uc("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=uc("async function* () {}");else if(e==="%AsyncGenerator%"){var o=i("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var t=i("%AsyncGenerator%");t&&ut&&(n=ut(t.prototype))}return Zr[e]=n,n},Hh={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Qi=ki(),aA=Gh(),py=Qi.call(Pi,Array.prototype.concat),dy=Qi.call(Wh,Array.prototype.splice),Vh=Qi.call(Pi,String.prototype.replace),cA=Qi.call(Pi,String.prototype.slice),gy=Qi.call(Pi,RegExp.prototype.exec),my=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,yy=/\\(\\)?/g,vy=function(e){var n=cA(e,0,1),o=cA(e,-1);if(n==="%"&&o!=="%")throw new _n("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new _n("invalid intrinsic syntax, expected opening `%`");var t=[];return Vh(e,my,function(r,A,a,c){t[t.length]=a?Vh(c,yy,"$1"):A||r}),t},wy=function(e,n){var o=e,t;if(aA(Hh,o)&&(t=Hh[o],o="%"+t[0]+"%"),aA(Zr,o)){var r=Zr[o];if(r===Mn&&(r=hy(o)),typeof r>"u"&&!n)throw new Rn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:t,name:o,value:r}}throw new _n("intrinsic "+e+" does not exist!")};qh.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new Rn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Rn('"allowMissing" argument must be a boolean');if(gy(/^%?[^%]*%?$/,e)===null)throw new _n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=vy(e),t=o.length>0?o[0]:"",r=wy("%"+t+"%",n),A=r.name,a=r.value,c=!1,l=r.alias;l&&(t=l[0],dy(o,py([0,1],l)));for(var u=1,f=!0;u<o.length;u+=1){var h=o[u],p=cA(h,0,1),g=cA(h,-1);if((p==='"'||p==="'"||p==="`"||g==='"'||g==="'"||g==="`")&&p!==g)throw new _n("property names with quotes must have matching quotes");if((h==="constructor"||!f)&&(c=!0),t+="."+h,A="%"+t+"%",aA(Zr,A))a=Zr[A];else if(a!=null){if(!(h in a)){if(!n)throw new Rn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Fi&&u+1>=o.length){var w=Fi(a,h);f=!!w,f&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[h]}else f=aA(a,h),a=a[h];f&&!c&&(Zr[A]=a)}}return a}});var hc=De((fC,Xh)=>{"use strict";var Kh=lA(),Jh=cc(),xy=Jh([Kh("%String.prototype.indexOf%")]);Xh.exports=function(e,n){var o=Kh(e,!!n);return typeof o=="function"&&xy(e,".prototype.")>-1?Jh([o]):o}});var pc=De((hC,$h)=>{"use strict";var Iy=lA(),Ui=hc(),Cy=_i(),Ey=Xr(),Zh=Iy("%Map%",!0),by=Ui("Map.prototype.get",!0),By=Ui("Map.prototype.set",!0),Ty=Ui("Map.prototype.has",!0),Sy=Ui("Map.prototype.delete",!0),Dy=Ui("Map.prototype.size",!0);$h.exports=!!Zh&&function(){var e,n={assert:function(o){if(!n.has(o))throw new Ey("Side channel does not contain "+Cy(o))},delete:function(o){if(e){var t=Sy(e,o);return Dy(e)===0&&(e=void 0),t}return!1},get:function(o){if(e)return by(e,o)},has:function(o){return e?Ty(e,o):!1},set:function(o,t){e||(e=new Zh),By(e,o,t)}};return n}});var tp=De((pC,ep)=>{"use strict";var My=lA(),fA=hc(),Ry=_i(),uA=pc(),_y=Xr(),kn=My("%WeakMap%",!0),ky=fA("WeakMap.prototype.get",!0),Fy=fA("WeakMap.prototype.set",!0),Py=fA("WeakMap.prototype.has",!0),Qy=fA("WeakMap.prototype.delete",!0);ep.exports=kn?function(){var e,n,o={assert:function(t){if(!o.has(t))throw new _y("Side channel does not contain "+Ry(t))},delete:function(t){if(kn&&t&&(typeof t=="object"||typeof t=="function")){if(e)return Qy(e,t)}else if(uA&&n)return n.delete(t);return!1},get:function(t){return kn&&t&&(typeof t=="object"||typeof t=="function")&&e?ky(e,t):n&&n.get(t)},has:function(t){return kn&&t&&(typeof t=="object"||typeof t=="function")&&e?Py(e,t):!!n&&n.has(t)},set:function(t,r){kn&&t&&(typeof t=="object"||typeof t=="function")?(e||(e=new kn),Fy(e,t,r)):uA&&(n||(n=uA()),n.set(t,r))}};return o}:uA});var np=De((dC,rp)=>{"use strict";var Uy=Xr(),Ly=_i(),Oy=zf(),Ny=pc(),Gy=tp(),zy=Gy||Ny||Oy;rp.exports=function(){var e,n={assert:function(o){if(!n.has(o))throw new Uy("Side channel does not contain "+Ly(o))},delete:function(o){return!!e&&e.delete(o)},get:function(o){return e&&e.get(o)},has:function(o){return!!e&&e.has(o)},set:function(o,t){e||(e=zy()),e.set(o,t)}};return n}});var hA=De((gC,ip)=>{"use strict";var Hy=String.prototype.replace,Vy=/%20/g,dc={RFC1738:"RFC1738",RFC3986:"RFC3986"};ip.exports={default:dc.RFC3986,formatters:{RFC1738:function(i){return Hy.call(i,Vy,"+")},RFC3986:function(i){return String(i)}},RFC1738:dc.RFC1738,RFC3986:dc.RFC3986}});var yc=De((mC,Ap)=>{"use strict";var jy=hA(),gc=Object.prototype.hasOwnProperty,$r=Array.isArray,Ar=function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i}(),Yy=function(e){for(;e.length>1;){var n=e.pop(),o=n.obj[n.prop];if($r(o)){for(var t=[],r=0;r<o.length;++r)typeof o[r]<"u"&&t.push(o[r]);n.obj[n.prop]=t}}},op=function(e,n){for(var o=n&&n.plainObjects?{__proto__:null}:{},t=0;t<e.length;++t)typeof e[t]<"u"&&(o[t]=e[t]);return o},Wy=function i(e,n,o){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if($r(e))e.push(n);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!gc.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var t=e;return $r(e)&&!$r(n)&&(t=op(e,o)),$r(e)&&$r(n)?(n.forEach(function(r,A){if(gc.call(e,A)){var a=e[A];a&&typeof a=="object"&&r&&typeof r=="object"?e[A]=i(a,r,o):e.push(r)}else e[A]=r}),e):Object.keys(n).reduce(function(r,A){var a=n[A];return gc.call(r,A)?r[A]=i(r[A],a,o):r[A]=a,r},t)},qy=function(e,n){return Object.keys(n).reduce(function(o,t){return o[t]=n[t],o},e)},Ky=function(i,e,n){var o=i.replace(/\+/g," ");if(n==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},mc=1024,Jy=function(e,n,o,t,r){if(e.length===0)return e;var A=e;if(typeof e=="symbol"?A=Symbol.prototype.toString.call(e):typeof e!="string"&&(A=String(e)),o==="iso-8859-1")return escape(A).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<A.length;c+=mc){for(var l=A.length>=mc?A.slice(c,c+mc):A,u=[],f=0;f<l.length;++f){var h=l.charCodeAt(f);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||r===jy.RFC1738&&(h===40||h===41)){u[u.length]=l.charAt(f);continue}if(h<128){u[u.length]=Ar[h];continue}if(h<2048){u[u.length]=Ar[192|h>>6]+Ar[128|h&63];continue}if(h<55296||h>=57344){u[u.length]=Ar[224|h>>12]+Ar[128|h>>6&63]+Ar[128|h&63];continue}f+=1,h=65536+((h&1023)<<10|l.charCodeAt(f)&1023),u[u.length]=Ar[240|h>>18]+Ar[128|h>>12&63]+Ar[128|h>>6&63]+Ar[128|h&63]}a+=u.join("")}return a},Xy=function(e){for(var n=[{obj:{o:e},prop:"o"}],o=[],t=0;t<n.length;++t)for(var r=n[t],A=r.obj[r.prop],a=Object.keys(A),c=0;c<a.length;++c){var l=a[c],u=A[l];typeof u=="object"&&u!==null&&o.indexOf(u)===-1&&(n.push({obj:A,prop:l}),o.push(u))}return Yy(n),e},Zy=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},$y=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},ev=function(e,n){return[].concat(e,n)},tv=function(e,n){if($r(e)){for(var o=[],t=0;t<e.length;t+=1)o.push(n(e[t]));return o}return n(e)};Ap.exports={arrayToObject:op,assign:qy,combine:ev,compact:Xy,decode:Ky,encode:Jy,isBuffer:$y,isRegExp:Zy,maybeMap:tv,merge:Wy}});var fp=De((yC,up)=>{"use strict";var ap=np(),pA=yc(),Li=hA(),rv=Object.prototype.hasOwnProperty,cp={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},sr=Array.isArray,nv=Array.prototype.push,lp=function(i,e){nv.apply(i,sr(e)?e:[e])},iv=Date.prototype.toISOString,sp=Li.default,st={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pA.encode,encodeValuesOnly:!1,filter:void 0,format:sp,formatter:Li.formatters[sp],indices:!1,serializeDate:function(e){return iv.call(e)},skipNulls:!1,strictNullHandling:!1},ov=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},vc={},Av=function i(e,n,o,t,r,A,a,c,l,u,f,h,p,g,w,y,C,m){for(var v=e,I=m,E=0,B=!1;(I=I.get(vc))!==void 0&&!B;){var b=I.get(e);if(E+=1,typeof b<"u"){if(b===E)throw new RangeError("Cyclic object value");B=!0}typeof I.get(vc)>"u"&&(E=0)}if(typeof u=="function"?v=u(n,v):v instanceof Date?v=p(v):o==="comma"&&sr(v)&&(v=pA.maybeMap(v,function(G){return G instanceof Date?p(G):G})),v===null){if(A)return l&&!y?l(n,st.encoder,C,"key",g):n;v=""}if(ov(v)||pA.isBuffer(v)){if(l){var T=y?n:l(n,st.encoder,C,"key",g);return[w(T)+"="+w(l(v,st.encoder,C,"value",g))]}return[w(n)+"="+w(String(v))]}var S=[];if(typeof v>"u")return S;var R;if(o==="comma"&&sr(v))y&&l&&(v=pA.maybeMap(v,l)),R=[{value:v.length>0?v.join(",")||null:void 0}];else if(sr(u))R=u;else{var Q=Object.keys(v);R=f?Q.sort(f):Q}var M=c?String(n).replace(/\./g,"%2E"):String(n),k=t&&sr(v)&&v.length===1?M+"[]":M;if(r&&sr(v)&&v.length===0)return k+"[]";for(var P=0;P<R.length;++P){var H=R[P],U=typeof H=="object"&&H&&typeof H.value<"u"?H.value:v[H];if(!(a&&U===null)){var K=h&&c?String(H).replace(/\./g,"%2E"):String(H),q=sr(v)?typeof o=="function"?o(k,K):k:k+(h?"."+K:"["+K+"]");m.set(e,E);var O=ap();O.set(vc,m),lp(S,i(U,q,o,t,r,A,a,c,o==="comma"&&y&&sr(v)?null:l,u,f,h,p,g,w,y,C,O))}}return S},sv=function(e){if(!e)return st;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||st.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=Li.default;if(typeof e.format<"u"){if(!rv.call(Li.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var t=Li.formatters[o],r=st.filter;(typeof e.filter=="function"||sr(e.filter))&&(r=e.filter);var A;if(e.arrayFormat in cp?A=e.arrayFormat:"indices"in e?A=e.indices?"indices":"repeat":A=st.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:st.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:st.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:st.allowEmptyArrays,arrayFormat:A,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:st.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?st.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:st.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:st.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:st.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:st.encodeValuesOnly,filter:r,format:o,formatter:t,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:st.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:st.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:st.strictNullHandling}};up.exports=function(i,e){var n=i,o=sv(e),t,r;typeof o.filter=="function"?(r=o.filter,n=r("",n)):sr(o.filter)&&(r=o.filter,t=r);var A=[];if(typeof n!="object"||n===null)return"";var a=cp[o.arrayFormat],c=a==="comma"&&o.commaRoundTrip;t||(t=Object.keys(n)),o.sort&&t.sort(o.sort);for(var l=ap(),u=0;u<t.length;++u){var f=t[u],h=n[f];o.skipNulls&&h===null||lp(A,Av(h,f,a,c,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,l))}var p=A.join(o.delimiter),g=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""}});var dp=De((vC,pp)=>{"use strict";var Fn=yc(),wc=Object.prototype.hasOwnProperty,av=Array.isArray,$e={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Fn.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},cv=function(i){return i.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},hp=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},lv="utf8=%26%2310003%3B",uv="utf8=%E2%9C%93",fv=function(e,n){var o={__proto__:null},t=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;t=t.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var r=n.parameterLimit===1/0?void 0:n.parameterLimit,A=t.split(n.delimiter,r),a=-1,c,l=n.charset;if(n.charsetSentinel)for(c=0;c<A.length;++c)A[c].indexOf("utf8=")===0&&(A[c]===uv?l="utf-8":A[c]===lv&&(l="iso-8859-1"),a=c,c=A.length);for(c=0;c<A.length;++c)if(c!==a){var u=A[c],f=u.indexOf("]="),h=f===-1?u.indexOf("="):f+1,p,g;h===-1?(p=n.decoder(u,$e.decoder,l,"key"),g=n.strictNullHandling?null:""):(p=n.decoder(u.slice(0,h),$e.decoder,l,"key"),g=Fn.maybeMap(hp(u.slice(h+1),n),function(y){return n.decoder(y,$e.decoder,l,"value")})),g&&n.interpretNumericEntities&&l==="iso-8859-1"&&(g=cv(String(g))),u.indexOf("[]=")>-1&&(g=av(g)?[g]:g);var w=wc.call(o,p);w&&n.duplicates==="combine"?o[p]=Fn.combine(o[p],g):(!w||n.duplicates==="last")&&(o[p]=g)}return o},hv=function(i,e,n,o){for(var t=o?e:hp(e,n),r=i.length-1;r>=0;--r){var A,a=i[r];if(a==="[]"&&n.parseArrays)A=n.allowEmptyArrays&&(t===""||n.strictNullHandling&&t===null)?[]:[].concat(t);else{A=n.plainObjects?{__proto__:null}:{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(l,10);!n.parseArrays&&l===""?A={0:t}:!isNaN(u)&&a!==l&&String(u)===l&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(A=[],A[u]=t):l!=="__proto__"&&(A[l]=t)}t=A}return t},pv=function(e,n,o,t){if(e){var r=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,A=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=o.depth>0&&A.exec(r),l=c?r.slice(0,c.index):r,u=[];if(l){if(!o.plainObjects&&wc.call(Object.prototype,l)&&!o.allowPrototypes)return;u.push(l)}for(var f=0;o.depth>0&&(c=a.exec(r))!==null&&f<o.depth;){if(f+=1,!o.plainObjects&&wc.call(Object.prototype,c[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(c[1])}if(c){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");u.push("["+r.slice(c.index)+"]")}return hv(u,n,o,t)}},dv=function(e){if(!e)return $e;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?$e.charset:e.charset,o=typeof e.duplicates>"u"?$e.duplicates:e.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var t=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:$e.allowDots:!!e.allowDots;return{allowDots:t,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:$e.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$e.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:$e.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$e.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$e.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$e.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:$e.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:$e.decoder,delimiter:typeof e.delimiter=="string"||Fn.isRegExp(e.delimiter)?e.delimiter:$e.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$e.depth,duplicates:o,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$e.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$e.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$e.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:$e.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$e.strictNullHandling}};pp.exports=function(i,e){var n=dv(e);if(i===""||i===null||typeof i>"u")return n.plainObjects?{__proto__:null}:{};for(var o=typeof i=="string"?fv(i,n):i,t=n.plainObjects?{__proto__:null}:{},r=Object.keys(o),A=0;A<r.length;++A){var a=r[A],c=pv(a,o[a],n,typeof i=="string");t=Fn.merge(t,c,n)}return n.allowSparse===!0?t:Fn.compact(t)}});var mp=De((wC,gp)=>{"use strict";var gv=fp(),mv=dp(),yv=hA();gp.exports={formats:yv,parse:mv,stringify:gv}});var Ec=De(Qn=>{"use strict";var vv=yf();function Lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var wv=/^([a-z0-9.+-]+:)/i,xv=/:[0-9]*$/,Iv=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Cv=["<",">",'"',"`"," ","\r",`
`,"	"],Ev=["{","}","|","\\","^","`"].concat(Cv),xc=["'"].concat(Ev),yp=["%","/","?",";","#"].concat(xc),vp=["/","?","#"],bv=255,wp=/^[+a-z0-9A-Z_-]{0,63}$/,Bv=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tv={javascript:!0,"javascript:":!0},Ic={javascript:!0,"javascript:":!0},Pn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Cc=mp();function Oi(i,e,n){if(i&&typeof i=="object"&&i instanceof Lt)return i;var o=new Lt;return o.parse(i,e,n),o}Lt.prototype.parse=function(i,e,n){if(typeof i!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof i);var o=i.indexOf("?"),t=o!==-1&&o<i.indexOf("#")?"?":"#",r=i.split(t),A=/\\/g;r[0]=r[0].replace(A,"/"),i=r.join(t);var a=i;if(a=a.trim(),!n&&i.split("#").length===1){var c=Iv.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Cc.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=wv.exec(a);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&Ic[l])&&(a=a.substr(2),this.slashes=!0)}if(!Ic[l]&&(f||l&&!Pn[l])){for(var h=-1,p=0;p<vp.length;p++){var g=a.indexOf(vp[p]);g!==-1&&(h===-1||g<h)&&(h=g)}var w,y;h===-1?y=a.lastIndexOf("@"):y=a.lastIndexOf("@",h),y!==-1&&(w=a.slice(0,y),a=a.slice(y+1),this.auth=decodeURIComponent(w)),h=-1;for(var p=0;p<yp.length;p++){var g=a.indexOf(yp[p]);g!==-1&&(h===-1||g<h)&&(h=g)}h===-1&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var m=this.hostname.split(/\./),p=0,v=m.length;p<v;p++){var I=m[p];if(I&&!I.match(wp)){for(var E="",B=0,b=I.length;B<b;B++)I.charCodeAt(B)>127?E+="x":E+=I[B];if(!E.match(wp)){var T=m.slice(0,p),S=m.slice(p+1),R=I.match(Bv);R&&(T.push(R[1]),S.unshift(R[2])),S.length&&(a="/"+S.join(".")+a),this.hostname=T.join(".");break}}}this.hostname.length>bv?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=vv.toASCII(this.hostname));var Q=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+Q,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Tv[u])for(var p=0,v=xc.length;p<v;p++){var k=xc[p];if(a.indexOf(k)!==-1){var P=encodeURIComponent(k);P===k&&(P=escape(k)),a=a.split(k).join(P)}}var H=a.indexOf("#");H!==-1&&(this.hash=a.substr(H),a=a.slice(0,H));var U=a.indexOf("?");if(U!==-1?(this.search=a.substr(U),this.query=a.substr(U+1),e&&(this.query=Cc.parse(this.query)),a=a.slice(0,U)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Pn[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Q=this.pathname||"",K=this.search||"";this.path=Q+K}return this.href=this.format(),this};function Sv(i){return typeof i=="string"&&(i=Oi(i)),i instanceof Lt?i.format():Lt.prototype.format.call(i)}Lt.prototype.format=function(){var i=this.auth||"";i&&(i=encodeURIComponent(i),i=i.replace(/%3A/i,":"),i+="@");var e=this.protocol||"",n=this.pathname||"",o=this.hash||"",t=!1,r="";this.host?t=i+this.host:this.hostname&&(t=i+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(t+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(r=Cc.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var A=this.search||r&&"?"+r||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Pn[e])&&t!==!1?(t="//"+(t||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):t||(t=""),o&&o.charAt(0)!=="#"&&(o="#"+o),A&&A.charAt(0)!=="?"&&(A="?"+A),n=n.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),A=A.replace("#","%23"),e+t+n+A+o};function Dv(i,e){return Oi(i,!1,!0).resolve(e)}Lt.prototype.resolve=function(i){return this.resolveObject(Oi(i,!1,!0)).format()};function Mv(i,e){return i?Oi(i,!1,!0).resolveObject(e):e}Lt.prototype.resolveObject=function(i){if(typeof i=="string"){var e=new Lt;e.parse(i,!1,!0),i=e}for(var n=new Lt,o=Object.keys(this),t=0;t<o.length;t++){var r=o[t];n[r]=this[r]}if(n.hash=i.hash,i.href==="")return n.href=n.format(),n;if(i.slashes&&!i.protocol){for(var A=Object.keys(i),a=0;a<A.length;a++){var c=A[a];c!=="protocol"&&(n[c]=i[c])}return Pn[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(i.protocol&&i.protocol!==n.protocol){if(!Pn[i.protocol]){for(var l=Object.keys(i),u=0;u<l.length;u++){var f=l[u];n[f]=i[f]}return n.href=n.format(),n}if(n.protocol=i.protocol,!i.host&&!Ic[i.protocol]){for(var v=(i.pathname||"").split("/");v.length&&!(i.host=v.shift()););i.host||(i.host=""),i.hostname||(i.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),n.pathname=v.join("/")}else n.pathname=i.pathname;if(n.search=i.search,n.query=i.query,n.host=i.host||"",n.auth=i.auth,n.hostname=i.hostname||i.host,n.port=i.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||i.slashes,n.href=n.format(),n}var g=n.pathname&&n.pathname.charAt(0)==="/",w=i.host||i.pathname&&i.pathname.charAt(0)==="/",y=w||g||n.host&&i.pathname,C=y,m=n.pathname&&n.pathname.split("/")||[],v=i.pathname&&i.pathname.split("/")||[],I=n.protocol&&!Pn[n.protocol];if(I&&(n.hostname="",n.port=null,n.host&&(m[0]===""?m[0]=n.host:m.unshift(n.host)),n.host="",i.protocol&&(i.hostname=null,i.port=null,i.host&&(v[0]===""?v[0]=i.host:v.unshift(i.host)),i.host=null),y=y&&(v[0]===""||m[0]==="")),w)n.host=i.host||i.host===""?i.host:n.host,n.hostname=i.hostname||i.hostname===""?i.hostname:n.hostname,n.search=i.search,n.query=i.query,m=v;else if(v.length)m||(m=[]),m.pop(),m=m.concat(v),n.search=i.search,n.query=i.query;else if(i.search!=null){if(I){n.host=m.shift(),n.hostname=n.host;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return n.search=i.search,n.query=i.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!m.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var B=m.slice(-1)[0],b=(n.host||i.host||m.length>1)&&(B==="."||B==="..")||B==="",T=0,S=m.length;S>=0;S--)B=m[S],B==="."?m.splice(S,1):B===".."?(m.splice(S,1),T++):T&&(m.splice(S,1),T--);if(!y&&!C)for(;T--;T)m.unshift("..");y&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")&&m.unshift(""),b&&m.join("/").substr(-1)!=="/"&&m.push("");var R=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(I){n.hostname=R?"":m.length?m.shift():"",n.host=n.hostname;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return y=y||n.host&&m.length,y&&!R&&m.unshift(""),m.length>0?n.pathname=m.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=i.auth||n.auth,n.slashes=n.slashes||i.slashes,n.href=n.format(),n};Lt.prototype.parseHost=function(){var i=this.host,e=xv.exec(i);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),i=i.substr(0,i.length-e.length)),i&&(this.hostname=i)};Qn.parse=Oi;Qn.resolve=Dv;Qn.resolveObject=Mv;Qn.format=Sv;Qn.Url=Lt});var Ip=De((xp,dA)=>{(function(i,e){typeof define=="function"&&define.amd?define([],e):typeof dA=="object"&&dA.exports?dA.exports=e():i.xmlserializer=e()})(xp,function(){var i=function(h){return h.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},n=function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},o=function(h){var p=h.value;return" "+h.name+'="'+e(p)+'"'},t=function(h){var p=h.tagName;return h.namespaceURI==="http://www.w3.org/1999/xhtml"&&(p=p.toLowerCase()),p},r=function(h,p){var g=Array.prototype.map.call(h.attributes||h.attrs,function(w){return w.name}).indexOf("xmlns")>=0;return!g&&(p||h.namespaceURI!==h.parentNode.namespaceURI)?' xmlns="'+h.namespaceURI+'"':""},A=function(h){return Array.prototype.map.call(h.childNodes,function(p){return f(p)}).join("")},a=function(h,p){var g="<"+t(h);return g+=r(h,p),Array.prototype.forEach.call(h.attributes||h.attrs,function(w){g+=o(w)}),h.childNodes.length>0?(g+=">",g+=A(h),g+="</"+t(h)+">"):g+="/>",g},c=function(h){var p=h.nodeValue||h.value||"";return n(p)},l=function(h){return"<!--"+h.data.replace(/-/g,"&#45;")+"-->"},u=function(h){return"<![CDATA["+h.nodeValue+"]]>"},f=function(h,p){var g=p&&p.rootNode;if(h.nodeName==="#document"||h.nodeName==="#document-fragment")return A(h);if(h.tagName)return a(h,g);if(h.nodeName==="#text")return c(h);if(h.nodeName==="#comment")return l(h);if(h.nodeName==="#cdata-section")return u(h)};return{serializeToString:function(h){return i(f(h,{rootNode:!0}))}}})});var bp=De(Ep=>{"use strict";var Rv=function(i){var e=new XMLSerializer;return Array.prototype.map.call(i.childNodes,function(n){return e.serializeToString(n)}).join("")},_v=function(i){if(i.documentElement.tagName==="parsererror"&&i.documentElement.namespaceURI==="http://www.mozilla.org/newlayout/xml/parsererror.xml")return i.documentElement;if((i.documentElement.tagName==="xml"||i.documentElement.tagName==="html")&&i.documentElement.childNodes&&i.documentElement.childNodes.length>0&&i.documentElement.childNodes[0].nodeName==="parsererror")return i.documentElement.childNodes[0];if(i.documentElement.tagName==="html"&&i.documentElement.childNodes&&i.documentElement.childNodes.length>0&&i.documentElement.childNodes[0].nodeName==="body"&&i.documentElement.childNodes[0].childNodes&&i.documentElement.childNodes[0].childNodes.length&&i.documentElement.childNodes[0].childNodes[0].nodeName==="parsererror")return i.documentElement.childNodes[0].childNodes[0]},Cp=[new RegExp(`^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)
?</div>`),new RegExp(`^(.+)
`)],kv=function(i){var e=Rv(i),n,o;for(n=0;n<Cp.length;n++)if(o=Cp[n].exec(e),o)return o[1]},Fv=function(i){var e;if(i===null)throw new Error("Parse error");var n=_v(i);if(n!==void 0)throw e=kv(n)||"Parse error",new Error(e)};Ep.failOnParseError=function(i){return Fv(i),i}});var Ni=De(wt=>{"use strict";var Pv=Ec();wt.getDocumentBaseUrl=function(i){return i.baseURI!=="about:blank"?i.baseURI:null};wt.clone=function(i){var e={},n;for(n in i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e};wt.cloneArray=function(i){return Array.prototype.slice.apply(i,[0])};wt.joinUrl=function(i,e){return i?Pv.resolve(i,e):e};wt.isDataUri=function(i){return/^data:/.test(i)};wt.collectAndReportErrors=function(i){var e=[];return Promise.all(i.map(function(n){return n.catch(function(o){e.push(o)})})).then(function(){return e})};var bc=null,Qv=function(i,e){return e===!1||e==="none"||e==="repeated"?((bc===null||e!=="repeated")&&(bc=Date.now()),i+"?_="+bc):i};wt.ajax=function(i,e){return new Promise(function(n,o){var t=new window.XMLHttpRequest,r=wt.joinUrl(e.baseUrl,i),A,a=function(){o({msg:"Unable to load url",url:r})};A=Qv(r,e.cache),t.addEventListener("load",function(){t.status===200||t.status===0?n(t.response):a()},!1),t.addEventListener("error",a,!1);try{t.open("GET",A,!0),t.overrideMimeType(e.mimeType),t.send(null)}catch{a()}})};wt.binaryAjax=function(i,e){var n=wt.clone(e);return n.mimeType="text/plain; charset=x-user-defined",wt.ajax(i,n).then(function(o){for(var t="",r=0;r<o.length;r++)t+=String.fromCharCode(o.charCodeAt(r)&255);return t})};var Uv=function(i){var e=function(n,o){return n.substring(0,o.length)===o};return e(i,"<?xml")||e(i,"<svg")?"image/svg+xml":"image/png"};wt.getDataURIForImageURL=function(i,e){return wt.binaryAjax(i,e).then(function(n){var o=btoa(n),t=Uv(n);return"data:"+t+";base64,"+o})};var Bc=[],Lv=function(i){return Bc.indexOf(i)<0&&Bc.push(i),Bc.indexOf(i)};wt.memoize=function(i,e,n){if(typeof n!="object")throw new Error("cacheBucket is not an object");return function(){var o=Array.prototype.slice.call(arguments),t=e(o),r=Lv(i),A;return n[r]&&n[r][t]?n[r][t]:(A=i.apply(null,o),n[r]=n[r]||{},n[r][t]=A,A)}}});var Sp=De(Tp=>{"use strict";var Gi=Ni(),Ov=function(i,e){var n=null;i.hasAttribute("src")?n=i.getAttribute("src"):i.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=i.getAttributeNS("http://www.w3.org/1999/xlink","href"):i.hasAttribute("href")&&(n=i.getAttribute("href"));var o=Gi.getDocumentBaseUrl(i.ownerDocument),t=Gi.clone(e);return!t.baseUrl&&o&&(t.baseUrl=o),Gi.getDataURIForImageURL(n,t).then(function(r){return r},function(r){throw{resourceType:"image",url:r.url,msg:"Unable to load image "+r.url}})},Nv=function(i){return i.filter(function(e){var n=null;return e.hasAttribute("src")?n=e.getAttribute("src"):e.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=e.getAttributeNS("http://www.w3.org/1999/xlink","href"):e.hasAttribute("href")&&(n=e.getAttribute("href")),n!==null&&!Gi.isDataUri(n)})},Gv=function(i){return Array.prototype.filter.call(i,function(e){return e.type==="image"})},Bp=function(i){return Array.prototype.slice.call(i)};Tp.inline=function(i,e){var n=Bp(i.getElementsByTagName("img")),o=Bp(i.getElementsByTagName("image")),t=Gv(i.getElementsByTagName("input"));n=n.concat(o),n=n.concat(t);var r=Nv(n);return Gi.collectAndReportErrors(r.map(function(A){return Ov(A,e).then(function(a){A.attributes.src?A.attributes.src.value=a:A.attributes["xlink:href"]?A.attributes["xlink:href"].value=a:A.attributes.href&&(A.attributes.href.value=a)})}))}});var Mp=De(Dp=>{"use strict";var gA=Ni(),zv=function(i,e){var n=i.attributes.src.value,o=gA.getDocumentBaseUrl(i.ownerDocument),t=gA.clone(e);return!t.baseUrl&&o&&(t.baseUrl=o),gA.ajax(n,t).catch(function(r){throw{resourceType:"script",url:r.url,msg:"Unable to load script "+r.url}})},Hv=function(i){return i.replace(/<\//g,"<\\/")},Vv=function(i,e){i.attributes.removeNamedItem("src"),i.textContent=Hv(e)},jv=function(i){var e=i.getElementsByTagName("script");return Array.prototype.filter.call(e,function(n){return!!n.attributes.src})};Dp.inline=function(i,e){var n=jv(i);return gA.collectAndReportErrors(n.map(function(o){return zv(o,e).then(function(t){Vv(o,t)})}))}});var mA=De(kr=>{"use strict";kr.unquoteString=function(i){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(i)?i.replace(e,"$1"):n.test(i)?i.replace(n,"$1"):i};kr.rulesForCssText=function(i){var e=document.implementation.createHTMLDocument(""),n=document.createElement("style"),o;return n.textContent=i,e.body.appendChild(n),o=n.sheet.cssRules,Array.prototype.slice.call(o)};kr.cssRulesToText=function(i){return i.reduce(function(e,n){return e+n.cssText},"")};kr.exchangeRule=function(i,e,n){var o=i.indexOf(e);i[o]=kr.rulesForCssText(n)[0]};kr.changeFontFaceRuleSrc=function(i,e,n){var o="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(o+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(o+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),e.style.getPropertyValue("unicode-range")&&(o+="unicode-range: "+e.style.getPropertyValue("unicode-range")+"; "),o+="src: "+n+"}",kr.exchangeRule(i,e,o)}});var Rp=De(zi=>{"use strict";var Yv=mA(),Wv=function(i){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return i.replace(e,"$1")};zi.extractCssUrl=function(i){var e=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/,n;if(!e.test(i))throw new Error("Invalid url");return n=e.exec(i)[1],Yv.unquoteString(Wv(n))};var qv=function(i){var e=`\\s*(?:"[^"]*"|'[^']*'|[^\\(]+)\\s*`,n="(url\\("+e+"\\)|[^,\\s]+)",o="(?:\\s*"+n+")+",t="^\\s*("+o+")(?:\\s*,\\s*("+o+"))*\\s*$",r=new RegExp(o,"g"),A,a=[],c=function(l){var u=new RegExp(n,"g"),f=[],h;for(h=u.exec(l);h;)f.push(h[1]),h=u.exec(l);return f};if(i.match(new RegExp(t))){for(A=r.exec(i);A;)a.push(c(A[0])),A=r.exec(i);return a}return[]},Kv=function(i){var e,n;for(e=0;e<i.length;e++)try{return n=zi.extractCssUrl(i[e]),{url:n,idx:e}}catch{}};zi.parse=function(i){var e=qv(i);return e.map(function(n){var o=Kv(n);return o?{preUrl:n.slice(0,o.idx),url:o.url,postUrl:n.slice(o.idx+1)}:{preUrl:n}})};zi.serialize=function(i){var e=i.map(function(n){var o=[].concat(n.preUrl);return n.url&&o.push('url("'+n.url+'")'),n.postUrl&&(o=o.concat(n.postUrl)),o.join(" ")});return e.join(", ")}});var kp=De((_p,Tc)=>{(function(i){if(typeof _p=="object"&&typeof Tc<"u")Tc.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.cssFontFaceSrc=i()}})(function(){var i,e,n;return function o(t,r,A){function a(u,f){if(!r[u]){if(!t[u]){var h=typeof Tr=="function"&&Tr;if(!f&&h)return h(u,!0);if(c)return c(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var g=r[u]={exports:{}};t[u][0].call(g.exports,function(w){var y=t[u][1][w];return a(y||w)},g,g.exports,o,t,r,A)}return r[u].exports}for(var c=typeof Tr=="function"&&Tr,l=0;l<A.length;l++)a(A[l]);return a}({1:[function(o,t,r){"use strict";function A(l,u){function f(){this.constructor=l}f.prototype=u.prototype,l.prototype=new f}function a(l,u,f,h){this.message=l,this.expected=u,this.found=f,this.location=h,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a)}A(a,Error),a.buildMessage=function(l,u){var f={literal:function(m){return'"'+p(m.text)+'"'},class:function(m){var v="",I;for(I=0;I<m.parts.length;I++)v+=m.parts[I]instanceof Array?g(m.parts[I][0])+"-"+g(m.parts[I][1]):g(m.parts[I]);return"["+(m.inverted?"^":"")+v+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function h(m){return m.charCodeAt(0).toString(16).toUpperCase()}function p(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+h(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+h(v)})}function g(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+h(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+h(v)})}function w(m){return f[m.type](m)}function y(m){var v=new Array(m.length),I,E;for(I=0;I<m.length;I++)v[I]=w(m[I]);if(v.sort(),v.length>0){for(I=1,E=1;I<v.length;I++)v[I-1]!==v[I]&&(v[E]=v[I],E++);v.length=E}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function C(m){return m?'"'+p(m)+'"':"end of input"}return"Expected "+y(l)+" but "+C(u)+" found."};function c(l,u){u=u!==void 0?u:{};var f={},h={start:_e},p=_e,g="",w=function(){return[]},y=",",C=ne(",",!1),m=function(Z,d){return[Z].concat(d)},v=function(Z){return[Z]},I=function(Z,d){return{url:Z,format:d}},E=function(Z){return{url:Z}},B="url(",b=ne("url(",!1),T=")",S=ne(")",!1),R=function(Z){return Z},Q="format(",M=ne("format(",!1),k="local(",P=ne("local(",!1),H=function(Z){return{local:Z}},U=/^[^)]/,K=Ee([")"],!0,!1),q=function(Z){return Ge.extractValue(Z.join(""))},O=/^[ \t\r\n\f]/,G=Ee([" ","	","\r",`
`,"\f"],!1,!1),_=0,N=0,z=[{line:1,column:1}],Y=0,W=[],ee=0,te;if("startRule"in u){if(!(u.startRule in h))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');p=h[u.startRule]}function re(){return l.substring(N,_)}function se(){return ae(N,_)}function le(Z,d){throw d=d!==void 0?d:ae(N,_),ie([ye(Z)],l.substring(N,_),d)}function Ae(Z,d){throw d=d!==void 0?d:ae(N,_),we(Z,d)}function ne(Z,d){return{type:"literal",text:Z,ignoreCase:d}}function Ee(Z,d,x){return{type:"class",parts:Z,inverted:d,ignoreCase:x}}function Te(){return{type:"any"}}function de(){return{type:"end"}}function ye(Z){return{type:"other",description:Z}}function Be(Z){var d=z[Z],x;if(d)return d;for(x=Z-1;!z[x];)x--;for(d=z[x],d={line:d.line,column:d.column};x<Z;)l.charCodeAt(x)===10?(d.line++,d.column=1):d.column++,x++;return z[Z]=d,d}function ae(Z,d){var x=Be(Z),D=Be(d);return{start:{offset:Z,line:x.line,column:x.column},end:{offset:d,line:D.line,column:D.column}}}function pe(Z){_<Y||(_>Y&&(Y=_,W=[]),W.push(Z))}function we(Z,d){return new a(Z,null,null,d)}function ie(Z,d,x){return new a(a.buildMessage(Z,d),Z,d,x)}function _e(){var Z,d;return Z=fe(),Z===f&&(Z=_,d=g,d!==f&&(N=Z,d=w()),Z=d),Z}function fe(){var Z,d,x,D,F,L;if(Z=_,d=ve(),d!==f){for(x=[],D=Me();D!==f;)x.push(D),D=Me();if(x!==f)if(l.charCodeAt(_)===44?(D=y,_++):(D=f,ee===0&&pe(C)),D!==f){for(F=[],L=Me();L!==f;)F.push(L),L=Me();F!==f?(L=fe(),L!==f?(N=Z,d=m(d,L),Z=d):(_=Z,Z=f)):(_=Z,Z=f)}else _=Z,Z=f;else _=Z,Z=f}else _=Z,Z=f;return Z===f&&(Z=_,d=ve(),d!==f&&(N=Z,d=v(d)),Z=d),Z}function ve(){var Z;return Z=ge(),Z===f&&(Z=Ce()),Z}function ge(){var Z,d,x,D;if(Z=_,d=Pe(),d!==f){if(x=[],D=Me(),D!==f)for(;D!==f;)x.push(D),D=Me();else x=f;x!==f?(D=Ie(),D!==f?(N=Z,d=I(d,D),Z=d):(_=Z,Z=f)):(_=Z,Z=f)}else _=Z,Z=f;return Z===f&&(Z=_,d=Pe(),d!==f&&(N=Z,d=E(d)),Z=d),Z}function Pe(){var Z,d,x,D;return Z=_,l.substr(_,4)===B?(d=B,_+=4):(d=f,ee===0&&pe(b)),d!==f?(x=be(),x!==f?(l.charCodeAt(_)===41?(D=T,_++):(D=f,ee===0&&pe(S)),D!==f?(N=Z,d=R(x),Z=d):(_=Z,Z=f)):(_=Z,Z=f)):(_=Z,Z=f),Z}function Ie(){var Z,d,x,D;return Z=_,l.substr(_,7)===Q?(d=Q,_+=7):(d=f,ee===0&&pe(M)),d!==f?(x=be(),x!==f?(l.charCodeAt(_)===41?(D=T,_++):(D=f,ee===0&&pe(S)),D!==f?(N=Z,d=R(x),Z=d):(_=Z,Z=f)):(_=Z,Z=f)):(_=Z,Z=f),Z}function Ce(){var Z,d,x,D;return Z=_,l.substr(_,6)===k?(d=k,_+=6):(d=f,ee===0&&pe(P)),d!==f?(x=be(),x!==f?(l.charCodeAt(_)===41?(D=T,_++):(D=f,ee===0&&pe(S)),D!==f?(N=Z,d=H(x),Z=d):(_=Z,Z=f)):(_=Z,Z=f)):(_=Z,Z=f),Z}function be(){var Z,d,x;if(Z=_,d=[],U.test(l.charAt(_))?(x=l.charAt(_),_++):(x=f,ee===0&&pe(K)),x!==f)for(;x!==f;)d.push(x),U.test(l.charAt(_))?(x=l.charAt(_),_++):(x=f,ee===0&&pe(K));else d=f;return d!==f&&(N=Z,d=q(d)),Z=d,Z}function Me(){var Z;return O.test(l.charAt(_))?(Z=l.charAt(_),_++):(Z=f,ee===0&&pe(G)),Z}var Ge=o("../util");if(te=p(),te!==f&&_===l.length)return te;throw te!==f&&_<l.length&&pe(de()),ie(W,Y<l.length?l.charAt(Y):null,Y<l.length?ae(Y,Y+1):ae(Y,Y))}t.exports={SyntaxError:a,parse:c}},{"../util":3}],2:[function(o,t,r){var A=o("./grammar");r.SyntaxError=function(a,c){this.message=a,this.offset=c},r.parse=function(a){try{return A.parse(a)}catch(c){throw new r.SyntaxError(c.message,c.offset)}},r.serialize=function(a){return a.map(function(c){var l;return c.url?(l='url("'+c.url+'")',c.format&&(l+=' format("'+c.format+'")')):l='local("'+c.local+'")',l}).join(", ")}},{"./grammar":1}],3:[function(o,t,r){var A=function(c){var l=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return c.replace(l,"$1")},a=function(c){var l=/^"(.*)"$/,u=/^'(.*)'$/;return l.test(c)?c.replace(l,"$1"):u.test(c)?c.replace(u,"$1"):c};r.extractValue=function(c){return a(A(c))}},{}]},{},[2])(2)})});var zp=De(Un=>{"use strict";var Yt=Ni(),Hi=mA(),yA=Rp(),vA=kp(),Pp=function(i,e,n){i.style.setProperty(e,n,i.style.getPropertyPriority(e))},Qp=function(i){return i.filter(function(e){return e.type===window.CSSRule.STYLE_RULE&&(e.style.getPropertyValue("background-image")||e.style.getPropertyValue("background"))})},Up=function(i){var e=[];return i.forEach(function(n){n.style.getPropertyValue("background-image")?e.push({property:"background-image",value:n.style.getPropertyValue("background-image"),rule:n}):n.style.getPropertyValue("background")&&e.push({property:"background",value:n.style.getPropertyValue("background"),rule:n})}),e},Lp=function(i){return i.filter(function(e){return e.type===window.CSSRule.FONT_FACE_RULE&&e.style.getPropertyValue("src")})},Op=function(i){return i.filter(function(e){return e.type===window.CSSRule.IMPORT_RULE&&e.href})},Np=function(i){var e=[];return i.forEach(function(n,o){n.url&&!Yt.isDataUri(n.url)&&e.push(o)}),e},Gp=function(i){var e=[];return i.forEach(function(n,o){n.url&&!Yt.isDataUri(n.url)&&e.push(o)}),e};Un.adjustPathsOfCssResources=function(i,e){var n=Qp(e),o=Up(n),t=!1;return o.forEach(function(r){var A=yA.parse(r.value),a=Np(A),c;a.length>0&&(a.forEach(function(l){var u=A[l].url,f=Yt.joinUrl(i,u);A[l].url=f}),c=yA.serialize(A),Pp(r.rule,r.property,c),t=!0)}),Lp(e).forEach(function(r){var A=r.style.getPropertyValue("src"),a,c;try{a=vA.parse(A)}catch{return}c=Gp(a),c.length>0&&(c.forEach(function(l){var u=a[l].url,f=Yt.joinUrl(i,u);a[l].url=f}),Hi.changeFontFaceRuleSrc(e,r,vA.serialize(a)),t=!0)}),Op(e).forEach(function(r){var A=r.href,a=Yt.joinUrl(i,A);Hi.exchangeRule(e,r,"@import url("+a+");"),t=!0}),t};var Fp=function(i,e,n){var o=i.indexOf(e);i.splice(o,1),n.forEach(function(t,r){i.splice(o+r,0,t)})},Jv=function(i,e,n,o){var t=e.href,r;return t=Hi.unquoteString(t),r=Yt.joinUrl(o.baseUrl,t),n.indexOf(r)>=0?(Fp(i,e,[]),Promise.resolve([])):(n.push(r),Yt.ajax(t,o).then(function(A){var a=Hi.rulesForCssText(A);return Un.loadCSSImportsForRules(a,n,o).then(function(c){return Un.adjustPathsOfCssResources(t,a),Fp(i,e,a),c.errors})},function(A){throw{resourceType:"stylesheet",url:A.url,msg:"Unable to load stylesheet "+A.url}}))};Un.loadCSSImportsForRules=function(i,e,n){var o=Op(i),t=[],r=!1;return Promise.all(o.map(function(A){return Jv(i,A,e,n).then(function(a){t=t.concat(a),r=!0},function(a){t.push(a)})})).then(function(){return{hasChanges:r,errors:t}})};var Xv=function(i,e){var n=yA.parse(i),o=Np(n),t=!1;return Yt.collectAndReportErrors(o.map(function(r){var A=n[r].url;return Yt.getDataURIForImageURL(A,e).then(function(a){n[r].url=a,t=!0},function(a){throw{resourceType:"backgroundImage",url:a.url,msg:"Unable to load background-image "+a.url}})})).then(function(r){return{backgroundValue:yA.serialize(n),hasChanges:t,errors:r}})},Zv=function(i,e){var n=Qp(i),o=Up(n),t=[],r=!1;return Promise.all(o.map(function(A){return Xv(A.value,e).then(function(a){a.hasChanges&&(Pp(A.rule,A.property,a.backgroundValue),r=!0),t=t.concat(a.errors)})})).then(function(){return{hasChanges:r,errors:t}})},$v=function(i,e){var n=!1,o,t;try{o=vA.parse(i)}catch{o=[]}return t=Gp(o),Yt.collectAndReportErrors(t.map(function(r){var A=o[r],a=A.format||"woff";return Yt.binaryAjax(A.url,e).then(function(c){var l=btoa(c);A.url="data:font/"+a+";base64,"+l,n=!0},function(c){throw{resourceType:"fontFace",url:c.url,msg:"Unable to load font-face "+c.url}})})).then(function(r){return{srcDeclarationValue:vA.serialize(o),hasChanges:n,errors:r}})},ew=function(i,e){var n=Lp(i),o=[],t=!1;return Promise.all(n.map(function(r){var A=r.style.getPropertyValue("src");return $v(A,e).then(function(a){a.hasChanges&&(Hi.changeFontFaceRuleSrc(i,r,a.srcDeclarationValue),t=!0),o=o.concat(a.errors)})})).then(function(){return{hasChanges:t,errors:o}})};Un.loadAndInlineCSSResourcesForRules=function(i,e){var n=!1,o=[];return Promise.all([Zv,ew].map(function(t){return t(i,e).then(function(r){n=n||r.hasChanges,o=o.concat(r.errors)})})).then(function(){return{hasChanges:n,errors:o}})}});var Vp=De(ar=>{"use strict";var vr=Ni(),tw=Sp(),rw=Mp(),Vi=zp(),wA=mA(),nw=function(i){return vr.joinUrl(i,".")},iw=function(i){var e=i.map(function(n,o){return o===i.length-1&&(n={baseUrl:nw(n.baseUrl)}),JSON.stringify(n)});return e},Hp=function(i,e){return e.cache!==!1&&e.cache!=="none"&&e.cacheBucket?vr.memoize(i,iw,e.cacheBucket):i},ow=function(i,e,n){var o=wA.rulesForCssText(i);return Vi.loadCSSImportsForRules(o,e,n).then(function(t){return Vi.loadAndInlineCSSResourcesForRules(o,n).then(function(r){var A=t.errors.concat(r.errors),a=t.hasChanges||r.hasChanges;return a&&(i=wA.cssRulesToText(o)),{hasChanges:a,content:i,errors:A}})})},Aw=function(i,e,n){var o=i.textContent,t=Hp(ow,e);return t(o,n,e).then(function(r){return r.hasChanges&&(i.childNodes[0].nodeValue=r.content),vr.cloneArray(r.errors)})},sw=function(i){var e=i.getElementsByTagName("style");return Array.prototype.filter.call(e,function(n){return!n.attributes.type||n.attributes.type.value==="text/css"})};ar.loadAndInlineStyles=function(i,e){var n=sw(i),o=[],t=[],r;return r=vr.clone(e),r.baseUrl=r.baseUrl||vr.getDocumentBaseUrl(i),Promise.all(n.map(function(A){return Aw(A,r,t).then(function(a){o=o.concat(a)})})).then(function(){return o})};var aw=function(i,e){var n=i.parentNode,o;e=e.trim(),e&&(o=i.ownerDocument.createElement("style"),o.type="text/css",o.appendChild(i.ownerDocument.createTextNode(e)),n.insertBefore(o,i)),n.removeChild(i)},cw=function(i,e){return vr.ajax(i,e).then(function(n){var o=wA.rulesForCssText(n);return{content:n,cssRules:o}}).then(function(n){var o=Vi.adjustPathsOfCssResources(i,n.cssRules);return{content:n.content,cssRules:n.cssRules,hasChanges:o}}).then(function(n){return Vi.loadCSSImportsForRules(n.cssRules,[],e).then(function(o){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||o.hasChanges,errors:o.errors}})}).then(function(n){return Vi.loadAndInlineCSSResourcesForRules(n.cssRules,e).then(function(o){return{content:n.content,cssRules:n.cssRules,hasChanges:n.hasChanges||o.hasChanges,errors:n.errors.concat(o.errors)}})}).then(function(n){var o=n.content;return n.hasChanges&&(o=wA.cssRulesToText(n.cssRules)),{content:o,errors:n.errors}})},lw=function(i,e){var n=i.attributes.href.value,o=vr.getDocumentBaseUrl(i.ownerDocument),t=vr.clone(e);!t.baseUrl&&o&&(t.baseUrl=o);var r=Hp(cw,e);return r(n,t).then(function(A){return{content:A.content,errors:vr.cloneArray(A.errors)}})},uw=function(i){var e=i.getElementsByTagName("link");return Array.prototype.filter.call(e,function(n){return n.attributes.rel&&n.attributes.rel.value==="stylesheet"&&(!n.attributes.type||n.attributes.type.value==="text/css")})};ar.loadAndInlineCssLinks=function(i,e){var n=uw(i),o=[];return Promise.all(n.map(function(t){return lw(t,e).then(function(r){aw(t,r.content+`
`),o=o.concat(r.errors)},function(r){o.push({resourceType:"stylesheet",url:r.url,msg:"Unable to load stylesheet "+r.url})})})).then(function(){return o})};ar.loadAndInlineImages=tw.inline;ar.loadAndInlineScript=rw.inline;ar.inlineReferences=function(i,e){var n=[],o=[ar.loadAndInlineImages,ar.loadAndInlineStyles,ar.loadAndInlineCssLinks];return e.inlineScripts!==!1&&o.push(ar.loadAndInlineScript),Promise.all(o.map(function(t){return t(i,e).then(function(r){n=n.concat(r)})})).then(function(){return n})}});var Yp=De((jp,xA)=>{(function(i,e){i===void 0&&window!==void 0&&(i=window),typeof define=="function"&&define.amd?define(["url","xmlserializer","sane-domparser-error","inlineresources"],function(n,o,t,r){return i.rasterizeHTML=e(n,o,t,r)}):typeof xA=="object"&&xA.exports?xA.exports=e(Ec(),Ip(),bp(),Vp()):i.rasterizeHTML=e(i.url,i.xmlserializer,i.sanedomparsererror,i.inlineresources)})(jp,function(i,e,n,o){var t=function(p){"use strict";var g={},w=[];g.joinUrl=function(m,v){return m?p.resolve(m,v):v},g.getConstantUniqueIdFor=function(m){return w.indexOf(m)<0&&w.push(m),w.indexOf(m)},g.clone=function(m){var v={},I;for(I in m)m.hasOwnProperty(I)&&(v[I]=m[I]);return v};var y=function(m){return typeof m=="object"&&m!==null},C=function(m){return y(m)&&Object.prototype.toString.apply(m).match(/\[object (Canvas|HTMLCanvasElement)\]/i)};return g.parseOptionalParameters=function(m){var v={canvas:null,options:{}};return m[0]==null||C(m[0])?(v.canvas=m[0]||null,v.options=g.clone(m[1])):v.options=g.clone(m[0]),v},g}(i),r=function(p){"use strict";var g={},w=function(y,C,m){var v=y[C];return y[C]=function(){var I=Array.prototype.slice.call(arguments);return m.apply(this,[I,v])},v};return g.baseUrlRespectingXhr=function(y,C){var m=function(){var v=new y;return w(v,"open",function(I,E){var B=I.shift(),b=I.shift(),T=p.joinUrl(C,b);return E.apply(this,[B,T].concat(I))}),v};return m},g.finishNotifyingXhr=function(y){var C=0,m=0,v=!1,I,E=new Promise(function(b){I=function(){var T=C-m;T<=0&&v&&b({totalCount:C})}}),B=function(){var b=new y;return w(b,"send",function(T,S){return C+=1,S.apply(this,arguments)}),b.addEventListener("load",function(){m+=1,I()}),b};return B.waitForRequestsToFinish=function(){return v=!0,I(),E},B},g}(t),A=function(){"use strict";var p={},g=function(B){return Array.prototype.slice.call(B)};p.addClassName=function(B,b){B.className+=" "+b},p.addClassNameRecursively=function(B,b){p.addClassName(B,b),B.parentNode!==B.ownerDocument&&p.addClassNameRecursively(B.parentNode,b)};var w=function(B,b){var T=B.parentStyleSheet,S=g(T.cssRules).indexOf(B);T.insertRule(b,S+1),T.deleteRule(S)},y=function(B,b){var T=B.cssText.replace(/^[^\{]+/,""),S=b+" "+T;w(B,S)},C=function(B){return g(B).reduce(function(b,T){return b+T.cssText},"")},m=function(B){B.textContent=C(B.sheet.cssRules)},v=function(B){var b=document.implementation.createHTMLDocument(""),T=document.createElement("style");T.textContent=B.textContent,b.body.appendChild(T),B.sheet=T.sheet},I=function(B){return"((?:^|[^.#:\\w])|(?=\\W))("+B.join("|")+")(?=\\W|$)"},E=function(B,b,T){var S=I(b);g(B.querySelectorAll("style")).forEach(function(R){typeof R.sheet>"u"&&v(R);var Q=g(R.sheet.cssRules).filter(function(M){return M.selectorText&&new RegExp(S,"i").test(M.selectorText)});Q.length&&(Q.forEach(function(M){var k=M.selectorText.replace(new RegExp(S,"gi"),function(P,H,U){return H+T(U)});k!==M.selectorText&&y(M,k)}),m(R))})};return p.rewriteCssSelectorWith=function(B,b,T){E(B,[b],function(){return T})},p.lowercaseCssTypeSelectors=function(B,b){E(B,b,function(T){return T.toLowerCase()})},p.findHtmlOnlyNodeNames=function(B){var b=B.ownerDocument.createTreeWalker(B,NodeFilter.SHOW_ELEMENT),T={},S={},R;do R=b.currentNode.tagName.toLowerCase(),b.currentNode.namespaceURI==="http://www.w3.org/1999/xhtml"?T[R]=!0:S[R]=!0;while(b.nextNode());return Object.keys(T).filter(function(Q){return!S[Q]})},p}(),a=function(p){"use strict";var g={},w=function(C){return Array.prototype.slice.call(C)},y={active:!0,hover:!0,focus:!1,target:!1};return g.fakeUserAction=function(C,m,v){var I=C.querySelector(m),E=":"+v,B="rasterizehtml"+v;I&&(y[v]?p.addClassNameRecursively(I,B):p.addClassName(I,B),p.rewriteCssSelectorWith(C,E,"."+B))},g.persistInputValues=function(C){var m=C.querySelectorAll("input"),v=C.querySelectorAll("textarea"),I=function(E){return E.type==="checkbox"||E.type==="radio"};w(m).filter(I).forEach(function(E){E.checked?E.setAttribute("checked",""):E.removeAttribute("checked")}),w(m).filter(function(E){return!I(E)}).forEach(function(E){E.setAttribute("value",E.value)}),w(v).forEach(function(E){E.textContent=E.value})},g.rewriteTagNameSelectorsToLowerCase=function(C){p.lowercaseCssTypeSelectors(C,p.findHtmlOnlyNodeNames(C))},g}(A),c=function(p,g,w,y){"use strict";var C={},m=function(U,K,q,O){var G=U.createElement(K);return G.style.visibility="hidden",G.style.width=q+"px",G.style.height=O+"px",G.style.position="absolute",G.style.top=-1e4-O+"px",G.style.left=-1e4-q+"px",U.getElementsByTagName("body")[0].appendChild(G),G},v=function(U){return U>0?new Promise(function(K){setTimeout(K,U)}):Promise.resolve()};C.executeJavascript=function(U,K){return new Promise(function(q){var O=m(y.document,"iframe",K.width,K.height),G=U.outerHTML,_=[],N=K.executeJsTimeout||0,z=function(){y.document.getElementsByTagName("body")[0].removeChild(O)},Y=function(){var re=O.contentDocument;q({document:re,errors:_,cleanUp:z})},W=O.contentWindow.XMLHttpRequest,ee=g.finishNotifyingXhr(W),te=g.baseUrlRespectingXhr(ee,K.baseUrl);O.onload=function(){v(N).then(ee.waitForRequestsToFinish).then(Y)},O.contentDocument.open(),O.contentWindow.XMLHttpRequest=te,O.contentWindow.onerror=function(re){_.push({resourceType:"scriptExecution",msg:re})},O.contentDocument.write("<!DOCTYPE html>"),O.contentDocument.write(G),O.contentDocument.close()})};var I=function(U,K,q){var O=U.createElement("iframe");return O.style.width=K+"px",O.style.height=q+"px",O.style.visibility="hidden",O.style.position="absolute",O.style.top=-1e4-q+"px",O.style.left=-1e4-K+"px",O.style.borderWidth=0,O.sandbox="allow-same-origin",O.scrolling="no",O},E=function(U,K,q){var O=Math.floor(U/q),G=Math.floor(K/q);return I(y.document,O,G)},B=function(U,K,q,O){return{width:Math.max(U.width*O,K),height:Math.max(U.height*O,q)}},b=function(U,K){var q=U.querySelector(K);if(q)return q;if(U.ownerDocument.querySelector(K)===U)return U;throw{message:"Clipping selector not found"}},T=function(U,K,q,O,G){var _=Math.max(U.scrollWidth,U.clientWidth),N=Math.max(U.scrollHeight,U.clientHeight),z,Y,W,ee,te,re,se,le;return K?(re=b(U,K),se=re.getBoundingClientRect(),z=se.top,Y=se.left,W=se.width,ee=se.height):(z=0,Y=0,W=_,ee=N),le=B({width:W,height:ee},q,O,G),te=y.getComputedStyle(U.ownerDocument.documentElement).fontSize,{left:Y,top:z,width:le.width,height:le.height,viewportWidth:_,viewportHeight:N,rootFontSize:te}},S=function(U,K){var q=U.tagName;return K.querySelector(q)},R=function(U){var K=U.tagName.toLowerCase();return K==="html"||K==="body"?U.outerHTML:'<body style="margin: 0;">'+U.outerHTML+"</body>"};C.calculateDocumentContentSize=function(U,K){return new Promise(function(q,O){var G=K.zoom||1,_;_=E(K.width,K.height,G),y.document.getElementsByTagName("body")[0].appendChild(_),_.onload=function(){var N=_.contentDocument,z;try{z=T(S(U,N),K.clip,K.width,K.height,G),q(z)}catch(Y){O(Y)}finally{y.document.getElementsByTagName("body")[0].removeChild(_)}},_.contentDocument.open(),_.contentDocument.write("<!DOCTYPE html>"),_.contentDocument.write(R(U)),_.contentDocument.close()})},C.parseHtmlFragment=function(U){var K=y.document.implementation.createHTMLDocument("");K.documentElement.innerHTML=U;var q=K.querySelector("body").firstChild;if(!q)throw"Invalid source";return q};var Q=function(U,K){var q=/<html((?:\s+[^>]*)?)>/im.exec(K),O=y.document.implementation.createHTMLDocument(""),G,_,N,z;if(q)for(G="<div"+q[1]+"></div>",O.documentElement.innerHTML=G,N=O.querySelector("div"),_=0;_<N.attributes.length;_++)z=N.attributes[_],U.documentElement.setAttribute(z.name,z.value)};C.parseHTML=function(U){var K=y.document.implementation.createHTMLDocument("");return K.documentElement.innerHTML=U,Q(K,U),K};var M=function(U){try{return w.failOnParseError(U)}catch(K){throw{message:"Invalid source",originalError:K}}};C.validateXHTML=function(U){var K=new DOMParser,q=K.parseFromString(U,"application/xml");M(q)};var k=null,P=function(U,K){return K==="none"||K==="repeated"?((k===null||K!=="repeated")&&(k=Date.now()),U+"?_="+k):U},H=function(U,K){return new Promise(function(q,O){var G=new window.XMLHttpRequest,_=p.joinUrl(K.baseUrl,U),N=P(_,K.cache),z=function(Y){O({message:"Unable to load page",originalError:Y})};G.addEventListener("load",function(){G.status===200||G.status===0?q(G.responseXML):z(G.statusText)},!1),G.addEventListener("error",function(Y){z(Y)},!1);try{G.open("GET",N,!0),G.responseType="document",G.send(null)}catch(Y){z(Y)}})};return C.loadDocument=function(U,K){return H(U,K).then(function(q){return M(q)})},C}(t,r,n,window),l=function(p){"use strict";var g={},w=function(S,R){return R?URL.createObjectURL(new Blob([S],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(S)},y=function(S){S instanceof Blob&&URL.revokeObjectURL(S)},C='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',m=function(S){return new Promise(function(R,Q){var M=document.createElement("canvas"),k=new Image;k.onload=function(){var P=M.getContext("2d");try{P.drawImage(k,0,0),M.toDataURL("image/png"),R(!0)}catch{R(!1)}},k.onerror=Q,k.src=S})},v=function(){var S=w(C,!0);return m(S).then(function(R){return y(S),R?!1:m(w(C,!1)).then(function(Q){return Q})},function(){return!1})},I=function(){if(p.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch{}return!1},E=function(){return new Promise(function(S,R){I()&&p.URL?v().then(function(Q){S(!Q)},function(){R()}):S(!1)})},B,b=function(){return B===void 0&&(B=E()),B},T=function(S){return b().then(function(R){return w(S,R)})};return g.renderSvg=function(S){return new Promise(function(R,Q){var M,k,P=function(){k.onload=null,k.onerror=null},H=function(){M&&y(M)};k=new Image,k.onload=function(){P(),H(),R(k)},k.onerror=function(){H(),Q()},T(S).then(function(U){M=U,k.src=M},Q)})},g}(window),u=function(p,g,w,y){"use strict";var C={},m=function(S,R){var Q=R||1,M={width:S.width,height:S.height,"font-size":S.rootFontSize};return Q!==1&&(M.style="transform:scale("+Q+"); transform-origin: 0 0;"),M},v=function(S){var R,Q,M,k;R=Math.round(S.viewportWidth),Q=Math.round(S.viewportHeight),M=-S.left,k=-S.top;var P={x:M,y:k,width:R,height:Q};return P},I=function(S){var R=S.style||"";S.style=R+"float: left;"},E=function(S){S.externalResourcesRequired=!0},B=function(){return'<style scoped="">html::-webkit-scrollbar { display: none; }</style>'},b=function(S){var R=Object.keys(S);return R.length?" "+R.map(function(Q){return Q+'="'+S[Q]+'"'}).join(" "):""},T=function(S,R,Q){var M=y.serializeToString(S);g.validateXHTML(M);var k=v(R);return I(k),E(k),'<svg xmlns="http://www.w3.org/2000/svg"'+b(m(R,Q))+">"+B()+"<foreignObject"+b(k)+">"+M+"</foreignObject></svg>"};return C.getSvgForDocument=function(S,R,Q){return w.rewriteTagNameSelectorsToLowerCase(S),T(S,R,Q)},C.drawDocumentAsSvg=function(S,R){return["hover","active","focus","target"].forEach(function(Q){R[Q]&&w.fakeUserAction(S,R[Q],Q)}),g.calculateDocumentContentSize(S,R).then(function(Q){return C.getSvgForDocument(S,Q,R.zoom)})},C}(t,c,a,e),f=function(p,g,w,y,C,m){"use strict";var v={},I=function(S){return{message:"Error rendering page",originalError:S}},E=function(S){return C.renderSvg(S).then(function(R){return{image:R,svg:S}},function(R){throw I(R)})},B=function(S,R){try{R.getContext("2d").drawImage(S,0,0)}catch(Q){throw I(Q)}},b=function(S,R,Q){return y.drawDocumentAsSvg(S,Q).then(E).then(function(M){return R&&B(M.image,R),M})},T=function(S,R){return g.executeJavascript(S,R).then(function(Q){var M=Q.document;return w.persistInputValues(M),{document:M,errors:Q.errors,cleanUp:Q.cleanUp}})};return v.rasterize=function(S,R,Q){var M;return M=p.clone(Q),M.inlineScripts=Q.executeJs===!0,m.inlineReferences(S,M).then(function(k){return Q.executeJs?T(S,Q).then(function(P){return{element:P.document.documentElement,errors:k.concat(P.errors),cleanUp:P.cleanUp}}):{element:S,errors:k,cleanUp:function(){}}}).then(function(k){return b(k.element,R,Q).then(function(P){return k.cleanUp(),{image:P.image,svg:P.svg,errors:k.errors}})})},v}(t,c,a,u,l,o),h=function(p,g,w){"use strict";var y={},C=function(B,b){var T=300,S=200,R=B?B.width:T,Q=B?B.height:S,M=b.width!==void 0?b.width:R,k=b.height!==void 0?b.height:Q;return{width:M,height:k}},m=function(B){var b=C(B.canvas,B.options),T;return T=p.clone(B.options),T.width=b.width,T.height=b.height,T};y.drawDocument=function(){var B=arguments[0],b=Array.prototype.slice.call(arguments,1),T=p.parseOptionalParameters(b),S=B.documentElement?B.documentElement:B;return w.rasterize(S,T.canvas,m(T))};var v=function(B,b,T){var S=g.parseHTML(B);return y.drawDocument(S,b,T)};y.drawHTML=function(){var B=arguments[0],b=Array.prototype.slice.call(arguments,1),T=p.parseOptionalParameters(b);return v(B,T.canvas,T.options)};var I=function(B,b,T){var S=document.implementation.createHTMLDocument("");S.replaceChild(B.documentElement,S.documentElement);var R=T?p.clone(T):{};return T.baseUrl||(R.baseUrl=b),{document:S,options:R}},E=function(B,b,T){return g.loadDocument(B,T).then(function(S){var R=I(S,B,T);return y.drawDocument(R.document,b,R.options)})};return y.drawURL=function(){var B=arguments[0],b=Array.prototype.slice.call(arguments,1),T=p.parseOptionalParameters(b);return E(B,T.canvas,T.options)},y}(t,c,f);return h})});var kx=new j,Fx=new _t,Px=new j,Qo=class extends Ft{constructor(e=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof n.element.ownerDocument.defaultView.Element&&n.element.parentNode!==null&&n.element.remove()})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this}};var Qx=new Fe,Ux=new Fe;var Ys={};Ss(Ys,{computeMikkTSpaceTangents:()=>Ug,computeMorphedAttributes:()=>Vg,deepCloneAttribute:()=>Og,deinterleaveAttribute:()=>Uo,deinterleaveGeometry:()=>Gg,estimateBytesUsed:()=>zg,interleaveAttributes:()=>Ng,mergeAttributes:()=>js,mergeGeometries:()=>Lg,mergeGroups:()=>jg,mergeVertices:()=>Hg,toCreasedNormals:()=>Yg,toTrianglesDrawMode:()=>Lo});function Ug(i,e,n=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!i.hasAttribute("position")||!i.hasAttribute("normal")||!i.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function o(A){if(A.normalized||A.isInterleavedBufferAttribute){let a=new Float32Array(A.count*A.itemSize);for(let c=0,l=0;c<A.count;c++)a[l++]=A.getX(c),a[l++]=A.getY(c),A.itemSize>2&&(a[l++]=A.getZ(c));return a}return A.array instanceof Float32Array?A.array:new Float32Array(A.array)}let t=i.index?i.toNonIndexed():i,r=e.generateTangents(o(t.attributes.position),o(t.attributes.normal),o(t.attributes.uv));if(n)for(let A=3;A<r.length;A+=4)r[A]*=-1;return t.setAttribute("tangent",new je(r,4)),i!==t&&i.copy(t),i}function Lg(i,e=!1){let n=i[0].index!==null,o=new Set(Object.keys(i[0].attributes)),t=new Set(Object.keys(i[0].morphAttributes)),r={},A={},a=i[0].morphTargetsRelative,c=new lt,l=0;for(let u=0;u<i.length;++u){let f=i[u],h=0;if(n!==(f.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let p in f.attributes){if(!o.has(p))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;r[p]===void 0&&(r[p]=[]),r[p].push(f.attributes[p]),h++}if(h!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(a!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let p in f.morphAttributes){if(!t.has(p))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;A[p]===void 0&&(A[p]=[]),A[p].push(f.morphAttributes[p])}if(e){let p;if(n)p=f.index.count;else if(f.attributes.position!==void 0)p=f.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;c.addGroup(l,p,u),l+=p}}if(n){let u=0,f=[];for(let h=0;h<i.length;++h){let p=i[h].index;for(let g=0;g<p.count;++g)f.push(p.getX(g)+u);u+=i[h].attributes.position.count}c.setIndex(f)}for(let u in r){let f=js(r[u]);if(!f)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" attribute."),null;c.setAttribute(u,f)}for(let u in A){let f=A[u][0].length;if(f===0)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[u]=[];for(let h=0;h<f;++h){let p=[];for(let w=0;w<A[u].length;++w)p.push(A[u][w][h]);let g=js(p);if(!g)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+u+" morphAttribute."),null;c.morphAttributes[u].push(g)}}return c}function js(i){let e,n,o,t=-1,r=0;for(let l=0;l<i.length;++l){let u=i[l];if(e===void 0&&(e=u.array.constructor),e!==u.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=u.itemSize),n!==u.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(o===void 0&&(o=u.normalized),o!==u.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(t===-1&&(t=u.gpuType),t!==u.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;r+=u.count*n}let A=new e(r),a=new je(A,n,o),c=0;for(let l=0;l<i.length;++l){let u=i[l];if(u.isInterleavedBufferAttribute){let f=c/n;for(let h=0,p=u.count;h<p;h++)for(let g=0;g<n;g++){let w=u.getComponent(h,g);a.setComponent(h+f,g,w)}}else A.set(u.array,c);c+=u.count*n}return t!==void 0&&(a.gpuType=t),a}function Og(i){return i.isInstancedInterleavedBufferAttribute||i.isInterleavedBufferAttribute?Uo(i):i.isInstancedBufferAttribute?new Vr().copy(i):new je().copy(i)}function Ng(i){let e,n=0,o=0;for(let l=0,u=i.length;l<u;++l){let f=i[l];if(e===void 0&&(e=f.array.constructor),e!==f.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=f.array.length,o+=f.itemSize}let t=new yn(new e(n),o),r=0,A=[],a=["getX","getY","getZ","getW"],c=["setX","setY","setZ","setW"];for(let l=0,u=i.length;l<u;l++){let f=i[l],h=f.itemSize,p=f.count,g=new nr(t,h,r,f.normalized);A.push(g),r+=h;for(let w=0;w<p;w++)for(let y=0;y<h;y++)g[c[y]](w,f[a[y]](w))}return A}function Uo(i){let e=i.data.array.constructor,n=i.count,o=i.itemSize,t=i.normalized,r=new e(n*o),A;i.isInstancedInterleavedBufferAttribute?A=new Vr(r,o,t,i.meshPerAttribute):A=new je(r,o,t);for(let a=0;a<n;a++)A.setX(a,i.getX(a)),o>=2&&A.setY(a,i.getY(a)),o>=3&&A.setZ(a,i.getZ(a)),o>=4&&A.setW(a,i.getW(a));return A}function Gg(i){let e=i.attributes,n=i.morphTargets,o=new Map;for(let t in e){let r=e[t];r.isInterleavedBufferAttribute&&(o.has(r)||o.set(r,Uo(r)),e[t]=o.get(r))}for(let t in n){let r=n[t];r.isInterleavedBufferAttribute&&(o.has(r)||o.set(r,Uo(r)),n[t]=o.get(r))}}function zg(i){let e=0;for(let o in i.attributes){let t=i.getAttribute(o);e+=t.count*t.itemSize*t.array.BYTES_PER_ELEMENT}let n=i.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0,e}function Hg(i,e=1e-4){e=Math.max(e,Number.EPSILON);let n={},o=i.getIndex(),t=i.getAttribute("position"),r=o?o.count:t.count,A=0,a=Object.keys(i.attributes),c={},l={},u=[],f=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"];for(let m=0,v=a.length;m<v;m++){let I=a[m],E=i.attributes[I];c[I]=new E.constructor(new E.array.constructor(E.count*E.itemSize),E.itemSize,E.normalized);let B=i.morphAttributes[I];B&&(l[I]||(l[I]=[]),B.forEach((b,T)=>{let S=new b.array.constructor(b.count*b.itemSize);l[I][T]=new b.constructor(S,b.itemSize,b.normalized)}))}let p=e*.5,g=Math.log10(1/e),w=Math.pow(10,g),y=p*w;for(let m=0;m<r;m++){let v=o?o.getX(m):m,I="";for(let E=0,B=a.length;E<B;E++){let b=a[E],T=i.getAttribute(b),S=T.itemSize;for(let R=0;R<S;R++)I+=`${~~(T[f[R]](v)*w+y)},`}if(I in n)u.push(n[I]);else{for(let E=0,B=a.length;E<B;E++){let b=a[E],T=i.getAttribute(b),S=i.morphAttributes[b],R=T.itemSize,Q=c[b],M=l[b];for(let k=0;k<R;k++){let P=f[k],H=h[k];if(Q[H](A,T[P](v)),S)for(let U=0,K=S.length;U<K;U++)M[U][H](A,S[U][P](v))}}n[I]=A,u.push(A),A++}}let C=i.clone();for(let m in i.attributes){let v=c[m];if(C.setAttribute(m,new v.constructor(v.array.slice(0,A*v.itemSize),v.itemSize,v.normalized)),m in l)for(let I=0;I<l[m].length;I++){let E=l[m][I];C.morphAttributes[m][I]=new E.constructor(E.array.slice(0,A*E.itemSize),E.itemSize,E.normalized)}}return C.setIndex(u),C}function Lo(i,e){if(e===iu)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),i;if(e===hi||e===Bo){let n=i.getIndex();if(n===null){let A=[],a=i.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)A.push(c);i.setIndex(A),n=i.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i}let o=n.count-2,t=[];if(e===hi)for(let A=1;A<=o;A++)t.push(n.getX(0)),t.push(n.getX(A)),t.push(n.getX(A+1));else for(let A=0;A<o;A++)A%2===0?(t.push(n.getX(A)),t.push(n.getX(A+1)),t.push(n.getX(A+2))):(t.push(n.getX(A+2)),t.push(n.getX(A+1)),t.push(n.getX(A)));t.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");let r=i.clone();return r.setIndex(t),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),i}function Vg(i){let e=new j,n=new j,o=new j,t=new j,r=new j,A=new j,a=new j,c=new j,l=new j;function u(O,G,_,N,z,Y,W,ee){e.fromBufferAttribute(G,z),n.fromBufferAttribute(G,Y),o.fromBufferAttribute(G,W);let te=O.morphTargetInfluences;if(_&&te){a.set(0,0,0),c.set(0,0,0),l.set(0,0,0);for(let re=0,se=_.length;re<se;re++){let le=te[re],Ae=_[re];le!==0&&(t.fromBufferAttribute(Ae,z),r.fromBufferAttribute(Ae,Y),A.fromBufferAttribute(Ae,W),N?(a.addScaledVector(t,le),c.addScaledVector(r,le),l.addScaledVector(A,le)):(a.addScaledVector(t.sub(e),le),c.addScaledVector(r.sub(n),le),l.addScaledVector(A.sub(o),le)))}e.add(a),n.add(c),o.add(l)}O.isSkinnedMesh&&(O.applyBoneTransform(z,e),O.applyBoneTransform(Y,n),O.applyBoneTransform(W,o)),ee[z*3+0]=e.x,ee[z*3+1]=e.y,ee[z*3+2]=e.z,ee[Y*3+0]=n.x,ee[Y*3+1]=n.y,ee[Y*3+2]=n.z,ee[W*3+0]=o.x,ee[W*3+1]=o.y,ee[W*3+2]=o.z}let f=i.geometry,h=i.material,p,g,w,y=f.index,C=f.attributes.position,m=f.morphAttributes.position,v=f.morphTargetsRelative,I=f.attributes.normal,E=f.morphAttributes.position,B=f.groups,b=f.drawRange,T,S,R,Q,M,k,P,H=new Float32Array(C.count*C.itemSize),U=new Float32Array(I.count*I.itemSize);if(y!==null)if(Array.isArray(h))for(T=0,R=B.length;T<R;T++)for(M=B[T],k=Math.max(M.start,b.start),P=Math.min(M.start+M.count,b.start+b.count),S=k,Q=P;S<Q;S+=3)p=y.getX(S),g=y.getX(S+1),w=y.getX(S+2),u(i,C,m,v,p,g,w,H),u(i,I,E,v,p,g,w,U);else for(k=Math.max(0,b.start),P=Math.min(y.count,b.start+b.count),T=k,R=P;T<R;T+=3)p=y.getX(T),g=y.getX(T+1),w=y.getX(T+2),u(i,C,m,v,p,g,w,H),u(i,I,E,v,p,g,w,U);else if(Array.isArray(h))for(T=0,R=B.length;T<R;T++)for(M=B[T],k=Math.max(M.start,b.start),P=Math.min(M.start+M.count,b.start+b.count),S=k,Q=P;S<Q;S+=3)p=S,g=S+1,w=S+2,u(i,C,m,v,p,g,w,H),u(i,I,E,v,p,g,w,U);else for(k=Math.max(0,b.start),P=Math.min(C.count,b.start+b.count),T=k,R=P;T<R;T+=3)p=T,g=T+1,w=T+2,u(i,C,m,v,p,g,w,H),u(i,I,E,v,p,g,w,U);let K=new Hr(H,3),q=new Hr(U,3);return{positionAttribute:C,normalAttribute:I,morphedPositionAttribute:K,morphedNormalAttribute:q}}function jg(i){if(i.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),i;let e=i.groups;if(e=e.sort((A,a)=>A.materialIndex!==a.materialIndex?A.materialIndex-a.materialIndex:A.start-a.start),i.getIndex()===null){let A=i.getAttribute("position"),a=[];for(let c=0;c<A.count;c+=3)a.push(c,c+1,c+2);i.setIndex(a)}let n=i.getIndex(),o=[];for(let A=0;A<e.length;A++){let a=e[A],c=a.start,l=c+a.count;for(let u=c;u<l;u++)o.push(n.getX(u))}i.dispose(),i.setIndex(o);let t=0;for(let A=0;A<e.length;A++){let a=e[A];a.start=t,t+=a.count}let r=e[0];i.groups=[r];for(let A=1;A<e.length;A++){let a=e[A];r.materialIndex===a.materialIndex?r.count+=a.count:(r=a,i.groups.push(r))}return i}function Yg(i,e=Math.PI/3){let n=Math.cos(e),o=(1+1e-10)*100,t=[new j,new j,new j],r=new j,A=new j,a=new j,c=new j;function l(w){let y=~~(w.x*o),C=~~(w.y*o),m=~~(w.z*o);return`${y},${C},${m}`}let u=i.index?i.toNonIndexed():i,f=u.attributes.position,h={};for(let w=0,y=f.count/3;w<y;w++){let C=3*w,m=t[0].fromBufferAttribute(f,C+0),v=t[1].fromBufferAttribute(f,C+1),I=t[2].fromBufferAttribute(f,C+2);r.subVectors(I,v),A.subVectors(m,v);let E=new j().crossVectors(r,A).normalize();for(let B=0;B<3;B++){let b=t[B],T=l(b);T in h||(h[T]=[]),h[T].push(E)}}let p=new Float32Array(f.count*3),g=new je(p,3,!1);for(let w=0,y=f.count/3;w<y;w++){let C=3*w,m=t[0].fromBufferAttribute(f,C+0),v=t[1].fromBufferAttribute(f,C+1),I=t[2].fromBufferAttribute(f,C+2);r.subVectors(I,v),A.subVectors(m,v),a.crossVectors(r,A).normalize();for(let E=0;E<3;E++){let B=t[E],b=l(B),T=h[b];c.set(0,0,0);for(let S=0,R=T.length;S<R;S++){let Q=T[S];a.dot(Q)>n&&c.add(Q)}c.normalize(),g.setXYZ(C+E,c.x,c.y,c.z)}}return u.setAttribute("normal",g),u}var Nx=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),Gx=new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);var xn=Uint8Array,bu=Uint16Array,Wg=Int32Array,qg=new xn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Kg=new xn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hx=new xn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Bu=function(i,e){for(var n=new bu(31),o=0;o<31;++o)n[o]=e+=1<<i[o-1];for(var t=new Wg(n[30]),o=1;o<30;++o)for(var r=n[o];r<n[o+1];++r)t[r]=r-n[o]<<5|o;return{b:n,r:t}},Tu=Bu(qg,2),Jg=Tu.b,Xg=Tu.r;Jg[28]=258,Xg[258]=28;var Su=Bu(Kg,0),Vx=Su.b,jx=Su.r,Zg=new bu(32768);for(Ne=0;Ne<32768;++Ne)pr=(Ne&43690)>>1|(Ne&21845)<<1,pr=(pr&52428)>>2|(pr&13107)<<2,pr=(pr&61680)>>4|(pr&3855)<<4,Zg[Ne]=((pr&65280)>>8|(pr&255)<<8)>>1;var pr,Ne;var Oo=new xn(288);for(Ne=0;Ne<144;++Ne)Oo[Ne]=8;var Ne;for(Ne=144;Ne<256;++Ne)Oo[Ne]=9;var Ne;for(Ne=256;Ne<280;++Ne)Oo[Ne]=7;var Ne;for(Ne=280;Ne<288;++Ne)Oo[Ne]=8;var Ne,$g=new xn(32);for(Ne=0;Ne<32;++Ne)$g[Ne]=5;var Ne;var e1=new xn(0);var t1=typeof TextDecoder<"u"&&new TextDecoder,r1=0;try{t1.decode(e1,{stream:!0}),r1=1}catch{}var nI=new su,iI=new j;var No=class extends mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new $s(n)}),this.register(function(n){return new ea(n)}),this.register(function(n){return new ca(n)}),this.register(function(n){return new la(n)}),this.register(function(n){return new ua(n)}),this.register(function(n){return new ra(n)}),this.register(function(n){return new na(n)}),this.register(function(n){return new ia(n)}),this.register(function(n){return new oa(n)}),this.register(function(n){return new Zs(n)}),this.register(function(n){return new Aa(n)}),this.register(function(n){return new ta(n)}),this.register(function(n){return new aa(n)}),this.register(function(n){return new sa(n)}),this.register(function(n){return new Js(n)}),this.register(function(n){return new fa(n)}),this.register(function(n){return new ha(n)})}load(e,n,o,t){let r=this,A;if(this.resourcePath!=="")A=this.resourcePath;else if(this.path!==""){let l=Yr.extractUrlBase(e);A=Yr.resolveURL(l,this.path)}else A=Yr.extractUrlBase(e);this.manager.itemStart(e);let a=function(l){t?t(l):console.error(l),r.manager.itemError(e),r.manager.itemEnd(e)},c=new jr(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(l){try{r.parse(l,A,function(u){n(u),r.manager.itemEnd(e)},a)}catch(u){a(u)}},o,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,o,t){let r,A={},a={},c=new TextDecoder;if(typeof e=="string")r=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===ku){try{A[Qe.KHR_BINARY_GLTF]=new pa(e)}catch(f){t&&t(f);return}r=JSON.parse(A[Qe.KHR_BINARY_GLTF].content)}else r=JSON.parse(c.decode(e));else r=e;if(r.asset===void 0||r.asset.version[0]<2){t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}let l=new xa(r,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){let f=this.pluginCallbacks[u](l);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[f.name]=f,A[f.name]=!0}if(r.extensionsUsed)for(let u=0;u<r.extensionsUsed.length;++u){let f=r.extensionsUsed[u],h=r.extensionsRequired||[];switch(f){case Qe.KHR_MATERIALS_UNLIT:A[f]=new Xs;break;case Qe.KHR_DRACO_MESH_COMPRESSION:A[f]=new da(r,this.dracoLoader);break;case Qe.KHR_TEXTURE_TRANSFORM:A[f]=new ga;break;case Qe.KHR_MESH_QUANTIZATION:A[f]=new ma;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(A),l.setPlugins(a),l.parse(o,t)}parseAsync(e,n){let o=this;return new Promise(function(t,r){o.parse(e,n,t,r)})}};function A1(){let i={};return{get:function(e){return i[e]},add:function(e,n){i[e]=n},remove:function(e){delete i[e]},removeAll:function(){i={}}}}var Qe={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},Js=class{constructor(e){this.parser=e,this.name=Qe.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){let e=this.parser,n=this.parser.json.nodes||[];for(let o=0,t=n.length;o<t;o++){let r=n[o];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){let n=this.parser,o="light:"+e,t=n.cache.get(o);if(t)return t;let r=n.json,c=((r.extensions&&r.extensions[this.name]||{}).lights||[])[e],l,u=new qe(16777215);c.color!==void 0&&u.setRGB(c.color[0],c.color[1],c.color[2],Rt);let f=c.range!==void 0?c.range:0;switch(c.type){case"directional":l=new Hs(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new vi(u),l.distance=f;break;case"spot":l=new zs(u),l.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,dr(l,c),c.intensity!==void 0&&(l.intensity=c.intensity),l.name=n.createUniqueName(c.name||"light_"+e),t=Promise.resolve(l),n.cache.add(o,t),t}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){let n=this,o=this.parser,r=o.json.nodes[e],a=(r.extensions&&r.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return o._getNodeRef(n.cache,a,c)})}},Xs=class{constructor(){this.name=Qe.KHR_MATERIALS_UNLIT}getMaterialType(){return pt}extendParams(e,n,o){let t=[];e.color=new qe(1,1,1),e.opacity=1;let r=n.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){let A=r.baseColorFactor;e.color.setRGB(A[0],A[1],A[2],Rt),e.opacity=A[3]}r.baseColorTexture!==void 0&&t.push(o.assignTexture(e,"map",r.baseColorTexture,jt))}return Promise.all(t)}},Zs=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){let t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=t.extensions[this.name].emissiveStrength;return r!==void 0&&(n.emissiveIntensity=r),Promise.resolve()}},$s=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];if(A.clearcoatFactor!==void 0&&(n.clearcoat=A.clearcoatFactor),A.clearcoatTexture!==void 0&&r.push(o.assignTexture(n,"clearcoatMap",A.clearcoatTexture)),A.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=A.clearcoatRoughnessFactor),A.clearcoatRoughnessTexture!==void 0&&r.push(o.assignTexture(n,"clearcoatRoughnessMap",A.clearcoatRoughnessTexture)),A.clearcoatNormalTexture!==void 0&&(r.push(o.assignTexture(n,"clearcoatNormalMap",A.clearcoatNormalTexture)),A.clearcoatNormalTexture.scale!==void 0)){let a=A.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new tt(a,a)}return Promise.all(r)}},ea=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_DISPERSION}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=t.extensions[this.name];return n.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}},ta=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];return A.iridescenceFactor!==void 0&&(n.iridescence=A.iridescenceFactor),A.iridescenceTexture!==void 0&&r.push(o.assignTexture(n,"iridescenceMap",A.iridescenceTexture)),A.iridescenceIor!==void 0&&(n.iridescenceIOR=A.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),A.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=A.iridescenceThicknessMinimum),A.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=A.iridescenceThicknessMaximum),A.iridescenceThicknessTexture!==void 0&&r.push(o.assignTexture(n,"iridescenceThicknessMap",A.iridescenceThicknessTexture)),Promise.all(r)}},ra=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SHEEN}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[];n.sheenColor=new qe(0,0,0),n.sheenRoughness=0,n.sheen=1;let A=t.extensions[this.name];if(A.sheenColorFactor!==void 0){let a=A.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Rt)}return A.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=A.sheenRoughnessFactor),A.sheenColorTexture!==void 0&&r.push(o.assignTexture(n,"sheenColorMap",A.sheenColorTexture,jt)),A.sheenRoughnessTexture!==void 0&&r.push(o.assignTexture(n,"sheenRoughnessMap",A.sheenRoughnessTexture)),Promise.all(r)}},na=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];return A.transmissionFactor!==void 0&&(n.transmission=A.transmissionFactor),A.transmissionTexture!==void 0&&r.push(o.assignTexture(n,"transmissionMap",A.transmissionTexture)),Promise.all(r)}},ia=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_VOLUME}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];n.thickness=A.thicknessFactor!==void 0?A.thicknessFactor:0,A.thicknessTexture!==void 0&&r.push(o.assignTexture(n,"thicknessMap",A.thicknessTexture)),n.attenuationDistance=A.attenuationDistance||1/0;let a=A.attenuationColor||[1,1,1];return n.attenuationColor=new qe().setRGB(a[0],a[1],a[2],Rt),Promise.all(r)}},oa=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_IOR}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let t=this.parser.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=t.extensions[this.name];return n.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}},Aa=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_SPECULAR}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];n.specularIntensity=A.specularFactor!==void 0?A.specularFactor:1,A.specularTexture!==void 0&&r.push(o.assignTexture(n,"specularIntensityMap",A.specularTexture));let a=A.specularColorFactor||[1,1,1];return n.specularColor=new qe().setRGB(a[0],a[1],a[2],Rt),A.specularColorTexture!==void 0&&r.push(o.assignTexture(n,"specularColorMap",A.specularColorTexture,jt)),Promise.all(r)}},sa=class{constructor(e){this.parser=e,this.name=Qe.EXT_MATERIALS_BUMP}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];return n.bumpScale=A.bumpFactor!==void 0?A.bumpFactor:1,A.bumpTexture!==void 0&&r.push(o.assignTexture(n,"bumpMap",A.bumpTexture)),Promise.all(r)}},aa=class{constructor(e){this.parser=e,this.name=Qe.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){let o=this.parser.json.materials[e];return!o.extensions||!o.extensions[this.name]?null:it}extendMaterialParams(e,n){let o=this.parser,t=o.json.materials[e];if(!t.extensions||!t.extensions[this.name])return Promise.resolve();let r=[],A=t.extensions[this.name];return A.anisotropyStrength!==void 0&&(n.anisotropy=A.anisotropyStrength),A.anisotropyRotation!==void 0&&(n.anisotropyRotation=A.anisotropyRotation),A.anisotropyTexture!==void 0&&r.push(o.assignTexture(n,"anisotropyMap",A.anisotropyTexture)),Promise.all(r)}},ca=class{constructor(e){this.parser=e,this.name=Qe.KHR_TEXTURE_BASISU}loadTexture(e){let n=this.parser,o=n.json,t=o.textures[e];if(!t.extensions||!t.extensions[this.name])return null;let r=t.extensions[this.name],A=n.options.ktx2Loader;if(!A){if(o.extensionsRequired&&o.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,r.source,A)}},la=class{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){let n=this.name,o=this.parser,t=o.json,r=t.textures[e];if(!r.extensions||!r.extensions[n])return null;let A=r.extensions[n],a=t.images[A.source],c=o.textureLoader;if(a.uri){let l=o.options.manager.getHandler(a.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return o.loadTextureImage(e,A.source,c);if(t.extensionsRequired&&t.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return o.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}},ua=class{constructor(e){this.parser=e,this.name=Qe.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){let n=this.name,o=this.parser,t=o.json,r=t.textures[e];if(!r.extensions||!r.extensions[n])return null;let A=r.extensions[n],a=t.images[A.source],c=o.textureLoader;if(a.uri){let l=o.options.manager.getHandler(a.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return o.loadTextureImage(e,A.source,c);if(t.extensionsRequired&&t.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return o.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){let n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}},fa=class{constructor(e){this.name=Qe.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){let n=this.parser.json,o=n.bufferViews[e];if(o.extensions&&o.extensions[this.name]){let t=o.extensions[this.name],r=this.parser.getDependency("buffer",t.buffer),A=this.parser.options.meshoptDecoder;if(!A||!A.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(a){let c=t.byteOffset||0,l=t.byteLength||0,u=t.count,f=t.byteStride,h=new Uint8Array(a,c,l);return A.decodeGltfBufferAsync?A.decodeGltfBufferAsync(u,f,h,t.mode,t.filter).then(function(p){return p.buffer}):A.ready.then(function(){let p=new ArrayBuffer(u*f);return A.decodeGltfBuffer(new Uint8Array(p),u,f,h,t.mode,t.filter),p})})}else return null}},ha=class{constructor(e){this.name=Qe.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){let n=this.parser.json,o=n.nodes[e];if(!o.extensions||!o.extensions[this.name]||o.mesh===void 0)return null;let t=n.meshes[o.mesh];for(let l of t.primitives)if(l.mode!==Ut.TRIANGLES&&l.mode!==Ut.TRIANGLE_STRIP&&l.mode!==Ut.TRIANGLE_FAN&&l.mode!==void 0)return null;let A=o.extensions[this.name].attributes,a=[],c={};for(let l in A)a.push(this.parser.getDependency("accessor",A[l]).then(u=>(c[l]=u,c[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{let u=l.pop(),f=u.isGroup?u.children:[u],h=l[0].count,p=[];for(let g of f){let w=new Fe,y=new j,C=new _t,m=new j(1,1,1),v=new So(g.geometry,g.material,h);for(let I=0;I<h;I++)c.TRANSLATION&&y.fromBufferAttribute(c.TRANSLATION,I),c.ROTATION&&C.fromBufferAttribute(c.ROTATION,I),c.SCALE&&m.fromBufferAttribute(c.SCALE,I),v.setMatrixAt(I,w.compose(y,C,m));for(let I in c)if(I==="_COLOR_0"){let E=c[I];v.instanceColor=new Vr(E.array,E.itemSize,E.normalized)}else I!=="TRANSLATION"&&I!=="ROTATION"&&I!=="SCALE"&&g.geometry.setAttribute(I,c[I]);Ft.prototype.copy.call(v,g),this.parser.assignFinalMaterial(v),p.push(v)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}},ku="glTF",xi=12,Du={JSON:1313821514,BIN:5130562},pa=class{constructor(e){this.name=Qe.KHR_BINARY_GLTF,this.content=null,this.body=null;let n=new DataView(e,0,xi),o=new TextDecoder;if(this.header={magic:o.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==ku)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");let t=this.header.length-xi,r=new DataView(e,xi),A=0;for(;A<t;){let a=r.getUint32(A,!0);A+=4;let c=r.getUint32(A,!0);if(A+=4,c===Du.JSON){let l=new Uint8Array(e,xi+A,a);this.content=o.decode(l)}else if(c===Du.BIN){let l=xi+A;this.body=e.slice(l,l+a)}A+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}},da=class{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qe.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){let o=this.json,t=this.dracoLoader,r=e.extensions[this.name].bufferView,A=e.extensions[this.name].attributes,a={},c={},l={};for(let u in A){let f=va[u]||u.toLowerCase();a[f]=A[u]}for(let u in e.attributes){let f=va[u]||u.toLowerCase();if(A[u]!==void 0){let h=o.accessors[e.attributes[u]],p=In[h.componentType];l[f]=p.name,c[f]=h.normalized===!0}}return n.getDependency("bufferView",r).then(function(u){return new Promise(function(f,h){t.decodeDracoFile(u,function(p){for(let g in p.attributes){let w=p.attributes[g],y=c[g];y!==void 0&&(w.normalized=y)}f(p)},a,l,Rt,h)})})}},ga=class{constructor(){this.name=Qe.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}},ma=class{constructor(){this.name=Qe.KHR_MESH_QUANTIZATION}},Go=class extends wu{constructor(e,n,o,t){super(e,n,o,t)}copySampleValue_(e){let n=this.resultBuffer,o=this.sampleValues,t=this.valueSize,r=e*t*3+t;for(let A=0;A!==t;A++)n[A]=o[r+A];return n}interpolate_(e,n,o,t){let r=this.resultBuffer,A=this.sampleValues,a=this.valueSize,c=a*2,l=a*3,u=t-n,f=(o-n)/u,h=f*f,p=h*f,g=e*l,w=g-l,y=-2*p+3*h,C=p-h,m=1-y,v=C-h+f;for(let I=0;I!==a;I++){let E=A[w+I+a],B=A[w+I+c]*u,b=A[g+I+a],T=A[g+I]*u;r[I]=m*E+v*B+y*b+C*T}return r}},s1=new _t,ya=class extends Go{interpolate_(e,n,o,t){let r=super.interpolate_(e,n,o,t);return s1.fromArray(r).normalize().toArray(r),r}},Ut={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},In={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Mu={9728:Rs,9729:zr,9984:Zl,9985:eu,9986:$l,9987:_s},Ru={33071:Ms,33648:Xl,10497:fi},Ws={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},va={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Dr={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},a1={CUBICSPLINE:void 0,LINEAR:ks,STEP:nu},qs={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function c1(i){return i.DefaultMaterial===void 0&&(i.DefaultMaterial=new Mt({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ui})),i.DefaultMaterial}function Wr(i,e,n){for(let o in n.extensions)i[o]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[o]=n.extensions[o])}function dr(i,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(i.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function l1(i,e,n){let o=!1,t=!1,r=!1;for(let l=0,u=e.length;l<u;l++){let f=e[l];if(f.POSITION!==void 0&&(o=!0),f.NORMAL!==void 0&&(t=!0),f.COLOR_0!==void 0&&(r=!0),o&&t&&r)break}if(!o&&!t&&!r)return Promise.resolve(i);let A=[],a=[],c=[];for(let l=0,u=e.length;l<u;l++){let f=e[l];if(o){let h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):i.attributes.position;A.push(h)}if(t){let h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):i.attributes.normal;a.push(h)}if(r){let h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):i.attributes.color;c.push(h)}}return Promise.all([Promise.all(A),Promise.all(a),Promise.all(c)]).then(function(l){let u=l[0],f=l[1],h=l[2];return o&&(i.morphAttributes.position=u),t&&(i.morphAttributes.normal=f),r&&(i.morphAttributes.color=h),i.morphTargetsRelative=!0,i})}function u1(i,e){if(i.updateMorphTargets(),e.weights!==void 0)for(let n=0,o=e.weights.length;n<o;n++)i.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){let n=e.extras.targetNames;if(i.morphTargetInfluences.length===n.length){i.morphTargetDictionary={};for(let o=0,t=n.length;o<t;o++)i.morphTargetDictionary[n[o]]=o}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function f1(i){let e,n=i.extensions&&i.extensions[Qe.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+Ks(n.attributes):e=i.indices+":"+Ks(i.attributes)+":"+i.mode,i.targets!==void 0)for(let o=0,t=i.targets.length;o<t;o++)e+=":"+Ks(i.targets[o]);return e}function Ks(i){let e="",n=Object.keys(i).sort();for(let o=0,t=n.length;o<t;o++)e+=n[o]+":"+i[n[o]]+";";return e}function wa(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function h1(i){return i.search(/\.jpe?g($|\?)/i)>0||i.search(/^data\:image\/jpeg/)===0?"image/jpeg":i.search(/\.webp($|\?)/i)>0||i.search(/^data\:image\/webp/)===0?"image/webp":i.search(/\.ktx2($|\?)/i)>0||i.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}var p1=new Fe,xa=class{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new A1,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let o=!1,t=-1,r=!1,A=-1;if(typeof navigator<"u"){let a=navigator.userAgent;o=/^((?!chrome|android).)*safari/i.test(a)===!0;let c=a.match(/Version\/(\d+)/);t=o&&c?parseInt(c[1],10):-1,r=a.indexOf("Firefox")>-1,A=r?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||o&&t<17||r&&A<98?this.textureLoader=new yi(this.options.manager):this.textureLoader=new Iu(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new jr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){let o=this,t=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(A){return A._markDefs&&A._markDefs()}),Promise.all(this._invokeAll(function(A){return A.beforeRoot&&A.beforeRoot()})).then(function(){return Promise.all([o.getDependencies("scene"),o.getDependencies("animation"),o.getDependencies("camera")])}).then(function(A){let a={scene:A[0][t.scene||0],scenes:A[0],animations:A[1],cameras:A[2],asset:t.asset,parser:o,userData:{}};return Wr(r,a,t),dr(a,t),Promise.all(o._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(let c of a.scenes)c.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){let e=this.json.nodes||[],n=this.json.skins||[],o=this.json.meshes||[];for(let t=0,r=n.length;t<r;t++){let A=n[t].joints;for(let a=0,c=A.length;a<c;a++)e[A[a]].isBone=!0}for(let t=0,r=e.length;t<r;t++){let A=e[t];A.mesh!==void 0&&(this._addNodeRef(this.meshCache,A.mesh),A.skin!==void 0&&(o[A.mesh].isSkinnedMesh=!0)),A.camera!==void 0&&this._addNodeRef(this.cameraCache,A.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,o){if(e.refs[n]<=1)return o;let t=o.clone(),r=(A,a)=>{let c=this.associations.get(A);c!=null&&this.associations.set(a,c);for(let[l,u]of A.children.entries())r(u,a.children[l])};return r(o,t),t.name+="_instance_"+e.uses[n]++,t}_invokeOne(e){let n=Object.values(this.plugins);n.push(this);for(let o=0;o<n.length;o++){let t=e(n[o]);if(t)return t}return null}_invokeAll(e){let n=Object.values(this.plugins);n.unshift(this);let o=[];for(let t=0;t<n.length;t++){let r=e(n[t]);r&&o.push(r)}return o}getDependency(e,n){let o=e+":"+n,t=this.cache.get(o);if(!t){switch(e){case"scene":t=this.loadScene(n);break;case"node":t=this._invokeOne(function(r){return r.loadNode&&r.loadNode(n)});break;case"mesh":t=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(n)});break;case"accessor":t=this.loadAccessor(n);break;case"bufferView":t=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(n)});break;case"buffer":t=this.loadBuffer(n);break;case"material":t=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(n)});break;case"texture":t=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(n)});break;case"skin":t=this.loadSkin(n);break;case"animation":t=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(n)});break;case"camera":t=this.loadCamera(n);break;default:if(t=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,n)}),!t)throw new Error("Unknown type: "+e);break}this.cache.add(o,t)}return t}getDependencies(e){let n=this.cache.get(e);if(!n){let o=this,t=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(t.map(function(r,A){return o.getDependency(e,A)})),this.cache.add(e,n)}return n}loadBuffer(e){let n=this.json.buffers[e],o=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qe.KHR_BINARY_GLTF].body);let t=this.options;return new Promise(function(r,A){o.load(Yr.resolveURL(n.uri,t.path),r,void 0,function(){A(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){let n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(o){let t=n.byteLength||0,r=n.byteOffset||0;return o.slice(r,r+t)})}loadAccessor(e){let n=this,o=this.json,t=this.json.accessors[e];if(t.bufferView===void 0&&t.sparse===void 0){let A=Ws[t.type],a=In[t.componentType],c=t.normalized===!0,l=new a(t.count*A);return Promise.resolve(new je(l,A,c))}let r=[];return t.bufferView!==void 0?r.push(this.getDependency("bufferView",t.bufferView)):r.push(null),t.sparse!==void 0&&(r.push(this.getDependency("bufferView",t.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",t.sparse.values.bufferView))),Promise.all(r).then(function(A){let a=A[0],c=Ws[t.type],l=In[t.componentType],u=l.BYTES_PER_ELEMENT,f=u*c,h=t.byteOffset||0,p=t.bufferView!==void 0?o.bufferViews[t.bufferView].byteStride:void 0,g=t.normalized===!0,w,y;if(p&&p!==f){let C=Math.floor(h/p),m="InterleavedBuffer:"+t.bufferView+":"+t.componentType+":"+C+":"+t.count,v=n.cache.get(m);v||(w=new l(a,C*p,t.count*p/u),v=new yn(w,p/u),n.cache.add(m,v)),y=new nr(v,c,h%p/u,g)}else a===null?w=new l(t.count*c):w=new l(a,h,t.count*c),y=new je(w,c,g);if(t.sparse!==void 0){let C=Ws.SCALAR,m=In[t.sparse.indices.componentType],v=t.sparse.indices.byteOffset||0,I=t.sparse.values.byteOffset||0,E=new m(A[1],v,t.sparse.count*C),B=new l(A[2],I,t.sparse.count*c);a!==null&&(y=new je(y.array.slice(),y.itemSize,y.normalized)),y.normalized=!1;for(let b=0,T=E.length;b<T;b++){let S=E[b];if(y.setX(S,B[b*c]),c>=2&&y.setY(S,B[b*c+1]),c>=3&&y.setZ(S,B[b*c+2]),c>=4&&y.setW(S,B[b*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}y.normalized=g}return y})}loadTexture(e){let n=this.json,o=this.options,r=n.textures[e].source,A=n.images[r],a=this.textureLoader;if(A.uri){let c=o.manager.getHandler(A.uri);c!==null&&(a=c)}return this.loadTextureImage(e,r,a)}loadTextureImage(e,n,o){let t=this,r=this.json,A=r.textures[e],a=r.images[n],c=(a.uri||a.bufferView)+":"+A.sampler;if(this.textureCache[c])return this.textureCache[c];let l=this.loadImageSource(n,o).then(function(u){u.flipY=!1,u.name=A.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);let h=(r.samplers||{})[A.sampler]||{};return u.magFilter=Mu[h.magFilter]||zr,u.minFilter=Mu[h.minFilter]||_s,u.wrapS=Ru[h.wrapS]||fi,u.wrapT=Ru[h.wrapT]||fi,u.generateMipmaps=!u.isCompressedTexture&&u.minFilter!==Rs&&u.minFilter!==zr,t.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(e,n){let o=this,t=this.json,r=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());let A=t.images[e],a=self.URL||self.webkitURL,c=A.uri||"",l=!1;if(A.bufferView!==void 0)c=o.getDependency("bufferView",A.bufferView).then(function(f){l=!0;let h=new Blob([f],{type:A.mimeType});return c=a.createObjectURL(h),c});else if(A.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");let u=Promise.resolve(c).then(function(f){return new Promise(function(h,p){let g=h;n.isImageBitmapLoader===!0&&(g=function(w){let y=new mn(w);y.needsUpdate=!0,h(y)}),n.load(Yr.resolveURL(f,r.path),g,void 0,p)})}).then(function(f){return l===!0&&a.revokeObjectURL(c),dr(f,A),f.userData.mimeType=A.mimeType||h1(A.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[e]=u,u}assignTexture(e,n,o,t){let r=this;return this.getDependency("texture",o.index).then(function(A){if(!A)return null;if(o.texCoord!==void 0&&o.texCoord>0&&(A=A.clone(),A.channel=o.texCoord),r.extensions[Qe.KHR_TEXTURE_TRANSFORM]){let a=o.extensions!==void 0?o.extensions[Qe.KHR_TEXTURE_TRANSFORM]:void 0;if(a){let c=r.associations.get(A);A=r.extensions[Qe.KHR_TEXTURE_TRANSFORM].extendTexture(A,a),r.associations.set(A,c)}}return t!==void 0&&(A.colorSpace=t),e[n]=A,A})}assignFinalMaterial(e){let n=e.geometry,o=e.material,t=n.attributes.tangent===void 0,r=n.attributes.color!==void 0,A=n.attributes.normal===void 0;if(e.isPoints){let a="PointsMaterial:"+o.uuid,c=this.cache.get(a);c||(c=new Do,To.prototype.copy.call(c,o),c.color.copy(o.color),c.map=o.map,c.sizeAttenuation=!1,this.cache.add(a,c)),o=c}else if(e.isLine){let a="LineBasicMaterial:"+o.uuid,c=this.cache.get(a);c||(c=new di,To.prototype.copy.call(c,o),c.color.copy(o.color),c.map=o.map,this.cache.add(a,c)),o=c}if(t||r||A){let a="ClonedMaterial:"+o.uuid+":";t&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),A&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=o.clone(),r&&(c.vertexColors=!0),A&&(c.flatShading=!0),t&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(o))),o=c}e.material=o}getMaterialType(){return Mt}loadMaterial(e){let n=this,o=this.json,t=this.extensions,r=o.materials[e],A,a={},c=r.extensions||{},l=[];if(c[Qe.KHR_MATERIALS_UNLIT]){let f=t[Qe.KHR_MATERIALS_UNLIT];A=f.getMaterialType(),l.push(f.extendParams(a,r,n))}else{let f=r.pbrMetallicRoughness||{};if(a.color=new qe(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){let h=f.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],Rt),a.opacity=h[3]}f.baseColorTexture!==void 0&&l.push(n.assignTexture(a,"map",f.baseColorTexture,jt)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(l.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),l.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),A=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}r.doubleSided===!0&&(a.side=At);let u=r.alphaMode||qs.OPAQUE;if(u===qs.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===qs.MASK&&(a.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&A!==pt&&(l.push(n.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new tt(1,1),r.normalTexture.scale!==void 0)){let f=r.normalTexture.scale;a.normalScale.set(f,f)}if(r.occlusionTexture!==void 0&&A!==pt&&(l.push(n.assignTexture(a,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&A!==pt){let f=r.emissiveFactor;a.emissive=new qe().setRGB(f[0],f[1],f[2],Rt)}return r.emissiveTexture!==void 0&&A!==pt&&l.push(n.assignTexture(a,"emissiveMap",r.emissiveTexture,jt)),Promise.all(l).then(function(){let f=new A(a);return r.name&&(f.name=r.name),dr(f,r),n.associations.set(f,{materials:e}),r.extensions&&Wr(t,f,r),f})}createUniqueName(e){let n=Vs.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){let n=this,o=this.extensions,t=this.primitiveCache;function r(a){return o[Qe.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(c){return _u(c,a,n)})}let A=[];for(let a=0,c=e.length;a<c;a++){let l=e[a],u=f1(l),f=t[u];if(f)A.push(f.promise);else{let h;l.extensions&&l.extensions[Qe.KHR_DRACO_MESH_COMPRESSION]?h=r(l):h=_u(new lt,l,n),t[u]={primitive:l,promise:h},A.push(h)}}return Promise.all(A)}loadMesh(e){let n=this,o=this.json,t=this.extensions,r=o.meshes[e],A=r.primitives,a=[];for(let c=0,l=A.length;c<l;c++){let u=A[c].material===void 0?c1(this.cache):this.getDependency("material",A[c].material);a.push(u)}return a.push(n.loadGeometries(A)),Promise.all(a).then(function(c){let l=c.slice(0,c.length-1),u=c[c.length-1],f=[];for(let p=0,g=u.length;p<g;p++){let w=u[p],y=A[p],C,m=l[p];if(y.mode===Ut.TRIANGLES||y.mode===Ut.TRIANGLE_STRIP||y.mode===Ut.TRIANGLE_FAN||y.mode===void 0)C=r.isSkinnedMesh===!0?new Ps(w,m):new ke(w,m),C.isSkinnedMesh===!0&&C.normalizeSkinWeights(),y.mode===Ut.TRIANGLE_STRIP?C.geometry=Lo(C.geometry,Bo):y.mode===Ut.TRIANGLE_FAN&&(C.geometry=Lo(C.geometry,hi));else if(y.mode===Ut.LINES)C=new vn(w,m);else if(y.mode===Ut.LINE_STRIP)C=new Ls(w,m);else if(y.mode===Ut.LINE_LOOP)C=new fu(w,m);else if(y.mode===Ut.POINTS)C=new Mo(w,m);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(C.geometry.morphAttributes).length>0&&u1(C,r),C.name=n.createUniqueName(r.name||"mesh_"+e),dr(C,r),y.extensions&&Wr(t,C,y),n.assignFinalMaterial(C),f.push(C)}for(let p=0,g=f.length;p<g;p++)n.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return r.extensions&&Wr(t,f[0],r),f[0];let h=new Qt;r.extensions&&Wr(t,h,r),n.associations.set(h,{meshes:e});for(let p=0,g=f.length;p<g;p++)h.add(f[p]);return h})}loadCamera(e){let n,o=this.json.cameras[e],t=o[o.type];if(!t){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return o.type==="perspective"?n=new Fs(dn.radToDeg(t.yfov),t.aspectRatio||1,t.znear||1,t.zfar||2e6):o.type==="orthographic"&&(n=new xu(-t.xmag,t.xmag,t.ymag,-t.ymag,t.znear,t.zfar)),o.name&&(n.name=this.createUniqueName(o.name)),dr(n,o),Promise.resolve(n)}loadSkin(e){let n=this.json.skins[e],o=[];for(let t=0,r=n.joints.length;t<r;t++)o.push(this._loadNodeShallow(n.joints[t]));return n.inverseBindMatrices!==void 0?o.push(this.getDependency("accessor",n.inverseBindMatrices)):o.push(null),Promise.all(o).then(function(t){let r=t.pop(),A=t,a=[],c=[];for(let l=0,u=A.length;l<u;l++){let f=A[l];if(f){a.push(f);let h=new Fe;r!==null&&h.fromArray(r.array,l*16),c.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[l])}return new Us(a,c)})}loadAnimation(e){let n=this.json,o=this,t=n.animations[e],r=t.name?t.name:"animation_"+e,A=[],a=[],c=[],l=[],u=[];for(let f=0,h=t.channels.length;f<h;f++){let p=t.channels[f],g=t.samplers[p.sampler],w=p.target,y=w.node,C=t.parameters!==void 0?t.parameters[g.input]:g.input,m=t.parameters!==void 0?t.parameters[g.output]:g.output;w.node!==void 0&&(A.push(this.getDependency("node",y)),a.push(this.getDependency("accessor",C)),c.push(this.getDependency("accessor",m)),l.push(g),u.push(w))}return Promise.all([Promise.all(A),Promise.all(a),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(f){let h=f[0],p=f[1],g=f[2],w=f[3],y=f[4],C=[];for(let m=0,v=h.length;m<v;m++){let I=h[m],E=p[m],B=g[m],b=w[m],T=y[m];if(I===void 0)continue;I.updateMatrix&&I.updateMatrix();let S=o._createAnimationTracks(I,E,B,b,T);if(S)for(let R=0;R<S.length;R++)C.push(S[R])}return new Gs(r,void 0,C)})}createNodeMesh(e){let n=this.json,o=this,t=n.nodes[e];return t.mesh===void 0?null:o.getDependency("mesh",t.mesh).then(function(r){let A=o._getNodeRef(o.meshCache,t.mesh,r);return t.weights!==void 0&&A.traverse(function(a){if(a.isMesh)for(let c=0,l=t.weights.length;c<l;c++)a.morphTargetInfluences[c]=t.weights[c]}),A})}loadNode(e){let n=this.json,o=this,t=n.nodes[e],r=o._loadNodeShallow(e),A=[],a=t.children||[];for(let l=0,u=a.length;l<u;l++)A.push(o.getDependency("node",a[l]));let c=t.skin===void 0?Promise.resolve(null):o.getDependency("skin",t.skin);return Promise.all([r,Promise.all(A),c]).then(function(l){let u=l[0],f=l[1],h=l[2];h!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(h,p1)});for(let p=0,g=f.length;p<g;p++)u.add(f[p]);return u})}_loadNodeShallow(e){let n=this.json,o=this.extensions,t=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];let r=n.nodes[e],A=r.name?t.createUniqueName(r.name):"",a=[],c=t._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return c&&a.push(c),r.camera!==void 0&&a.push(t.getDependency("camera",r.camera).then(function(l){return t._getNodeRef(t.cameraCache,r.camera,l)})),t._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){a.push(l)}),this.nodeCache[e]=Promise.all(a).then(function(l){let u;if(r.isBone===!0?u=new Qs:l.length>1?u=new Qt:l.length===1?u=l[0]:u=new Ft,u!==l[0])for(let f=0,h=l.length;f<h;f++)u.add(l[f]);if(r.name&&(u.userData.name=r.name,u.name=A),dr(u,r),r.extensions&&Wr(o,u,r),r.matrix!==void 0){let f=new Fe;f.fromArray(r.matrix),u.applyMatrix4(f)}else r.translation!==void 0&&u.position.fromArray(r.translation),r.rotation!==void 0&&u.quaternion.fromArray(r.rotation),r.scale!==void 0&&u.scale.fromArray(r.scale);return t.associations.has(u)||t.associations.set(u,{}),t.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){let n=this.extensions,o=this.json.scenes[e],t=this,r=new Qt;o.name&&(r.name=t.createUniqueName(o.name)),dr(r,o),o.extensions&&Wr(n,r,o);let A=o.nodes||[],a=[];for(let c=0,l=A.length;c<l;c++)a.push(t.getDependency("node",A[c]));return Promise.all(a).then(function(c){for(let u=0,f=c.length;u<f;u++)r.add(c[u]);let l=u=>{let f=new Map;for(let[h,p]of t.associations)(h instanceof To||h instanceof mn)&&f.set(h,p);return u.traverse(h=>{let p=t.associations.get(h);p!=null&&f.set(h,p)}),f};return t.associations=l(r),r})}_createAnimationTracks(e,n,o,t,r){let A=[],a=e.name?e.name:e.uuid,c=[];Dr[r.path]===Dr.weights?e.traverse(function(h){h.morphTargetInfluences&&c.push(h.name?h.name:h.uuid)}):c.push(a);let l;switch(Dr[r.path]){case Dr.weights:l=_o;break;case Dr.rotation:l=ko;break;case Dr.position:case Dr.scale:l=Fo;break;default:switch(o.itemSize){case 1:l=_o;break;case 2:case 3:default:l=Fo;break}break}let u=t.interpolation!==void 0?a1[t.interpolation]:ks,f=this._getArrayFromAccessor(o);for(let h=0,p=c.length;h<p;h++){let g=new l(c[h]+"."+Dr[r.path],n.array,f,u);t.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),A.push(g)}return A}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){let o=wa(n.constructor),t=new Float32Array(n.length);for(let r=0,A=n.length;r<A;r++)t[r]=n[r]*o;n=t}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(o){let t=this instanceof ko?ya:Go;return new t(this.times,this.values,this.getValueSize()/3,o)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}};function d1(i,e,n){let o=e.attributes,t=new Je;if(o.POSITION!==void 0){let a=n.json.accessors[o.POSITION],c=a.min,l=a.max;if(c!==void 0&&l!==void 0){if(t.set(new j(c[0],c[1],c[2]),new j(l[0],l[1],l[2])),a.normalized){let u=wa(In[a.componentType]);t.min.multiplyScalar(u),t.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;let r=e.targets;if(r!==void 0){let a=new j,c=new j;for(let l=0,u=r.length;l<u;l++){let f=r[l];if(f.POSITION!==void 0){let h=n.json.accessors[f.POSITION],p=h.min,g=h.max;if(p!==void 0&&g!==void 0){if(c.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),c.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),c.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),h.normalized){let w=wa(In[h.componentType]);c.multiplyScalar(w)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}t.expandByVector(a)}i.boundingBox=t;let A=new kt;t.getCenter(A.center),A.radius=t.min.distanceTo(t.max)/2,i.boundingSphere=A}function _u(i,e,n){let o=e.attributes,t=[];function r(A,a){return n.getDependency("accessor",A).then(function(c){i.setAttribute(a,c)})}for(let A in o){let a=va[A]||A.toLowerCase();a in i.attributes||t.push(r(o[A],a))}if(e.indices!==void 0&&!i.index){let A=n.getDependency("accessor",e.indices).then(function(a){i.setIndex(a)});t.push(A)}return gn.workingColorSpace!==Rt&&"COLOR_0"in o&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${gn.workingColorSpace}" not supported.`),dr(i,e),d1(i,e,n),Promise.all(t).then(function(){return e.targets!==void 0?l1(i,e.targets,n):i})}var Ia=new WeakMap,zo=class extends mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,o,t){let r=new jr(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(e,A=>{this.parse(A,n,t)},o,t)}parse(e,n,o=()=>{}){this.decodeDracoFile(e,n,null,null,jt,o).catch(o)}decodeDracoFile(e,n,o,t,r=Rt,A=()=>{}){let a={attributeIDs:o||this.defaultAttributeIDs,attributeTypes:t||this.defaultAttributeTypes,useUniqueIDs:!!o,vertexColorSpace:r};return this.decodeGeometry(e,a).then(n).catch(A)}decodeGeometry(e,n){let o=JSON.stringify(n);if(Ia.has(e)){let c=Ia.get(e);if(c.key===o)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let t,r=this.workerNextTaskID++,A=e.byteLength,a=this._getWorker(r,A).then(c=>(t=c,new Promise((l,u)=>{t._callbacks[r]={resolve:l,reject:u},t.postMessage({type:"decode",id:r,taskConfig:n,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{t&&r&&this._releaseTask(t,r)}),Ia.set(e,{key:o,promise:a}),a}_createGeometry(e){let n=new lt;e.index&&n.setIndex(new je(e.index.array,1));for(let o=0;o<e.attributes.length;o++){let t=e.attributes[o],r=t.name,A=t.array,a=t.itemSize,c=new je(A,a);r==="color"&&(this._assignVertexColorSpace(c,t.vertexColorSpace),c.normalized=!(A instanceof Float32Array)),n.setAttribute(r,c)}return n}_assignVertexColorSpace(e,n){if(n!==jt)return;let o=new qe;for(let t=0,r=e.count;t<r;t++)o.fromBufferAttribute(e,t),gn.toWorkingColorSpace(o,jt),e.setXYZ(t,o.r,o.g,o.b)}_loadLibrary(e,n){let o=new jr(this.manager);return o.setPath(this.decoderPath),o.setResponseType(n),o.setWithCredentials(this.withCredentials),new Promise((t,r)=>{o.load(e,t,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(o=>{let t=o[0];e||(this.decoderConfig.wasmBinary=o[1]);let r=g1.toString(),A=["/* draco decoder */",t,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([A]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(r){let A=r.data;switch(A.type){case"decode":t._callbacks[A.id].resolve(A);break;case"error":t._callbacks[A.id].reject(A);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+A.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort(function(t,r){return t._taskLoad>r._taskLoad?-1:1});let o=this.workerPool[this.workerPool.length-1];return o._taskCosts[e]=n,o._taskLoad+=n,o})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function g1(){let i,e;onmessage=function(A){let a=A.data;switch(a.type){case"init":i=a.decoderConfig,e=new Promise(function(u){i.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(i)});break;case"decode":let c=a.buffer,l=a.taskConfig;e.then(u=>{let f=u.draco,h=new f.Decoder;try{let p=n(f,h,new Int8Array(c),l),g=p.attributes.map(w=>w.array.buffer);p.index&&g.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},g)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{f.destroy(h)}});break}};function n(A,a,c,l){let u=l.attributeIDs,f=l.attributeTypes,h,p,g=a.GetEncodedGeometryType(c);if(g===A.TRIANGULAR_MESH)h=new A.Mesh,p=a.DecodeArrayToMesh(c,c.byteLength,h);else if(g===A.POINT_CLOUD)h=new A.PointCloud,p=a.DecodeArrayToPointCloud(c,c.byteLength,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());let w={index:null,attributes:[]};for(let y in u){let C=self[f[y]],m,v;if(l.useUniqueIDs)v=u[y],m=a.GetAttributeByUniqueId(h,v);else{if(v=a.GetAttributeId(h,A[u[y]]),v===-1)continue;m=a.GetAttribute(h,v)}let I=t(A,a,h,y,C,m);y==="color"&&(I.vertexColorSpace=l.vertexColorSpace),w.attributes.push(I)}return g===A.TRIANGULAR_MESH&&(w.index=o(A,a,h)),A.destroy(h),w}function o(A,a,c){let u=c.num_faces()*3,f=u*4,h=A._malloc(f);a.GetTrianglesUInt32Array(c,f,h);let p=new Uint32Array(A.HEAPF32.buffer,h,u).slice();return A._free(h),{array:p,itemSize:1}}function t(A,a,c,l,u,f){let h=f.num_components(),g=c.num_points()*h,w=g*u.BYTES_PER_ELEMENT,y=r(A,u),C=A._malloc(w);a.GetAttributeDataArrayForAllPoints(c,f,y,w,C);let m=new u(A.HEAPF32.buffer,C,g).slice();return A._free(C),{name:l,array:m,itemSize:h}}function r(A,a){switch(a){case Float32Array:return A.DT_FLOAT32;case Int8Array:return A.DT_INT8;case Int16Array:return A.DT_INT16;case Int32Array:return A.DT_INT32;case Uint8Array:return A.DT_UINT8;case Uint16Array:return A.DT_UINT16;case Uint32Array:return A.DT_UINT32}}}var ir=Jl(Pu());function Bt(i,e){let n=new ir.Tween(i).easing(ir.Easing.Cubic.InOut);return e||n.start(),n}function y1(){try{ir.update()}catch(i){console.warn("tween update lossage",i),ir.removeAll()}}window.tween=Bt;window.tweenupdate=y1;function v1(i){return document.querySelector(i)}function gr(i,e,n){return new j(i,e,n)}window.vec3=gr;function w1(i,e,n){e=e||10,n=n||50;let o=!1,t=[],r=function(){if(t.length&&!o){o=!0;for(let A=0;A<e&&t.length;A++)t.shift().call();setTimeout(function(){o=!1,r()},n)}};return function(){t.push(i.bind(this,...arguments)),r()}}function x1(i,e,n){return w1(function(){i.modelsync&&i.modelsync(n)},20,51)}var Ii=x1;function I1(i,e,n,o,t,r){return Bt(i.position,r).to({x:e,y:n,z:o},t).on("update",Ii(i))}window.slide=I1;function C1(i,e,n){return Bt(i.scale).to({x:e,y:e,z:e},n||1e3).on("update",Ii(i))}window.grow=C1;function E1(i,e,n,o,t,r){return Bt(i.quaternion).to({x:e,y:n,z:o,w:t},r||1e3).on("update",Ii(i))}window.toquat=E1;function b1(i,e,n,o,t){return Bt(i.rotation).to({x:e,y:n,z:o},t===void 0?1e3:t).on("update",Ii(i))}window.rot=b1;function B1(i,e,n,o,t){let r=new _t,A=new Ft,a,c={t:0};return r.copy(i.quaternion),A.quaternion.copy(r),A.rotateOnAxis(e,n),a=A.quaternion,Bt(c).to({t:1},o).easing(ir.Easing.Linear.None).on("update",function(){i.quaternion.slerpQuaternions(r,a,c.t),t&&t()})}function T1(i,e,n){return B1(i,gr(0,1,0),e,n,Ii(i))}window.roty=T1;function Qu(i,e){var n=[""].concat(Array.prototype.slice.call(arguments,0));console.log.apply(console,arguments)}function S1(i,e){var n=document.createElement("script");n.type="module",n.readyState?n.onreadystatechange=function(){Qu("ldmodule ready",n),(n.readyState=="loaded"||n.readyState=="complete")&&(n.onreadystatechange=null,e&&e(n))}:e&&(n.onload=function(){e(n)}),n.src=i,document.getElementsByTagName("head")[0].appendChild(n)}window.ldmodule=S1;function D1(i,e){var n=document.createElement("script");n.type="application/javascript",n.readyState?n.onreadystatechange=function(){Qu("ldready",n),(n.readyState=="loaded"||n.readyState=="complete")&&(n.onreadystatechange=null,e&&e(n))}:e&&(n.onload=function(){e(n)}),n.src=i,document.getElementsByTagName("head")[0].appendChild(n)}window.ld=D1;function M1(i,e,n,o){e=e||.8,n=n??0,o=o||1e3;let t=lim,r=t.orbitcontrols||t.fpcontrols,A=t.camera;if(i.position?i=i.position.clone():i=i.clone(),t.orbitcontrols&&Bt(r.target).to({x:i.x,y:i.y,z:i.z},o).on("update",function(a){A.lookAt(a),A.userData.targetRotation.copy(A.rotation)}),t.fpcontrols){let a=A.matrixWorld.clone(),c=new j,l=new _t,u=new j;Bt({n:0}).to({n:1},o).on("update",f=>{a.lookAt(A.position,i,A.up),a.decompose(c,l,u),A.quaternion.slerp(l,f.n),A.userData.targetRotation.copy(A.rotation)})}Bt(A.position).to({x:i.x,y:i.y+n,z:i.z+e},o).on("update",function(a){A.userData.targetPosition.copy(A.position)})}function R1(i,e){e=e||1e3;let n=lim,o=n.orbitcontrols||n.fpcontrols,t=n.camera;if(i.position?i=i.position.clone():i=i.clone(),n.orbitcontrols&&Bt(o.target).to({x:i.x,y:i.y,z:i.z},e).on("update",function(r){t.lookAt(r),t.userData.targetRotation.copy(t.rotation)}),n.fpcontrols){let r=t.matrixWorld.clone(),A=new j,a=new _t,c=new j;Bt({n:0}).to({n:1},e).on("update",l=>{r.lookAt(t.position,i,t.up),r.decompose(A,a,c),t.quaternion.slerp(a,l.n),t.userData.targetRotation.copy(t.rotation)})}}window.lookat=R1;window.lookto=M1;function _1(i,e,n,o,t,r){let A=window.app,a=A.orbitcontrols||A.fpcontrols,c=A.camera,l=1e3;return(o||t||r)&&Bt(a.target).to({x:o,y:t,z:r},l).on("update",()=>a.update()),Bt(c.position).to({x:i,y:e,z:n},l).on("update",()=>a.update())}window.camto=_1;function k1(i,e){e=e||(i.path&&i.path.length?i.path[0]:i.srcElement),document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),e.exitFullscreen&&e.exitFullscreen()):e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}window.togglefullscreen=k1;window.togglefullscreen0=F1;function F1(i){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen()}var Vo;function P1(i,e,n){let o=new No;Vo||(Vo=new zo,Vo.setDecoderPath("./jsm/libs/draco/")),o.setDRACOLoader(Vo),o.setPath(e||"./stuff/"),o.load(i,function(t){n&&n(t)})}function Q1(i,e,n){let o=new Ft;return e=e||"./stuff/",Ci(i,e,t=>{let r=t.scene;if(t.animations.length){let A=new wi(r);t.animations.forEach(a=>A.clipAction(a).play())}o.add(r),r.traverse(A=>{A.receiveShadow=!1,A.castShadow=!0,A.frustumCulled=!1,A.material&&(console.warn(A.material),A.material.transparent=!0)}),n&&n(o)}),o}var Ci=P1;window.gltf=Ci;window.sgltf=Q1;function U1(i,e,n){let o="https://sublambda.github.io/",t=new Ft,r=o||"";return t.tag=e||i,t.contenthook=()=>{i.indexOf(".")>0||(i+=".glb"),Ci(i,r+"stuff/",A=>{let a=A.scene;if(A.animations.length){let c=new wi(a);A.animations.forEach(l=>c.clipAction(l).play()),window.app.mixers.push(c),c.timeScale=.8}t.add(a),a.traverse(c=>{if(c.receiveShadow=!0,c.castShadow=!0,c.frustumCulled=!1,c.geometry,c.material){let l=u=>{};Array.isArray(c.material)?c.material.map(l):l(c.material)}}),t.onload&&t.onload(),n&&n(t)})},t.contenthook(),t}window.sogltf=U1;function L1(i,e,n,o,t){return i.ball(Math.floor(e*100),Math.floor(n*100),Math.floor(o*100),t,[180,170,170],1)}window.sball=L1;var yI=gr(-1,-1,-1),vI=gr(0,0,0);function O1(i){let e=document.createElement("video"),n=new hu(e);return e.style.visible="hidden",e.src=i,e.muted=!0,e.autoplay=!1,e.playsinline=!1,e.webkitPlaysinline=!1,e.crossOrigin="anonymous",n.vid=e,n}function Ca(i){let e=new O1(i),n=e.vid,o=new ke(new Pt(1,.8,1),new it({color:16777215,map:e,transparent:!0,side:At}));return o.tag="vidbox",o.vid=n,n.onloadeddata=()=>{n.pause(),n.currentTime=0,n.playsinline=!0,n.loop=!0,n.fullscreen=!1},o.castShadow=!0,o.receiveShadow=!1,o}window.vidbox=Ca;function N1(i,e){e===void 0&&(e=!0),i.traverse(n=>n.material&&(n.material.wireframe=e))}window.wireframe=N1;async function G1(i){}window.loadjs=G1;function z1(i,e,n,o){return(i/=o/2)<1?n/2*i*i+e:-n/2*(--i*(i-2)-1)+e}window.easeInOutQuad=z1;function H1(i,e,n,o){return(i/=o/2)<1?n/2*i*i*i+e:n/2*((i-=2)*i*i+2)+e}window.easeInOutCubic=H1;function V1(){let i=document.createElement("iframe");return i.sandbox="allow-scripts allow-same-origin",i.src="sandbox.html",i.style.visible=!1,document.body.append(i),i.send=e=>i.contentWindow.postMessage(e),i}window.sandboxframe=V1;function j1(i){let e=new Blob([i],{type:"application/javascript"}),n=new Worker(URL.createObjectURL(e));return n.onmessage=o=>console.log("worker.onmessage",o.data),n}window.blobworker=j1;function Y1(i){v1("#status").innerHTML=i}window.setstatus=Y1;async function W1(i){let e=new CompressionStream("gzip"),n=e.writer.getWriter(),o=[],t=e.readable.getReader(),r=0;for(n.write(i),n.close();;){let{value:c,done:l}=await t.read();if(l)break;o.push(c),r+=c.byteLength}let A=new Uint8Array(totalSize),a=0;for(let c of o)A.set(c,a),a+=c.byteLength;return A}window.compress=W1;var La={};Ss(La,{BatchedText:()=>Fa,GlyphsGeometry:()=>Xo,Text:()=>mr,configureTextBuilder:()=>Cm,createTextDerivedMaterial:()=>Qa,dumpSDFTextures:()=>Bm,fontResolverWorkerModule:()=>nf,getCaretAtPoint:()=>Gm,getSelectionRects:()=>zm,getTextRenderInfo:()=>Pa,preloadFont:()=>af,typesetterWorkerModule:()=>uf});function q1(){var i=Object.create(null);function e(t,r){var A=t.id,a=t.name,c=t.dependencies;c===void 0&&(c=[]);var l=t.init;l===void 0&&(l=function(){});var u=t.getTransferables;if(u===void 0&&(u=null),!i[A])try{c=c.map(function(h){return h&&h.isWorkerModule&&(e(h,function(p){if(p instanceof Error)throw p}),h=i[h.id].value),h}),l=o("<"+a+">.init",l),u&&(u=o("<"+a+">.getTransferables",u));var f=null;typeof l=="function"?f=l.apply(void 0,c):console.error("worker module init function failed to rehydrate"),i[A]={id:A,value:f,getTransferables:u},r(f)}catch(h){h&&h.noLog||console.error(h),r(h)}}function n(t,r){var A,a=t.id,c=t.args;(!i[a]||typeof i[a].value!="function")&&r(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var l=(A=i[a]).value.apply(A,c);l&&typeof l.then=="function"?l.then(u,function(f){return r(f instanceof Error?f:new Error(""+f))}):u(l)}catch(f){r(f)}function u(f){try{var h=i[a].getTransferables&&i[a].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),r(f,h)}catch(p){console.error(p),r(p)}}}function o(t,r){var A=void 0;self.troikaDefine=function(c){return A=c};var a=URL.createObjectURL(new Blob(["/** "+t.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(c){console.error(c)}return URL.revokeObjectURL(a),delete self.troikaDefine,A}self.addEventListener("message",function(t){var r=t.data,A=r.messageId,a=r.action,c=r.data;try{a==="registerModule"&&e(c,function(l){l instanceof Error?postMessage({messageId:A,success:!1,error:l.message}):postMessage({messageId:A,success:!0,result:{isCallable:typeof l=="function"}})}),a==="callModule"&&n(c,function(l,u){l instanceof Error?postMessage({messageId:A,success:!1,error:l.message}):postMessage({messageId:A,success:!0,result:l},u||void 0)})}catch(l){postMessage({messageId:A,success:!1,error:l.stack})}})}function K1(i){var e=function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return e._getInitResult().then(function(t){if(typeof t=="function")return t.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=i.dependencies,o=i.init;n=Array.isArray(n)?n.map(function(r){return r&&(r=r.onMainThread||r,r._getInitResult&&(r=r._getInitResult())),r}):[];var t=Promise.all(n).then(function(r){return o.apply(null,r)});return e._getInitResult=function(){return t},t},e}var Lu=function(){var i=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),i=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return Lu=function(){return i},i},J1=0,X1=0,Ea=!1,Ei=Object.create(null),bi=Object.create(null),ba=Object.create(null);function qr(i){if((!i||typeof i.init!="function")&&!Ea)throw new Error("requires `options.init` function");var e=i.dependencies,n=i.init,o=i.getTransferables,t=i.workerId,r=K1(i);t==null&&(t="#default");var A="workerModule"+ ++J1,a=i.name||A,c=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(Ea=!0,u=qr({workerId:t,name:"<"+a+"> function dependency: "+u.name,init:`function(){return (
`+jo(u)+`
)}`}),Ea=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function l(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!Lu())return r.apply(void 0,u);if(!c){c=Uu(t,"registerModule",l.workerModuleData);var h=function(){c=null,bi[t].delete(h)};(bi[t]||(bi[t]=new Set)).add(h)}return c.then(function(p){var g=p.isCallable;if(g)return Uu(t,"callModule",{id:A,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:A,name:a,dependencies:e,init:jo(n),getTransferables:o&&jo(o)},l.onMainThread=r,l}function Ou(i){bi[i]&&bi[i].forEach(function(e){e()}),Ei[i]&&(Ei[i].terminate(),delete Ei[i])}function jo(i){var e=i.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Z1(i){var e=Ei[i];if(!e){var n=jo(q1);e=Ei[i]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+i.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(o){var t=o.data,r=t.messageId,A=ba[r];if(!A)throw new Error("WorkerModule response with empty or unknown messageId");delete ba[r],A(t)}}return e}function Uu(i,e,n){return new Promise(function(o,t){var r=++X1;ba[r]=function(A){A.success?o(A.result):t(new Error("Error in worker "+e+" call: "+A.error))},Z1(i).postMessage({messageId:r,action:e,data:n})})}function Ba(){var i=function(e){function n(O,G,_,N,z,Y,W,ee){var te=1-W;ee.x=te*te*O+2*te*W*_+W*W*z,ee.y=te*te*G+2*te*W*N+W*W*Y}function o(O,G,_,N,z,Y,W,ee,te,re){var se=1-te;re.x=se*se*se*O+3*se*se*te*_+3*se*te*te*z+te*te*te*W,re.y=se*se*se*G+3*se*se*te*N+3*se*te*te*Y+te*te*te*ee}function t(O,G){for(var _=/([MLQCZ])([^MLQCZ]*)/g,N,z,Y,W,ee;N=_.exec(O);){var te=N[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(re){return parseFloat(re)});switch(N[1]){case"M":W=z=te[0],ee=Y=te[1];break;case"L":(te[0]!==W||te[1]!==ee)&&G("L",W,ee,W=te[0],ee=te[1]);break;case"Q":{G("Q",W,ee,W=te[2],ee=te[3],te[0],te[1]);break}case"C":{G("C",W,ee,W=te[4],ee=te[5],te[0],te[1],te[2],te[3]);break}case"Z":(W!==z||ee!==Y)&&G("L",W,ee,z,Y);break}}}function r(O,G,_){_===void 0&&(_=16);var N={x:0,y:0};t(O,function(z,Y,W,ee,te,re,se,le,Ae){switch(z){case"L":G(Y,W,ee,te);break;case"Q":{for(var ne=Y,Ee=W,Te=1;Te<_;Te++)n(Y,W,re,se,ee,te,Te/(_-1),N),G(ne,Ee,N.x,N.y),ne=N.x,Ee=N.y;break}case"C":{for(var de=Y,ye=W,Be=1;Be<_;Be++)o(Y,W,re,se,le,Ae,ee,te,Be/(_-1),N),G(de,ye,N.x,N.y),de=N.x,ye=N.y;break}}})}var A="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",c=new WeakMap,l={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(O,G){var _=O.getContext?O.getContext("webgl",l):O,N=c.get(_);if(!N){let se=function(de){var ye=Y[de];if(!ye&&(ye=Y[de]=_.getExtension(de),!ye))throw new Error(de+" not supported");return ye},le=function(de,ye){var Be=_.createShader(ye);return _.shaderSource(Be,de),_.compileShader(Be),Be},Ae=function(de,ye,Be,ae){if(!W[de]){var pe={},we={},ie=_.createProgram();_.attachShader(ie,le(ye,_.VERTEX_SHADER)),_.attachShader(ie,le(Be,_.FRAGMENT_SHADER)),_.linkProgram(ie),W[de]={program:ie,transaction:function(fe){_.useProgram(ie),fe({setUniform:function(ge,Pe){for(var Ie=[],Ce=arguments.length-2;Ce-- >0;)Ie[Ce]=arguments[Ce+2];var be=we[Pe]||(we[Pe]=_.getUniformLocation(ie,Pe));_["uniform"+ge].apply(_,[be].concat(Ie))},setAttribute:function(ge,Pe,Ie,Ce,be){var Me=pe[ge];Me||(Me=pe[ge]={buf:_.createBuffer(),loc:_.getAttribLocation(ie,ge),data:null}),_.bindBuffer(_.ARRAY_BUFFER,Me.buf),_.vertexAttribPointer(Me.loc,Pe,_.FLOAT,!1,0,0),_.enableVertexAttribArray(Me.loc),z?_.vertexAttribDivisor(Me.loc,Ce):se("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Me.loc,Ce),be!==Me.data&&(_.bufferData(_.ARRAY_BUFFER,be,Ie),Me.data=be)}})}}}W[de].transaction(ae)},ne=function(de,ye){te++;try{_.activeTexture(_.TEXTURE0+te);var Be=ee[de];Be||(Be=ee[de]=_.createTexture(),_.bindTexture(_.TEXTURE_2D,Be),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST)),_.bindTexture(_.TEXTURE_2D,Be),ye(Be,te)}finally{te--}},Ee=function(de,ye,Be){var ae=_.createFramebuffer();re.push(ae),_.bindFramebuffer(_.FRAMEBUFFER,ae),_.activeTexture(_.TEXTURE0+ye),_.bindTexture(_.TEXTURE_2D,de),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,de,0);try{Be(ae)}finally{_.deleteFramebuffer(ae),_.bindFramebuffer(_.FRAMEBUFFER,re[--re.length-1]||null)}},Te=function(){Y={},W={},ee={},te=-1,re.length=0};var z=typeof WebGL2RenderingContext<"u"&&_ instanceof WebGL2RenderingContext,Y={},W={},ee={},te=-1,re=[];_.canvas.addEventListener("webglcontextlost",function(de){Te(),de.preventDefault()},!1),c.set(_,N={gl:_,isWebGL2:z,getExtension:se,withProgram:Ae,withTexture:ne,withTextureFramebuffer:Ee,handleContextLoss:Te})}G(N)}function f(O,G,_,N,z,Y,W,ee){W===void 0&&(W=15),ee===void 0&&(ee=null),u(O,function(te){var re=te.gl,se=te.withProgram,le=te.withTexture;le("copy",function(Ae,ne){re.texImage2D(re.TEXTURE_2D,0,re.RGBA,z,Y,0,re.RGBA,re.UNSIGNED_BYTE,G),se("copy",A,a,function(Ee){var Te=Ee.setUniform,de=Ee.setAttribute;de("aUV",2,re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Te("1i","image",ne),re.bindFramebuffer(re.FRAMEBUFFER,ee||null),re.disable(re.BLEND),re.colorMask(W&8,W&4,W&2,W&1),re.viewport(_,N,z,Y),re.scissor(_,N,z,Y),re.drawArrays(re.TRIANGLES,0,3)})})})}function h(O,G,_){var N=O.width,z=O.height;u(O,function(Y){var W=Y.gl,ee=new Uint8Array(N*z*4);W.readPixels(0,0,N,z,W.RGBA,W.UNSIGNED_BYTE,ee),O.width=G,O.height=_,f(W,ee,0,0,N,z)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function g(O,G,_,N,z,Y){Y===void 0&&(Y=1);var W=new Uint8Array(O*G),ee=N[2]-N[0],te=N[3]-N[1],re=[];r(_,function(de,ye,Be,ae){re.push({x1:de,y1:ye,x2:Be,y2:ae,minX:Math.min(de,Be),minY:Math.min(ye,ae),maxX:Math.max(de,Be),maxY:Math.max(ye,ae)})}),re.sort(function(de,ye){return de.maxX-ye.maxX});for(var se=0;se<O;se++)for(var le=0;le<G;le++){var Ae=Ee(N[0]+ee*(se+.5)/O,N[1]+te*(le+.5)/G),ne=Math.pow(1-Math.abs(Ae)/z,Y)/2;Ae<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),W[le*O+se]=ne}return W;function Ee(de,ye){for(var Be=1/0,ae=1/0,pe=re.length;pe--;){var we=re[pe];if(we.maxX+ae<=de)break;if(de+ae>we.minX&&ye-ae<we.maxY&&ye+ae>we.minY){var ie=C(de,ye,we.x1,we.y1,we.x2,we.y2);ie<Be&&(Be=ie,ae=Math.sqrt(Be))}}return Te(de,ye)&&(ae=-ae),ae}function Te(de,ye){for(var Be=0,ae=re.length;ae--;){var pe=re[ae];if(pe.maxX<=de)break;var we=pe.y1>ye!=pe.y2>ye&&de<(pe.x2-pe.x1)*(ye-pe.y1)/(pe.y2-pe.y1)+pe.x1;we&&(Be+=pe.y1<pe.y2?1:-1)}return Be!==0}}function w(O,G,_,N,z,Y,W,ee,te,re){Y===void 0&&(Y=1),ee===void 0&&(ee=0),te===void 0&&(te=0),re===void 0&&(re=0),y(O,G,_,N,z,Y,W,null,ee,te,re)}function y(O,G,_,N,z,Y,W,ee,te,re,se){Y===void 0&&(Y=1),te===void 0&&(te=0),re===void 0&&(re=0),se===void 0&&(se=0);for(var le=g(O,G,_,N,z,Y),Ae=new Uint8Array(le.length*4),ne=0;ne<le.length;ne++)Ae[ne*4+se]=le[ne];f(W,Ae,te,re,O,G,1<<3-se,ee)}function C(O,G,_,N,z,Y){var W=z-_,ee=Y-N,te=W*W+ee*ee,re=te?Math.max(0,Math.min(1,((O-_)*W+(G-N)*ee)/te)):0,se=O-(_+re*W),le=G-(N+re*ee);return se*se+le*le}var m=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:w,generateIntoFramebuffer:y}),v="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",I="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",B=new Float32Array([0,0,2,0,0,2]),b=null,T=!1,S={},R=new WeakMap;function Q(O){if(!T&&!H(O))throw new Error("WebGL generation not supported")}function M(O,G,_,N,z,Y,W){if(Y===void 0&&(Y=1),W===void 0&&(W=null),!W&&(W=b,!W)){var ee=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ee)throw new Error("OffscreenCanvas or DOM canvas not supported");W=b=ee.getContext("webgl",{depth:!1})}Q(W);var te=new Uint8Array(O*G*4);u(W,function(Ae){var ne=Ae.gl,Ee=Ae.withTexture,Te=Ae.withTextureFramebuffer;Ee("readable",function(de,ye){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,O,G,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Te(de,ye,function(Be){P(O,G,_,N,z,Y,ne,Be,0,0,0),ne.readPixels(0,0,O,G,ne.RGBA,ne.UNSIGNED_BYTE,te)})})});for(var re=new Uint8Array(O*G),se=0,le=0;se<te.length;se+=4)re[le++]=te[se];return re}function k(O,G,_,N,z,Y,W,ee,te,re){Y===void 0&&(Y=1),ee===void 0&&(ee=0),te===void 0&&(te=0),re===void 0&&(re=0),P(O,G,_,N,z,Y,W,null,ee,te,re)}function P(O,G,_,N,z,Y,W,ee,te,re,se){Y===void 0&&(Y=1),te===void 0&&(te=0),re===void 0&&(re=0),se===void 0&&(se=0),Q(W);var le=[];r(_,function(Ae,ne,Ee,Te){le.push(Ae,ne,Ee,Te)}),le=new Float32Array(le),u(W,function(Ae){var ne=Ae.gl,Ee=Ae.isWebGL2,Te=Ae.getExtension,de=Ae.withProgram,ye=Ae.withTexture,Be=Ae.withTextureFramebuffer,ae=Ae.handleContextLoss;if(ye("rawDistances",function(pe,we){(O!==pe._lastWidth||G!==pe._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,pe._lastWidth=O,pe._lastHeight=G,0,ne.RGBA,ne.UNSIGNED_BYTE,null),de("main",v,I,function(ie){var _e=ie.setAttribute,fe=ie.setUniform,ve=!Ee&&Te("ANGLE_instanced_arrays"),ge=!Ee&&Te("EXT_blend_minmax");_e("aUV",2,ne.STATIC_DRAW,0,B),_e("aLineSegment",4,ne.DYNAMIC_DRAW,1,le),fe.apply(void 0,["4f","uGlyphBounds"].concat(N)),fe("1f","uMaxDistance",z),fe("1f","uExponent",Y),Be(pe,we,function(Pe){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,O,G),ne.scissor(0,0,O,G),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,Ee?ne.MAX:ge.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),Ee?ne.drawArraysInstanced(ne.TRIANGLES,0,3,le.length/4):ve.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,le.length/4)})}),de("post",A,E,function(ie){ie.setAttribute("aUV",2,ne.STATIC_DRAW,0,B),ie.setUniform("1i","tex",we),ne.bindFramebuffer(ne.FRAMEBUFFER,ee),ne.disable(ne.BLEND),ne.colorMask(se===0,se===1,se===2,se===3),ne.viewport(te,re,O,G),ne.scissor(te,re,O,G),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw ae(),new Error("webgl context lost")})}function H(O){var G=!O||O===b?S:O.canvas||O,_=R.get(G);if(_===void 0){T=!0;var N=null;try{var z=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=M(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,O);_=Y&&z.length===Y.length&&Y.every(function(W,ee){return W===z[ee]}),_||(N="bad trial run results",console.info(z,Y))}catch(W){_=!1,N=W.message}N&&console.warn("WebGL SDF generation not supported:",N),T=!1,R.set(G,_)}return _}var U=Object.freeze({__proto__:null,generate:M,generateIntoCanvas:k,generateIntoFramebuffer:P,isSupported:H});function K(O,G,_,N,z,Y){z===void 0&&(z=Math.max(N[2]-N[0],N[3]-N[1])/2),Y===void 0&&(Y=1);try{return M.apply(U,arguments)}catch(W){return console.info("WebGL SDF generation failed, falling back to JS",W),g.apply(m,arguments)}}function q(O,G,_,N,z,Y,W,ee,te,re){z===void 0&&(z=Math.max(N[2]-N[0],N[3]-N[1])/2),Y===void 0&&(Y=1),ee===void 0&&(ee=0),te===void 0&&(te=0),re===void 0&&(re=0);try{return k.apply(U,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),w.apply(m,arguments)}}return e.forEachPathCommand=t,e.generate=K,e.generateIntoCanvas=q,e.javascript=m,e.pathToLineSegments=r,e.webgl=U,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}function $1(){var i=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},o={},t={};o.L=1,t[1]="L",Object.keys(n).forEach(function(ae,pe){o[ae]=1<<pe+1,t[o[ae]]=ae}),Object.freeze(o);var r=o.LRI|o.RLI|o.FSI,A=o.L|o.R|o.AL,a=o.B|o.S|o.WS|o.ON|o.FSI|o.LRI|o.RLI|o.PDI,c=o.BN|o.RLE|o.LRE|o.RLO|o.LRO|o.PDF,l=o.S|o.WS|o.B|r|o.PDI|c,u=null;function f(){if(!u){u=new Map;var ae=function(we){if(n.hasOwnProperty(we)){var ie=0;n[we].split(",").forEach(function(_e){var fe=_e.split("+"),ve=fe[0],ge=fe[1];ve=parseInt(ve,36),ge=ge?parseInt(ge,36):0,u.set(ie+=ve,o[we]);for(var Pe=0;Pe<ge;Pe++)u.set(++ie,o[we])})}};for(var pe in n)ae(pe)}}function h(ae){return f(),u.get(ae.codePointAt(0))||o.L}function p(ae){return t[h(ae)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function w(ae,pe){var we=36,ie=0,_e=new Map,fe=pe&&new Map,ve;return ae.split(",").forEach(function ge(Pe){if(Pe.indexOf("+")!==-1)for(var Ie=+Pe;Ie--;)ge(ve);else{ve=Pe;var Ce=Pe.split(">"),be=Ce[0],Me=Ce[1];be=String.fromCodePoint(ie+=parseInt(be,we)),Me=String.fromCodePoint(ie+=parseInt(Me,we)),_e.set(be,Me),pe&&fe.set(Me,be)}}),{map:_e,reverseMap:fe}}var y,C,m;function v(){if(!y){var ae=w(g.pairs,!0),pe=ae.map,we=ae.reverseMap;y=pe,C=we,m=w(g.canonical,!1).map}}function I(ae){return v(),y.get(ae)||null}function E(ae){return v(),C.get(ae)||null}function B(ae){return v(),m.get(ae)||null}var b=o.L,T=o.R,S=o.EN,R=o.ES,Q=o.ET,M=o.AN,k=o.CS,P=o.B,H=o.S,U=o.ON,K=o.BN,q=o.NSM,O=o.AL,G=o.LRO,_=o.RLO,N=o.LRE,z=o.RLE,Y=o.PDF,W=o.LRI,ee=o.RLI,te=o.FSI,re=o.PDI;function se(ae,pe){for(var we=125,ie=new Uint32Array(ae.length),_e=0;_e<ae.length;_e++)ie[_e]=h(ae[_e]);var fe=new Map;function ve(Et,Vt){var bt=ie[Et];ie[Et]=Vt,fe.set(bt,fe.get(bt)-1),bt&a&&fe.set(a,fe.get(a)-1),fe.set(Vt,(fe.get(Vt)||0)+1),Vt&a&&fe.set(a,(fe.get(a)||0)+1)}for(var ge=new Uint8Array(ae.length),Pe=new Map,Ie=[],Ce=null,be=0;be<ae.length;be++)Ce||Ie.push(Ce={start:be,end:ae.length-1,level:pe==="rtl"?1:pe==="ltr"?0:ql(be,!1)}),ie[be]&P&&(Ce.end=be,Ce=null);for(var Me=z|N|_|G|r|re|Y|P,Ge=function(Et){return Et+(Et&1?1:2)},Z=function(Et){return Et+(Et&1?2:1)},d=0;d<Ie.length;d++){Ce=Ie[d];var x=[{_level:Ce.level,_override:0,_isolate:0}],D=void 0,F=0,L=0,V=0;fe.clear();for(var $=Ce.start;$<=Ce.end;$++){var X=ie[$];if(D=x[x.length-1],fe.set(X,(fe.get(X)||0)+1),X&a&&fe.set(a,(fe.get(a)||0)+1),X&Me)if(X&(z|N)){ge[$]=D._level;var J=(X===z?Z:Ge)(D._level);J<=we&&!F&&!L?x.push({_level:J,_override:0,_isolate:0}):F||L++}else if(X&(_|G)){ge[$]=D._level;var ce=(X===_?Z:Ge)(D._level);ce<=we&&!F&&!L?x.push({_level:ce,_override:X&_?T:b,_isolate:0}):F||L++}else if(X&r){X&te&&(X=ql($+1,!0)===1?ee:W),ge[$]=D._level,D._override&&ve($,D._override);var oe=(X===ee?Z:Ge)(D._level);oe<=we&&F===0&&L===0?(V++,x.push({_level:oe,_override:0,_isolate:1,_isolInitIndex:$})):F++}else if(X&re){if(F>0)F--;else if(V>0){for(L=0;!x[x.length-1]._isolate;)x.pop();var ue=x[x.length-1]._isolInitIndex;ue!=null&&(Pe.set(ue,$),Pe.set($,ue)),x.pop(),V--}D=x[x.length-1],ge[$]=D._level,D._override&&ve($,D._override)}else X&Y?(F===0&&(L>0?L--:!D._isolate&&x.length>1&&(x.pop(),D=x[x.length-1])),ge[$]=D._level):X&P&&(ge[$]=Ce.level);else ge[$]=D._level,D._override&&X!==K&&ve($,D._override)}for(var me=[],xe=null,he=Ce.start;he<=Ce.end;he++){var Re=ie[he];if(!(Re&c)){var Ye=ge[he],Oe=Re&r,Ve=Re===re;xe&&Ye===xe._level?(xe._end=he,xe._endsWithIsolInit=Oe):me.push(xe={_start:he,_end:he,_level:Ye,_startsWithPDI:Ve,_endsWithIsolInit:Oe})}}for(var mt=[],Ct=0;Ct<me.length;Ct++){var Ke=me[Ct];if(!Ke._startsWithPDI||Ke._startsWithPDI&&!Pe.has(Ke._start)){for(var $t=[xe=Ke],fr=void 0;xe&&xe._endsWithIsolInit&&(fr=Pe.get(xe._end))!=null;)for(var Gt=Ct+1;Gt<me.length;Gt++)if(me[Gt]._start===fr){$t.push(xe=me[Gt]);break}for(var ct=[],er=0;er<$t.length;er++)for(var $n=$t[er],zt=$n._start;zt<=$n._end;zt++)ct.push(zt);for(var yt=ge[ct[0]],tr=Ce.level,ln=ct[0]-1;ln>=0;ln--)if(!(ie[ln]&c)){tr=ge[ln];break}var Gr=ct[ct.length-1],ei=ge[Gr],Ml=Ce.level;if(!(ie[Gr]&r)){for(var uo=Gr+1;uo<=Ce.end;uo++)if(!(ie[uo]&c)){Ml=ge[uo];break}}mt.push({_seqIndices:ct,_sosType:Math.max(tr,yt)%2?T:b,_eosType:Math.max(Ml,ei)%2?T:b})}}for(var ls=0;ls<mt.length;ls++){var us=mt[ls],Se=us._seqIndices,ti=us._sosType,kg=us._eosType,un=ge[Se[0]]&1?T:b;if(fe.get(q))for(var fo=0;fo<Se.length;fo++){var Rl=Se[fo];if(ie[Rl]&q){for(var fs=ti,ho=fo-1;ho>=0;ho--)if(!(ie[Se[ho]]&c)){fs=ie[Se[ho]];break}ve(Rl,fs&(r|re)?U:fs)}}if(fe.get(S))for(var po=0;po<Se.length;po++){var _l=Se[po];if(ie[_l]&S)for(var go=po-1;go>=-1;go--){var kl=go===-1?ti:ie[Se[go]];if(kl&A){kl===O&&ve(_l,M);break}}}if(fe.get(O))for(var hs=0;hs<Se.length;hs++){var Fl=Se[hs];ie[Fl]&O&&ve(Fl,T)}if(fe.get(R)||fe.get(k))for(var ri=1;ri<Se.length-1;ri++){var ps=Se[ri];if(ie[ps]&(R|k)){for(var fn=0,ds=0,gs=ri-1;gs>=0&&(fn=ie[Se[gs]],!!(fn&c));gs--);for(var ms=ri+1;ms<Se.length&&(ds=ie[Se[ms]],!!(ds&c));ms++);fn===ds&&(ie[ps]===R?fn===S:fn&(S|M))&&ve(ps,fn)}}if(fe.get(S))for(var rr=0;rr<Se.length;rr++){var Fg=Se[rr];if(ie[Fg]&S){for(var mo=rr-1;mo>=0&&ie[Se[mo]]&(Q|c);mo--)ve(Se[mo],S);for(rr++;rr<Se.length&&ie[Se[rr]]&(Q|c|S);rr++)ie[Se[rr]]!==S&&ve(Se[rr],S)}}if(fe.get(Q)||fe.get(R)||fe.get(k))for(var ni=0;ni<Se.length;ni++){var Pl=Se[ni];if(ie[Pl]&(Q|R|k)){ve(Pl,U);for(var yo=ni-1;yo>=0&&ie[Se[yo]]&c;yo--)ve(Se[yo],U);for(var vo=ni+1;vo<Se.length&&ie[Se[vo]]&c;vo++)ve(Se[vo],U)}}if(fe.get(S))for(var ys=0,Ql=ti;ys<Se.length;ys++){var Ul=Se[ys],vs=ie[Ul];vs&S?Ql===b&&ve(Ul,b):vs&A&&(Ql=vs)}if(fe.get(a)){var ii=T|S|M,Ll=ii|b,wo=[];{for(var hn=[],pn=0;pn<Se.length;pn++)if(ie[Se[pn]]&a){var oi=ae[Se[pn]],Ol=void 0;if(I(oi)!==null)if(hn.length<63)hn.push({char:oi,seqIndex:pn});else break;else if((Ol=E(oi))!==null)for(var Ai=hn.length-1;Ai>=0;Ai--){var ws=hn[Ai].char;if(ws===Ol||ws===E(B(oi))||I(B(ws))===oi){wo.push([hn[Ai].seqIndex,pn]),hn.length=Ai;break}}}wo.sort(function(Et,Vt){return Et[0]-Vt[0]})}for(var xs=0;xs<wo.length;xs++){for(var Nl=wo[xs],xo=Nl[0],Is=Nl[1],Gl=!1,Ht=0,Cs=xo+1;Cs<Is;Cs++){var zl=Se[Cs];if(ie[zl]&Ll){Gl=!0;var Hl=ie[zl]&ii?T:b;if(Hl===un){Ht=Hl;break}}}if(Gl&&!Ht){Ht=ti;for(var Es=xo-1;Es>=0;Es--){var Vl=Se[Es];if(ie[Vl]&Ll){var jl=ie[Vl]&ii?T:b;jl!==un?Ht=jl:Ht=un;break}}}if(Ht){if(ie[Se[xo]]=ie[Se[Is]]=Ht,Ht!==un){for(var si=xo+1;si<Se.length;si++)if(!(ie[Se[si]]&c)){h(ae[Se[si]])&q&&(ie[Se[si]]=Ht);break}}if(Ht!==un){for(var ai=Is+1;ai<Se.length;ai++)if(!(ie[Se[ai]]&c)){h(ae[Se[ai]])&q&&(ie[Se[ai]]=Ht);break}}}}for(var br=0;br<Se.length;br++)if(ie[Se[br]]&a){for(var Yl=br,bs=br,Bs=ti,ci=br-1;ci>=0;ci--)if(ie[Se[ci]]&c)Yl=ci;else{Bs=ie[Se[ci]]&ii?T:b;break}for(var Wl=kg,li=br+1;li<Se.length;li++)if(ie[Se[li]]&(a|c))bs=li;else{Wl=ie[Se[li]]&ii?T:b;break}for(var Ts=Yl;Ts<=bs;Ts++)ie[Se[Ts]]=Bs===Wl?Bs:un;br=bs}}}for(var St=Ce.start;St<=Ce.end;St++){var Pg=ge[St],Io=ie[St];if(Pg&1?Io&(b|S|M)&&ge[St]++:Io&T?ge[St]++:Io&(M|S)&&(ge[St]+=2),Io&c&&(ge[St]=St===0?Ce.level:ge[St-1]),St===Ce.end||h(ae[St])&(H|P))for(var Co=St;Co>=0&&h(ae[Co])&l;Co--)ge[Co]=Ce.level}}return{levels:ge,paragraphs:Ie};function ql(Et,Vt){for(var bt=Et;bt<ae.length;bt++){var Br=ie[bt];if(Br&(T|O))return 1;if(Br&(P|b)||Vt&&Br===re)return 0;if(Br&r){var Kl=Qg(bt);bt=Kl===-1?ae.length:Kl}}return 0}function Qg(Et){for(var Vt=1,bt=Et+1;bt<ae.length;bt++){var Br=ie[bt];if(Br&P)break;if(Br&re){if(--Vt===0)return bt}else Br&r&&Vt++}return-1}}var le="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ae;function ne(){if(!Ae){var ae=w(le,!0),pe=ae.map,we=ae.reverseMap;we.forEach(function(ie,_e){pe.set(_e,ie)}),Ae=pe}}function Ee(ae){return ne(),Ae.get(ae)||null}function Te(ae,pe,we,ie){var _e=ae.length;we=Math.max(0,we==null?0:+we),ie=Math.min(_e-1,ie==null?_e-1:+ie);for(var fe=new Map,ve=we;ve<=ie;ve++)if(pe[ve]&1){var ge=Ee(ae[ve]);ge!==null&&fe.set(ve,ge)}return fe}function de(ae,pe,we,ie){var _e=ae.length;we=Math.max(0,we==null?0:+we),ie=Math.min(_e-1,ie==null?_e-1:+ie);var fe=[];return pe.paragraphs.forEach(function(ve){var ge=Math.max(we,ve.start),Pe=Math.min(ie,ve.end);if(ge<Pe){for(var Ie=pe.levels.slice(ge,Pe+1),Ce=Pe;Ce>=ge&&h(ae[Ce])&l;Ce--)Ie[Ce]=ve.level;for(var be=ve.level,Me=1/0,Ge=0;Ge<Ie.length;Ge++){var Z=Ie[Ge];Z>be&&(be=Z),Z<Me&&(Me=Z|1)}for(var d=be;d>=Me;d--)for(var x=0;x<Ie.length;x++)if(Ie[x]>=d){for(var D=x;x+1<Ie.length&&Ie[x+1]>=d;)x++;x>D&&fe.push([D+ge,x+ge])}}}),fe}function ye(ae,pe,we,ie){var _e=Be(ae,pe,we,ie),fe=[].concat(ae);return _e.forEach(function(ve,ge){fe[ge]=(pe.levels[ve]&1?Ee(ae[ve]):null)||ae[ve]}),fe.join("")}function Be(ae,pe,we,ie){for(var _e=de(ae,pe,we,ie),fe=[],ve=0;ve<ae.length;ve++)fe[ve]=ve;return _e.forEach(function(ge){for(var Pe=ge[0],Ie=ge[1],Ce=fe.slice(Pe,Ie+1),be=Ce.length;be--;)fe[Ie-be]=Ce[be]}),fe}return e.closingToOpeningBracket=E,e.getBidiCharType=h,e.getBidiCharTypeName=p,e.getCanonicalBracket=B,e.getEmbeddingLevels=se,e.getMirroredCharacter=Ee,e.getMirroredCharactersMap=Te,e.getReorderSegments=de,e.getReorderedIndices=Be,e.getReorderedString=ye,e.openingToClosingBracket=I,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return i}var Nu=$1;var Sa=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Ta(i){let e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(o,t){let r=Eu[t];return r?Ta(r):o}return i.replace(e,n)}var dt=[];for(let i=0;i<256;i++)dt[i]=(i<16?"0":"")+i.toString(16);function em(){let i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(dt[i&255]+dt[i>>8&255]+dt[i>>16&255]+dt[i>>24&255]+"-"+dt[e&255]+dt[e>>8&255]+"-"+dt[e>>16&15|64]+dt[e>>24&255]+"-"+dt[n&63|128]+dt[n>>8&255]+"-"+dt[n>>16&255]+dt[n>>24&255]+dt[o&255]+dt[o>>8&255]+dt[o>>16&255]+dt[o>>24&255]).toUpperCase()}var Kr=Object.assign||function(){let i=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let o=arguments[e];if(o)for(let t in o)Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}return i},tm=Date.now(),Gu=new WeakMap,zu=new Map,rm=1e10;function Cn(i,e){let n=Am(e),o=Gu.get(i);if(o||Gu.set(i,o=Object.create(null)),o[n])return new o[n];let t=`_onBeforeCompile${n}`,r=function(l,u){i.onBeforeCompile.call(this,l,u);let f=this.customProgramCacheKey()+"|"+l.vertexShader+"|"+l.fragmentShader,h=zu[f];if(!h){let p=nm(this,l,e,n);h=zu[f]=p}l.vertexShader=h.vertexShader,l.fragmentShader=h.fragmentShader,Kr(l.uniforms,this.uniforms),e.timeUniform&&(l.uniforms[e.timeUniform]={get value(){return Date.now()-tm}}),this[t]&&this[t](l)},A=function(){return a(e.chained?i:i.clone())},a=function(l){let u=Object.create(l,c);return Object.defineProperty(u,"baseMaterial",{value:i}),Object.defineProperty(u,"id",{value:rm++}),u.uuid=em(),u.uniforms=Kr({},l.uniforms,e.uniforms),u.defines=Kr({},l.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=Kr({},l.extensions,e.extensions),u._listeners=void 0,u},c={constructor:{value:A},isDerivedMaterial:{value:!0},type:{get:()=>i.type,set:l=>{i.type=l}},isDerivedFrom:{writable:!0,configurable:!0,value:function(l){let u=this.baseMaterial;return l===u||u.isDerivedMaterial&&u.isDerivedFrom(l)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return i.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return r},set(l){this[t]=l}},copy:{writable:!0,configurable:!0,value:function(l){return i.copy.call(this,l),!i.isShaderMaterial&&!i.isDerivedMaterial&&(Kr(this.extensions,l.extensions),Kr(this.defines,l.defines),Kr(this.uniforms,au.clone(l.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){let l=new i.constructor;return a(l).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let l=this._depthMaterial;return l||(l=this._depthMaterial=Cn(i.isDerivedMaterial?i.getDepthMaterial():new yu({depthPacking:ou}),e),l.defines.IS_DEPTH_MATERIAL="",l.uniforms=this.uniforms),l}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let l=this._distanceMaterial;return l||(l=this._distanceMaterial=Cn(i.isDerivedMaterial?i.getDistanceMaterial():new vu,e),l.defines.IS_DISTANCE_MATERIAL="",l.uniforms=this.uniforms),l}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:l,_distanceMaterial:u}=this;l&&l.dispose(),u&&u.dispose(),i.dispose.call(this)}}};return o[n]=A,new A}function nm(i,{vertexShader:e,fragmentShader:n},o,t){let{vertexDefs:r,vertexMainIntro:A,vertexMainOutro:a,vertexTransform:c,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:p,timeUniform:g}=o;if(r=r||"",A=A||"",a=a||"",l=l||"",u=u||"",f=f||"",(c||p)&&(e=Ta(e)),(h||p)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=Ta(n)),p){let w=p({vertexShader:e,fragmentShader:n});e=w.vertexShader,n=w.fragmentShader}if(h){let w=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(w.push(y),"")),f=`${h}
${w.join(`
`)}
${f}`}if(g){let w=`
uniform float ${g};
`;r=w+r,l=w+l}return c&&(e=`vec3 troika_position_${t};
vec3 troika_normal_${t};
vec2 troika_uv_${t};
${e}
`,r=`${r}
void troikaVertexTransform${t}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,A=`
troika_position_${t} = vec3(position);
troika_normal_${t} = vec3(normal);
troika_uv_${t} = vec2(uv);
troikaVertexTransform${t}(troika_position_${t}, troika_normal_${t}, troika_uv_${t});
${A}
`,e=e.replace(/\b(position|normal|uv)\b/g,(w,y,C,m)=>/\battribute\s+vec[23]\s+$/.test(m.substr(0,C))?y:`troika_${y}_${t}`),i.map&&i.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${t}`))),e=Hu(e,t,r,A,a),n=Hu(n,t,l,u,f),{vertexShader:e,fragmentShader:n}}function Hu(i,e,n,o,t){return(o||t||n)&&(i=i.replace(Sa,`
${n}
void troikaOrigMain${e}() {`),i+=`
void main() {
  ${o}
  troikaOrigMain${e}();
  ${t}
}`),i}function im(i,e){return i==="uniforms"?void 0:typeof e=="function"?e.toString():e}var om=0,Vu=new Map;function Am(i){let e=JSON.stringify(i,im),n=Vu.get(e);return n==null&&Vu.set(e,n=++om),n}function sm(){return typeof window>"u"&&(self.window=self),function(i){var e={parse:function(t){var r=e._bin,A=new Uint8Array(t);if(r.readASCII(A,0,4)=="ttcf"){var a=4;r.readUshort(A,a),a+=2,r.readUshort(A,a),a+=2;var c=r.readUint(A,a);a+=4;for(var l=[],u=0;u<c;u++){var f=r.readUint(A,a);a+=4,l.push(e._readFont(A,f))}return l}return[e._readFont(A,0)]},_readFont:function(t,r){var A=e._bin,a=r;A.readFixed(t,r),r+=4;var c=A.readUshort(t,r);r+=2,A.readUshort(t,r),r+=2,A.readUshort(t,r),r+=2,A.readUshort(t,r),r+=2;for(var l=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:t,_offset:a},f={},h=0;h<c;h++){var p=A.readASCII(t,r,4);r+=4,A.readUint(t,r),r+=4;var g=A.readUint(t,r);r+=4;var w=A.readUint(t,r);r+=4,f[p]={offset:g,length:w}}for(h=0;h<l.length;h++){var y=l[h];f[y]&&(u[y.trim()]=e[y.trim()].parse(t,f[y].offset,f[y].length,u))}return u},_tabOffset:function(t,r,A){for(var a=e._bin,c=a.readUshort(t,A+4),l=A+12,u=0;u<c;u++){var f=a.readASCII(t,l,4);l+=4,a.readUint(t,l),l+=4;var h=a.readUint(t,l);if(l+=4,a.readUint(t,l),l+=4,f==r)return h}return 0}};e._bin={readFixed:function(t,r){return(t[r]<<8|t[r+1])+(t[r+2]<<8|t[r+3])/65540},readF2dot14:function(t,r){return e._bin.readShort(t,r)/16384},readInt:function(t,r){return e._bin._view(t).getInt32(r)},readInt8:function(t,r){return e._bin._view(t).getInt8(r)},readShort:function(t,r){return e._bin._view(t).getInt16(r)},readUshort:function(t,r){return e._bin._view(t).getUint16(r)},readUshorts:function(t,r,A){for(var a=[],c=0;c<A;c++)a.push(e._bin.readUshort(t,r+2*c));return a},readUint:function(t,r){return e._bin._view(t).getUint32(r)},readUint64:function(t,r){return 4294967296*e._bin.readUint(t,r)+e._bin.readUint(t,r+4)},readASCII:function(t,r,A){for(var a="",c=0;c<A;c++)a+=String.fromCharCode(t[r+c]);return a},readUnicode:function(t,r,A){for(var a="",c=0;c<A;c++){var l=t[r++]<<8|t[r++];a+=String.fromCharCode(l)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,r,A){var a=e._bin._tdec;return a&&r==0&&A==t.length?a.decode(t):e._bin.readASCII(t,r,A)},readBytes:function(t,r,A){for(var a=[],c=0;c<A;c++)a.push(t[r+c]);return a},readASCIIArray:function(t,r,A){for(var a=[],c=0;c<A;c++)a.push(String.fromCharCode(t[r+c]));return a},_view:function(t){return t._dataView||(t._dataView=t.buffer?new DataView(t.buffer,t.byteOffset,t.byteLength):new DataView(new Uint8Array(t).buffer))}},e._lctf={},e._lctf.parse=function(t,r,A,a,c){var l=e._bin,u={},f=r;l.readFixed(t,r),r+=4;var h=l.readUshort(t,r);r+=2;var p=l.readUshort(t,r);r+=2;var g=l.readUshort(t,r);return r+=2,u.scriptList=e._lctf.readScriptList(t,f+h),u.featureList=e._lctf.readFeatureList(t,f+p),u.lookupList=e._lctf.readLookupList(t,f+g,c),u},e._lctf.readLookupList=function(t,r,A){var a=e._bin,c=r,l=[],u=a.readUshort(t,r);r+=2;for(var f=0;f<u;f++){var h=a.readUshort(t,r);r+=2;var p=e._lctf.readLookupTable(t,c+h,A);l.push(p)}return l},e._lctf.readLookupTable=function(t,r,A){var a=e._bin,c=r,l={tabs:[]};l.ltype=a.readUshort(t,r),r+=2,l.flag=a.readUshort(t,r),r+=2;var u=a.readUshort(t,r);r+=2;for(var f=l.ltype,h=0;h<u;h++){var p=a.readUshort(t,r);r+=2;var g=A(t,f,c+p,l);l.tabs.push(g)}return l},e._lctf.numOfOnes=function(t){for(var r=0,A=0;A<32;A++)t>>>A&1&&r++;return r},e._lctf.readClassDef=function(t,r){var A=e._bin,a=[],c=A.readUshort(t,r);if(r+=2,c==1){var l=A.readUshort(t,r);r+=2;var u=A.readUshort(t,r);r+=2;for(var f=0;f<u;f++)a.push(l+f),a.push(l+f),a.push(A.readUshort(t,r)),r+=2}if(c==2){var h=A.readUshort(t,r);for(r+=2,f=0;f<h;f++)a.push(A.readUshort(t,r)),r+=2,a.push(A.readUshort(t,r)),r+=2,a.push(A.readUshort(t,r)),r+=2}return a},e._lctf.getInterval=function(t,r){for(var A=0;A<t.length;A+=3){var a=t[A],c=t[A+1];if(t[A+2],a<=r&&r<=c)return A}return-1},e._lctf.readCoverage=function(t,r){var A=e._bin,a={};a.fmt=A.readUshort(t,r),r+=2;var c=A.readUshort(t,r);return r+=2,a.fmt==1&&(a.tab=A.readUshorts(t,r,c)),a.fmt==2&&(a.tab=A.readUshorts(t,r,3*c)),a},e._lctf.coverageIndex=function(t,r){var A=t.tab;if(t.fmt==1)return A.indexOf(r);if(t.fmt==2){var a=e._lctf.getInterval(A,r);if(a!=-1)return A[a+2]+(r-A[a])}return-1},e._lctf.readFeatureList=function(t,r){var A=e._bin,a=r,c=[],l=A.readUshort(t,r);r+=2;for(var u=0;u<l;u++){var f=A.readASCII(t,r,4);r+=4;var h=A.readUshort(t,r);r+=2;var p=e._lctf.readFeatureTable(t,a+h);p.tag=f.trim(),c.push(p)}return c},e._lctf.readFeatureTable=function(t,r){var A=e._bin,a=r,c={},l=A.readUshort(t,r);r+=2,l>0&&(c.featureParams=a+l);var u=A.readUshort(t,r);r+=2,c.tab=[];for(var f=0;f<u;f++)c.tab.push(A.readUshort(t,r+2*f));return c},e._lctf.readScriptList=function(t,r){var A=e._bin,a=r,c={},l=A.readUshort(t,r);r+=2;for(var u=0;u<l;u++){var f=A.readASCII(t,r,4);r+=4;var h=A.readUshort(t,r);r+=2,c[f.trim()]=e._lctf.readScriptTable(t,a+h)}return c},e._lctf.readScriptTable=function(t,r){var A=e._bin,a=r,c={},l=A.readUshort(t,r);r+=2,l>0&&(c.default=e._lctf.readLangSysTable(t,a+l));var u=A.readUshort(t,r);r+=2;for(var f=0;f<u;f++){var h=A.readASCII(t,r,4);r+=4;var p=A.readUshort(t,r);r+=2,c[h.trim()]=e._lctf.readLangSysTable(t,a+p)}return c},e._lctf.readLangSysTable=function(t,r){var A=e._bin,a={};A.readUshort(t,r),r+=2,a.reqFeature=A.readUshort(t,r),r+=2;var c=A.readUshort(t,r);return r+=2,a.features=A.readUshorts(t,r,c),a},e.CFF={},e.CFF.parse=function(t,r,A){var a=e._bin;(t=new Uint8Array(t.buffer,r,A))[r=0],t[++r],t[++r],t[++r],r++;var c=[];r=e.CFF.readIndex(t,r,c);for(var l=[],u=0;u<c.length-1;u++)l.push(a.readASCII(t,r+c[u],c[u+1]-c[u]));r+=c[c.length-1];var f=[];r=e.CFF.readIndex(t,r,f);var h=[];for(u=0;u<f.length-1;u++)h.push(e.CFF.readDict(t,r+f[u],r+f[u+1]));r+=f[f.length-1];var p=h[0],g=[];r=e.CFF.readIndex(t,r,g);var w=[];for(u=0;u<g.length-1;u++)w.push(a.readASCII(t,r+g[u],g[u+1]-g[u]));if(r+=g[g.length-1],e.CFF.readSubrs(t,r,p),p.CharStrings){r=p.CharStrings,g=[],r=e.CFF.readIndex(t,r,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(t,r+g[u],g[u+1]-g[u]));p.CharStrings=y}if(p.ROS){r=p.FDArray;var C=[];for(r=e.CFF.readIndex(t,r,C),p.FDArray=[],u=0;u<C.length-1;u++){var m=e.CFF.readDict(t,r+C[u],r+C[u+1]);e.CFF._readFDict(t,m,w),p.FDArray.push(m)}r+=C[C.length-1],r=p.FDSelect,p.FDSelect=[];var v=t[r];if(r++,v!=3)throw v;var I=a.readUshort(t,r);for(r+=2,u=0;u<I+1;u++)p.FDSelect.push(a.readUshort(t,r),t[r+2]),r+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(t,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(t,p.charset,p.CharStrings.length)),e.CFF._readFDict(t,p,w),p},e.CFF._readFDict=function(t,r,A){var a;for(var c in r.Private&&(a=r.Private[1],r.Private=e.CFF.readDict(t,a,a+r.Private[0]),r.Private.Subrs&&e.CFF.readSubrs(t,a+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)!=-1&&(r[c]=A[r[c]-426+35])},e.CFF.readSubrs=function(t,r,A){var a=e._bin,c=[];r=e.CFF.readIndex(t,r,c);var l,u=c.length;l=u<1240?107:u<33900?1131:32768,A.Bias=l,A.Subrs=[];for(var f=0;f<c.length-1;f++)A.Subrs.push(a.readBytes(t,r+c[f],c[f+1]-c[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(t,r){for(var A=0;A<t.charset.length;A++)if(t.charset[A]==r)return A;return-1},e.CFF.glyphBySE=function(t,r){return r<0||r>255?-1:e.CFF.glyphByUnicode(t,e.CFF.tableSE[r])},e.CFF.readEncoding=function(t,r,A){e._bin;var a=[".notdef"],c=t[r];if(r++,c!=0)throw"error: unknown encoding format: "+c;var l=t[r];r++;for(var u=0;u<l;u++)a.push(t[r+u]);return a},e.CFF.readCharset=function(t,r,A){var a=e._bin,c=[".notdef"],l=t[r];if(r++,l==0)for(var u=0;u<A;u++){var f=a.readUshort(t,r);r+=2,c.push(f)}else{if(l!=1&&l!=2)throw"error: format: "+l;for(;c.length<A;){f=a.readUshort(t,r),r+=2;var h=0;for(l==1?(h=t[r],r++):(h=a.readUshort(t,r),r+=2),u=0;u<=h;u++)c.push(f),f++}}return c},e.CFF.readIndex=function(t,r,A){var a=e._bin,c=a.readUshort(t,r)+1,l=t[r+=2];if(r++,l==1)for(var u=0;u<c;u++)A.push(t[r+u]);else if(l==2)for(u=0;u<c;u++)A.push(a.readUshort(t,r+2*u));else if(l==3)for(u=0;u<c;u++)A.push(16777215&a.readUint(t,r+3*u-1));else if(c!=1)throw"unsupported offset size: "+l+", count: "+c;return(r+=c*l)-1},e.CFF.getCharString=function(t,r,A){var a=e._bin,c=t[r],l=t[r+1];t[r+2],t[r+3],t[r+4];var u=1,f=null,h=null;c<=20&&(f=c,u=1),c==12&&(f=100*c+l,u=2),21<=c&&c<=27&&(f=c,u=1),c==28&&(h=a.readShort(t,r+1),u=3),29<=c&&c<=31&&(f=c,u=1),32<=c&&c<=246&&(h=c-139,u=1),247<=c&&c<=250&&(h=256*(c-247)+l+108,u=2),251<=c&&c<=254&&(h=256*-(c-251)-l-108,u=2),c==255&&(h=a.readInt(t,r+1)/65535,u=5),A.val=h??"o"+f,A.size=u},e.CFF.readCharString=function(t,r,A){for(var a=r+A,c=e._bin,l=[];r<a;){var u=t[r],f=t[r+1];t[r+2],t[r+3],t[r+4];var h=1,p=null,g=null;u<=20&&(p=u,h=1),u==12&&(p=100*u+f,h=2),u!=19&&u!=20||(p=u,h=2),21<=u&&u<=27&&(p=u,h=1),u==28&&(g=c.readShort(t,r+1),h=3),29<=u&&u<=31&&(p=u,h=1),32<=u&&u<=246&&(g=u-139,h=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,h=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,h=2),u==255&&(g=c.readInt(t,r+1)/65535,h=5),l.push(g??"o"+p),r+=h}return l},e.CFF.readDict=function(t,r,A){for(var a=e._bin,c={},l=[];r<A;){var u=t[r],f=t[r+1];t[r+2],t[r+3],t[r+4];var h=1,p=null,g=null;if(u==28&&(g=a.readShort(t,r+1),h=3),u==29&&(g=a.readInt(t,r+1),h=5),32<=u&&u<=246&&(g=u-139,h=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,h=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,h=2),u==255)throw g=a.readInt(t,r+1)/65535,h=5,"unknown number";if(u==30){var w=[];for(h=1;;){var y=t[r+h];h++;var C=y>>4,m=15&y;if(C!=15&&w.push(C),m!=15&&w.push(m),m==15)break}for(var v="",I=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<w.length;E++)v+=I[w[E]];g=parseFloat(v)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],h=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),p!=null?(c[p]=l.length==1?l[0]:l,l=[]):l.push(g),r+=h}return c},e.cmap={},e.cmap.parse=function(t,r,A){t=new Uint8Array(t.buffer,r,A),r=0;var a=e._bin,c={};a.readUshort(t,r),r+=2;var l=a.readUshort(t,r);r+=2;var u=[];c.tables=[];for(var f=0;f<l;f++){var h=a.readUshort(t,r);r+=2;var p=a.readUshort(t,r);r+=2;var g=a.readUint(t,r);r+=4;var w="p"+h+"e"+p,y=u.indexOf(g);if(y==-1){var C;y=c.tables.length,u.push(g);var m=a.readUshort(t,g);m==0?C=e.cmap.parse0(t,g):m==4?C=e.cmap.parse4(t,g):m==6?C=e.cmap.parse6(t,g):m==12?C=e.cmap.parse12(t,g):console.debug("unknown format: "+m,h,p,g),c.tables.push(C)}if(c[w]!=null)throw"multiple tables for one platform+encoding";c[w]=y}return c},e.cmap.parse0=function(t,r){var A=e._bin,a={};a.format=A.readUshort(t,r),r+=2;var c=A.readUshort(t,r);r+=2,A.readUshort(t,r),r+=2,a.map=[];for(var l=0;l<c-6;l++)a.map.push(t[r+l]);return a},e.cmap.parse4=function(t,r){var A=e._bin,a=r,c={};c.format=A.readUshort(t,r),r+=2;var l=A.readUshort(t,r);r+=2,A.readUshort(t,r),r+=2;var u=A.readUshort(t,r);r+=2;var f=u/2;c.searchRange=A.readUshort(t,r),r+=2,c.entrySelector=A.readUshort(t,r),r+=2,c.rangeShift=A.readUshort(t,r),r+=2,c.endCount=A.readUshorts(t,r,f),r+=2*f,r+=2,c.startCount=A.readUshorts(t,r,f),r+=2*f,c.idDelta=[];for(var h=0;h<f;h++)c.idDelta.push(A.readShort(t,r)),r+=2;for(c.idRangeOffset=A.readUshorts(t,r,f),r+=2*f,c.glyphIdArray=[];r<a+l;)c.glyphIdArray.push(A.readUshort(t,r)),r+=2;return c},e.cmap.parse6=function(t,r){var A=e._bin,a={};a.format=A.readUshort(t,r),r+=2,A.readUshort(t,r),r+=2,A.readUshort(t,r),r+=2,a.firstCode=A.readUshort(t,r),r+=2;var c=A.readUshort(t,r);r+=2,a.glyphIdArray=[];for(var l=0;l<c;l++)a.glyphIdArray.push(A.readUshort(t,r)),r+=2;return a},e.cmap.parse12=function(t,r){var A=e._bin,a={};a.format=A.readUshort(t,r),r+=2,r+=2,A.readUint(t,r),r+=4,A.readUint(t,r),r+=4;var c=A.readUint(t,r);r+=4,a.groups=[];for(var l=0;l<c;l++){var u=r+12*l,f=A.readUint(t,u+0),h=A.readUint(t,u+4),p=A.readUint(t,u+8);a.groups.push([f,h,p])}return a},e.glyf={},e.glyf.parse=function(t,r,A,a){for(var c=[],l=0;l<a.maxp.numGlyphs;l++)c.push(null);return c},e.glyf._parseGlyf=function(t,r){var A=e._bin,a=t._data,c=e._tabOffset(a,"glyf",t._offset)+t.loca[r];if(t.loca[r]==t.loca[r+1])return null;var l={};if(l.noc=A.readShort(a,c),c+=2,l.xMin=A.readShort(a,c),c+=2,l.yMin=A.readShort(a,c),c+=2,l.xMax=A.readShort(a,c),c+=2,l.yMax=A.readShort(a,c),c+=2,l.xMin>=l.xMax||l.yMin>=l.yMax)return null;if(l.noc>0){l.endPts=[];for(var u=0;u<l.noc;u++)l.endPts.push(A.readUshort(a,c)),c+=2;var f=A.readUshort(a,c);if(c+=2,a.length-c<f)return null;l.instructions=A.readBytes(a,c,f),c+=f;var h=l.endPts[l.noc-1]+1;for(l.flags=[],u=0;u<h;u++){var p=a[c];if(c++,l.flags.push(p),(8&p)!=0){var g=a[c];c++;for(var w=0;w<g;w++)l.flags.push(p),u++}}for(l.xs=[],u=0;u<h;u++){var y=(2&l.flags[u])!=0,C=(16&l.flags[u])!=0;y?(l.xs.push(C?a[c]:-a[c]),c++):C?l.xs.push(0):(l.xs.push(A.readShort(a,c)),c+=2)}for(l.ys=[],u=0;u<h;u++)y=(4&l.flags[u])!=0,C=(32&l.flags[u])!=0,y?(l.ys.push(C?a[c]:-a[c]),c++):C?l.ys.push(0):(l.ys.push(A.readShort(a,c)),c+=2);var m=0,v=0;for(u=0;u<h;u++)m+=l.xs[u],v+=l.ys[u],l.xs[u]=m,l.ys[u]=v}else{var I;l.parts=[];do{I=A.readUshort(a,c),c+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(l.parts.push(E),E.glyphIndex=A.readUshort(a,c),c+=2,1&I){var B=A.readShort(a,c);c+=2;var b=A.readShort(a,c);c+=2}else B=A.readInt8(a,c),c++,b=A.readInt8(a,c),c++;2&I?(E.m.tx=B,E.m.ty=b):(E.p1=B,E.p2=b),8&I?(E.m.a=E.m.d=A.readF2dot14(a,c),c+=2):64&I?(E.m.a=A.readF2dot14(a,c),c+=2,E.m.d=A.readF2dot14(a,c),c+=2):128&I&&(E.m.a=A.readF2dot14(a,c),c+=2,E.m.b=A.readF2dot14(a,c),c+=2,E.m.c=A.readF2dot14(a,c),c+=2,E.m.d=A.readF2dot14(a,c),c+=2)}while(32&I);if(256&I){var T=A.readUshort(a,c);for(c+=2,l.instr=[],u=0;u<T;u++)l.instr.push(a[c]),c++}}return l},e.GDEF={},e.GDEF.parse=function(t,r,A,a){var c=r;r+=4;var l=e._bin.readUshort(t,r);return{glyphClassDef:l===0?null:e._lctf.readClassDef(t,c+l)}},e.GPOS={},e.GPOS.parse=function(t,r,A,a){return e._lctf.parse(t,r,A,a,e.GPOS.subt)},e.GPOS.subt=function(t,r,A,a){var c=e._bin,l=A,u={};if(u.fmt=c.readUshort(t,A),A+=2,r==1||r==2||r==3||r==7||r==8&&u.fmt<=2){var f=c.readUshort(t,A);A+=2,u.coverage=e._lctf.readCoverage(t,f+l)}if(r==1&&u.fmt==1){var h=c.readUshort(t,A);A+=2,h!=0&&(u.pos=e.GPOS.readValueRecord(t,A,h))}else if(r==2&&u.fmt>=1&&u.fmt<=2){h=c.readUshort(t,A),A+=2;var p=c.readUshort(t,A);A+=2;var g=e._lctf.numOfOnes(h),w=e._lctf.numOfOnes(p);if(u.fmt==1){u.pairsets=[];var y=c.readUshort(t,A);A+=2;for(var C=0;C<y;C++){var m=l+c.readUshort(t,A);A+=2;var v=c.readUshort(t,m);m+=2;for(var I=[],E=0;E<v;E++){var B=c.readUshort(t,m);m+=2,h!=0&&(M=e.GPOS.readValueRecord(t,m,h),m+=2*g),p!=0&&(k=e.GPOS.readValueRecord(t,m,p),m+=2*w),I.push({gid2:B,val1:M,val2:k})}u.pairsets.push(I)}}if(u.fmt==2){var b=c.readUshort(t,A);A+=2;var T=c.readUshort(t,A);A+=2;var S=c.readUshort(t,A);A+=2;var R=c.readUshort(t,A);for(A+=2,u.classDef1=e._lctf.readClassDef(t,l+b),u.classDef2=e._lctf.readClassDef(t,l+T),u.matrix=[],C=0;C<S;C++){var Q=[];for(E=0;E<R;E++){var M=null,k=null;h!=0&&(M=e.GPOS.readValueRecord(t,A,h),A+=2*g),p!=0&&(k=e.GPOS.readValueRecord(t,A,p),A+=2*w),Q.push({val1:M,val2:k})}u.matrix.push(Q)}}}else if(r==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(t,c.readUshort(t,A)+l),u.baseCoverage=e._lctf.readCoverage(t,c.readUshort(t,A+2)+l),u.markClassCount=c.readUshort(t,A+4),u.markArray=e.GPOS.readMarkArray(t,c.readUshort(t,A+6)+l),u.baseArray=e.GPOS.readBaseArray(t,c.readUshort(t,A+8)+l,u.markClassCount);else if(r==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(t,c.readUshort(t,A)+l),u.mark2Coverage=e._lctf.readCoverage(t,c.readUshort(t,A+2)+l),u.markClassCount=c.readUshort(t,A+4),u.mark1Array=e.GPOS.readMarkArray(t,c.readUshort(t,A+6)+l),u.mark2Array=e.GPOS.readBaseArray(t,c.readUshort(t,A+8)+l,u.markClassCount);else{if(r==9&&u.fmt==1){var P=c.readUshort(t,A);A+=2;var H=c.readUint(t,A);if(A+=4,a.ltype==9)a.ltype=P;else if(a.ltype!=P)throw"invalid extension substitution";return e.GPOS.subt(t,a.ltype,l+H)}console.debug("unsupported GPOS table LookupType",r,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(t,r,A){var a=e._bin,c=[];return c.push(1&A?a.readShort(t,r):0),r+=1&A?2:0,c.push(2&A?a.readShort(t,r):0),r+=2&A?2:0,c.push(4&A?a.readShort(t,r):0),r+=4&A?2:0,c.push(8&A?a.readShort(t,r):0),r+=8&A?2:0,c},e.GPOS.readBaseArray=function(t,r,A){var a=e._bin,c=[],l=r,u=a.readUshort(t,r);r+=2;for(var f=0;f<u;f++){for(var h=[],p=0;p<A;p++)h.push(e.GPOS.readAnchorRecord(t,l+a.readUshort(t,r))),r+=2;c.push(h)}return c},e.GPOS.readMarkArray=function(t,r){var A=e._bin,a=[],c=r,l=A.readUshort(t,r);r+=2;for(var u=0;u<l;u++){var f=e.GPOS.readAnchorRecord(t,A.readUshort(t,r+2)+c);f.markClass=A.readUshort(t,r),a.push(f),r+=4}return a},e.GPOS.readAnchorRecord=function(t,r){var A=e._bin,a={};return a.fmt=A.readUshort(t,r),a.x=A.readShort(t,r+2),a.y=A.readShort(t,r+4),a},e.GSUB={},e.GSUB.parse=function(t,r,A,a){return e._lctf.parse(t,r,A,a,e.GSUB.subt)},e.GSUB.subt=function(t,r,A,a){var c=e._bin,l=A,u={};if(u.fmt=c.readUshort(t,A),A+=2,r!=1&&r!=2&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==2||r==4||r==5&&u.fmt<=2||r==6&&u.fmt<=2){var f=c.readUshort(t,A);A+=2,u.coverage=e._lctf.readCoverage(t,l+f)}if(r==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=c.readShort(t,A),A+=2;else if(u.fmt==2){var h=c.readUshort(t,A);A+=2,u.newg=c.readUshorts(t,A,h),A+=2*u.newg.length}}else if(r==2&&u.fmt==1){h=c.readUshort(t,A),A+=2,u.seqs=[];for(var p=0;p<h;p++){var g=c.readUshort(t,A)+l;A+=2;var w=c.readUshort(t,g);u.seqs.push(c.readUshorts(t,g+2,w))}}else if(r==4)for(u.vals=[],h=c.readUshort(t,A),A+=2,p=0;p<h;p++){var y=c.readUshort(t,A);A+=2,u.vals.push(e.GSUB.readLigatureSet(t,l+y))}else if(r==5&&u.fmt==2){if(u.fmt==2){var C=c.readUshort(t,A);A+=2,u.cDef=e._lctf.readClassDef(t,l+C),u.scset=[];var m=c.readUshort(t,A);for(A+=2,p=0;p<m;p++){var v=c.readUshort(t,A);A+=2,u.scset.push(v==0?null:e.GSUB.readSubClassSet(t,l+v))}}}else if(r==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){h=c.readUshort(t,A),A+=2;for(var I=[],E=0;E<h;E++)I.push(e._lctf.readCoverage(t,l+c.readUshort(t,A+2*E)));A+=2*h,p==0&&(u.backCvg=I),p==1&&(u.inptCvg=I),p==2&&(u.ahedCvg=I)}h=c.readUshort(t,A),A+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(t,A,h)}}else{if(r==7&&u.fmt==1){var B=c.readUshort(t,A);A+=2;var b=c.readUint(t,A);if(A+=4,a.ltype==9)a.ltype=B;else if(a.ltype!=B)throw"invalid extension substitution";return e.GSUB.subt(t,a.ltype,l+b)}console.debug("unsupported GSUB table LookupType",r,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(t,r){var A=e._bin.readUshort,a=r,c=[],l=A(t,r);r+=2;for(var u=0;u<l;u++){var f=A(t,r);r+=2,c.push(e.GSUB.readSubClassRule(t,a+f))}return c},e.GSUB.readSubClassRule=function(t,r){var A=e._bin.readUshort,a={},c=A(t,r),l=A(t,r+=2);r+=2,a.input=[];for(var u=0;u<c-1;u++)a.input.push(A(t,r)),r+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(t,r,l),a},e.GSUB.readSubstLookupRecords=function(t,r,A){for(var a=e._bin.readUshort,c=[],l=0;l<A;l++)c.push(a(t,r),a(t,r+2)),r+=4;return c},e.GSUB.readChainSubClassSet=function(t,r){var A=e._bin,a=r,c=[],l=A.readUshort(t,r);r+=2;for(var u=0;u<l;u++){var f=A.readUshort(t,r);r+=2,c.push(e.GSUB.readChainSubClassRule(t,a+f))}return c},e.GSUB.readChainSubClassRule=function(t,r){for(var A=e._bin,a={},c=["backtrack","input","lookahead"],l=0;l<c.length;l++){var u=A.readUshort(t,r);r+=2,l==1&&u--,a[c[l]]=A.readUshorts(t,r,u),r+=2*a[c[l]].length}return u=A.readUshort(t,r),r+=2,a.subst=A.readUshorts(t,r,2*u),r+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(t,r){var A=e._bin,a=r,c=[],l=A.readUshort(t,r);r+=2;for(var u=0;u<l;u++){var f=A.readUshort(t,r);r+=2,c.push(e.GSUB.readLigature(t,a+f))}return c},e.GSUB.readLigature=function(t,r){var A=e._bin,a={chain:[]};a.nglyph=A.readUshort(t,r),r+=2;var c=A.readUshort(t,r);r+=2;for(var l=0;l<c-1;l++)a.chain.push(A.readUshort(t,r)),r+=2;return a},e.head={},e.head.parse=function(t,r,A){var a=e._bin,c={};return a.readFixed(t,r),r+=4,c.fontRevision=a.readFixed(t,r),r+=4,a.readUint(t,r),r+=4,a.readUint(t,r),r+=4,c.flags=a.readUshort(t,r),r+=2,c.unitsPerEm=a.readUshort(t,r),r+=2,c.created=a.readUint64(t,r),r+=8,c.modified=a.readUint64(t,r),r+=8,c.xMin=a.readShort(t,r),r+=2,c.yMin=a.readShort(t,r),r+=2,c.xMax=a.readShort(t,r),r+=2,c.yMax=a.readShort(t,r),r+=2,c.macStyle=a.readUshort(t,r),r+=2,c.lowestRecPPEM=a.readUshort(t,r),r+=2,c.fontDirectionHint=a.readShort(t,r),r+=2,c.indexToLocFormat=a.readShort(t,r),r+=2,c.glyphDataFormat=a.readShort(t,r),r+=2,c},e.hhea={},e.hhea.parse=function(t,r,A){var a=e._bin,c={};return a.readFixed(t,r),r+=4,c.ascender=a.readShort(t,r),r+=2,c.descender=a.readShort(t,r),r+=2,c.lineGap=a.readShort(t,r),r+=2,c.advanceWidthMax=a.readUshort(t,r),r+=2,c.minLeftSideBearing=a.readShort(t,r),r+=2,c.minRightSideBearing=a.readShort(t,r),r+=2,c.xMaxExtent=a.readShort(t,r),r+=2,c.caretSlopeRise=a.readShort(t,r),r+=2,c.caretSlopeRun=a.readShort(t,r),r+=2,c.caretOffset=a.readShort(t,r),r+=2,r+=8,c.metricDataFormat=a.readShort(t,r),r+=2,c.numberOfHMetrics=a.readUshort(t,r),r+=2,c},e.hmtx={},e.hmtx.parse=function(t,r,A,a){for(var c=e._bin,l={aWidth:[],lsBearing:[]},u=0,f=0,h=0;h<a.maxp.numGlyphs;h++)h<a.hhea.numberOfHMetrics&&(u=c.readUshort(t,r),r+=2,f=c.readShort(t,r),r+=2),l.aWidth.push(u),l.lsBearing.push(f);return l},e.kern={},e.kern.parse=function(t,r,A,a){var c=e._bin,l=c.readUshort(t,r);if(r+=2,l==1)return e.kern.parseV1(t,r-2,A,a);var u=c.readUshort(t,r);r+=2;for(var f={glyph1:[],rval:[]},h=0;h<u;h++){r+=2,A=c.readUshort(t,r),r+=2;var p=c.readUshort(t,r);r+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;r=e.kern.readFormat0(t,r,f)}return f},e.kern.parseV1=function(t,r,A,a){var c=e._bin;c.readFixed(t,r),r+=4;var l=c.readUint(t,r);r+=4;for(var u={glyph1:[],rval:[]},f=0;f<l;f++){c.readUint(t,r),r+=4;var h=c.readUshort(t,r);r+=2,c.readUshort(t,r),r+=2;var p=h>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;r=e.kern.readFormat0(t,r,u)}return u},e.kern.readFormat0=function(t,r,A){var a=e._bin,c=-1,l=a.readUshort(t,r);r+=2,a.readUshort(t,r),r+=2,a.readUshort(t,r),r+=2,a.readUshort(t,r),r+=2;for(var u=0;u<l;u++){var f=a.readUshort(t,r);r+=2;var h=a.readUshort(t,r);r+=2;var p=a.readShort(t,r);r+=2,f!=c&&(A.glyph1.push(f),A.rval.push({glyph2:[],vals:[]}));var g=A.rval[A.rval.length-1];g.glyph2.push(h),g.vals.push(p),c=f}return r},e.loca={},e.loca.parse=function(t,r,A,a){var c=e._bin,l=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var h=0;h<f;h++)l.push(c.readUshort(t,r+(h<<1))<<1);if(u==1)for(h=0;h<f;h++)l.push(c.readUint(t,r+(h<<2)));return l},e.maxp={},e.maxp.parse=function(t,r,A){var a=e._bin,c={},l=a.readUint(t,r);return r+=4,c.numGlyphs=a.readUshort(t,r),r+=2,l==65536&&(c.maxPoints=a.readUshort(t,r),r+=2,c.maxContours=a.readUshort(t,r),r+=2,c.maxCompositePoints=a.readUshort(t,r),r+=2,c.maxCompositeContours=a.readUshort(t,r),r+=2,c.maxZones=a.readUshort(t,r),r+=2,c.maxTwilightPoints=a.readUshort(t,r),r+=2,c.maxStorage=a.readUshort(t,r),r+=2,c.maxFunctionDefs=a.readUshort(t,r),r+=2,c.maxInstructionDefs=a.readUshort(t,r),r+=2,c.maxStackElements=a.readUshort(t,r),r+=2,c.maxSizeOfInstructions=a.readUshort(t,r),r+=2,c.maxComponentElements=a.readUshort(t,r),r+=2,c.maxComponentDepth=a.readUshort(t,r),r+=2),c},e.name={},e.name.parse=function(t,r,A){var a=e._bin,c={};a.readUshort(t,r),r+=2;var l=a.readUshort(t,r);r+=2,a.readUshort(t,r);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=r+=2,p=0;p<l;p++){var g=a.readUshort(t,r);r+=2;var w=a.readUshort(t,r);r+=2;var y=a.readUshort(t,r);r+=2;var C=a.readUshort(t,r);r+=2;var m=a.readUshort(t,r);r+=2;var v=a.readUshort(t,r);r+=2;var I,E=f[C],B=h+12*l+v;if(g==0)I=a.readUnicode(t,B,m/2);else if(g==3&&w==0)I=a.readUnicode(t,B,m/2);else if(w==0)I=a.readASCII(t,B,m);else if(w==1)I=a.readUnicode(t,B,m/2);else if(w==3)I=a.readUnicode(t,B,m/2);else{if(g!=1)throw"unknown encoding "+w+", platformID: "+g;I=a.readASCII(t,B,m),console.debug("reading unknown MAC encoding "+w+" as ASCII")}var b="p"+g+","+y.toString(16);c[b]==null&&(c[b]={}),c[b][E!==void 0?E:C]=I,c[b]._lang=y}for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==1033)return c[T];for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==0)return c[T];for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==3084)return c[T];for(var T in c)if(c[T].postScriptName!=null)return c[T];for(var T in c){u=T;break}return console.debug("returning name table with languageID "+c[u]._lang),c[u]},e["OS/2"]={},e["OS/2"].parse=function(t,r,A){var a=e._bin.readUshort(t,r);r+=2;var c={};if(a==0)e["OS/2"].version0(t,r,c);else if(a==1)e["OS/2"].version1(t,r,c);else if(a==2||a==3||a==4)e["OS/2"].version2(t,r,c);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(t,r,c)}return c},e["OS/2"].version0=function(t,r,A){var a=e._bin;return A.xAvgCharWidth=a.readShort(t,r),r+=2,A.usWeightClass=a.readUshort(t,r),r+=2,A.usWidthClass=a.readUshort(t,r),r+=2,A.fsType=a.readUshort(t,r),r+=2,A.ySubscriptXSize=a.readShort(t,r),r+=2,A.ySubscriptYSize=a.readShort(t,r),r+=2,A.ySubscriptXOffset=a.readShort(t,r),r+=2,A.ySubscriptYOffset=a.readShort(t,r),r+=2,A.ySuperscriptXSize=a.readShort(t,r),r+=2,A.ySuperscriptYSize=a.readShort(t,r),r+=2,A.ySuperscriptXOffset=a.readShort(t,r),r+=2,A.ySuperscriptYOffset=a.readShort(t,r),r+=2,A.yStrikeoutSize=a.readShort(t,r),r+=2,A.yStrikeoutPosition=a.readShort(t,r),r+=2,A.sFamilyClass=a.readShort(t,r),r+=2,A.panose=a.readBytes(t,r,10),r+=10,A.ulUnicodeRange1=a.readUint(t,r),r+=4,A.ulUnicodeRange2=a.readUint(t,r),r+=4,A.ulUnicodeRange3=a.readUint(t,r),r+=4,A.ulUnicodeRange4=a.readUint(t,r),r+=4,A.achVendID=[a.readInt8(t,r),a.readInt8(t,r+1),a.readInt8(t,r+2),a.readInt8(t,r+3)],r+=4,A.fsSelection=a.readUshort(t,r),r+=2,A.usFirstCharIndex=a.readUshort(t,r),r+=2,A.usLastCharIndex=a.readUshort(t,r),r+=2,A.sTypoAscender=a.readShort(t,r),r+=2,A.sTypoDescender=a.readShort(t,r),r+=2,A.sTypoLineGap=a.readShort(t,r),r+=2,A.usWinAscent=a.readUshort(t,r),r+=2,A.usWinDescent=a.readUshort(t,r),r+=2},e["OS/2"].version1=function(t,r,A){var a=e._bin;return r=e["OS/2"].version0(t,r,A),A.ulCodePageRange1=a.readUint(t,r),r+=4,A.ulCodePageRange2=a.readUint(t,r),r+=4},e["OS/2"].version2=function(t,r,A){var a=e._bin;return r=e["OS/2"].version1(t,r,A),A.sxHeight=a.readShort(t,r),r+=2,A.sCapHeight=a.readShort(t,r),r+=2,A.usDefault=a.readUshort(t,r),r+=2,A.usBreak=a.readUshort(t,r),r+=2,A.usMaxContext=a.readUshort(t,r),r+=2},e["OS/2"].version5=function(t,r,A){var a=e._bin;return r=e["OS/2"].version2(t,r,A),A.usLowerOpticalPointSize=a.readUshort(t,r),r+=2,A.usUpperOpticalPointSize=a.readUshort(t,r),r+=2},e.post={},e.post.parse=function(t,r,A){var a=e._bin,c={};return c.version=a.readFixed(t,r),r+=4,c.italicAngle=a.readFixed(t,r),r+=4,c.underlinePosition=a.readShort(t,r),r+=2,c.underlineThickness=a.readShort(t,r),r+=2,c},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(t,r){var A=t.cmap,a=-1;if(A.p0e4!=null?a=A.p0e4:A.p3e1!=null?a=A.p3e1:A.p1e0!=null?a=A.p1e0:A.p0e3!=null&&(a=A.p0e3),a==-1)throw"no familiar platform and encoding!";var c=A.tables[a];if(c.format==0)return r>=c.map.length?0:c.map[r];if(c.format==4){for(var l=-1,u=0;u<c.endCount.length;u++)if(r<=c.endCount[u]){l=u;break}return l==-1||c.startCount[l]>r?0:65535&(c.idRangeOffset[l]!=0?c.glyphIdArray[r-c.startCount[l]+(c.idRangeOffset[l]>>1)-(c.idRangeOffset.length-l)]:r+c.idDelta[l])}if(c.format==12){if(r>c.groups[c.groups.length-1][1])return 0;for(u=0;u<c.groups.length;u++){var f=c.groups[u];if(f[0]<=r&&r<=f[1])return f[2]+(r-f[0])}return 0}throw"unknown cmap table format "+c.format},e.U.glyphToPath=function(t,r){var A={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[r]){var a=t.SVG.entries[r];return a==null?A:(typeof a=="string"&&(a=e.SVG.toPath(a),t.SVG.entries[r]=a),a)}if(t.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1},l=t.CFF,u=t.CFF.Private;if(l.ROS){for(var f=0;l.FDSelect[f+2]<=r;)f+=2;u=l.FDArray[l.FDSelect[f+1]].Private}e.U._drawCFF(t.CFF.CharStrings[r],c,l,u,A)}else t.glyf&&e.U._drawGlyf(r,t,A);return A},e.U._drawGlyf=function(t,r,A){var a=r.glyf[t];a==null&&(a=r.glyf[t]=e.glyf._parseGlyf(r,t)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,A):e.U._compoGlyph(a,r,A))},e.U._simpleGlyph=function(t,r){for(var A=0;A<t.noc;A++){for(var a=A==0?0:t.endPts[A-1]+1,c=t.endPts[A],l=a;l<=c;l++){var u=l==a?c:l-1,f=l==c?a:l+1,h=1&t.flags[l],p=1&t.flags[u],g=1&t.flags[f],w=t.xs[l],y=t.ys[l];if(l==a)if(h){if(!p){e.U.P.moveTo(r,w,y);continue}e.U.P.moveTo(r,t.xs[u],t.ys[u])}else p?e.U.P.moveTo(r,t.xs[u],t.ys[u]):e.U.P.moveTo(r,(t.xs[u]+w)/2,(t.ys[u]+y)/2);h?p&&e.U.P.lineTo(r,w,y):g?e.U.P.qcurveTo(r,w,y,t.xs[f],t.ys[f]):e.U.P.qcurveTo(r,w,y,(w+t.xs[f])/2,(y+t.ys[f])/2)}e.U.P.closePath(r)}},e.U._compoGlyph=function(t,r,A){for(var a=0;a<t.parts.length;a++){var c={cmds:[],crds:[]},l=t.parts[a];e.U._drawGlyf(l.glyphIndex,r,c);for(var u=l.m,f=0;f<c.crds.length;f+=2){var h=c.crds[f],p=c.crds[f+1];A.crds.push(h*u.a+p*u.b+u.tx),A.crds.push(h*u.c+p*u.d+u.ty)}for(f=0;f<c.cmds.length;f++)A.cmds.push(c.cmds[f])}},e.U._getGlyphClass=function(t,r){var A=e._lctf.getInterval(r,t);return A==-1?0:r[A+2]},e.U._applySubs=function(t,r,A,a){for(var c=t.length-r-1,l=0;l<A.tabs.length;l++)if(A.tabs[l]!=null){var u,f=A.tabs[l];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,t[r]))!=-1){if(A.ltype==1)t[r],f.fmt==1?t[r]=t[r]+f.delta:t[r]=f.newg[u];else if(A.ltype==4)for(var h=f.vals[u],p=0;p<h.length;p++){var g=h[p],w=g.chain.length;if(!(w>c)){for(var y=!0,C=0,m=0;m<w;m++){for(;t[r+C+(1+m)]==-1;)C++;g.chain[m]!=t[r+C+(1+m)]&&(y=!1)}if(y){for(t[r]=g.nglyph,m=0;m<w+C;m++)t[r+m+1]=-1;break}}}else if(A.ltype==5&&f.fmt==2)for(var v=e._lctf.getInterval(f.cDef,t[r]),I=f.cDef[v+2],E=f.scset[I],B=0;B<E.length;B++){var b=E[B],T=b.input;if(!(T.length>c)){for(y=!0,m=0;m<T.length;m++){var S=e._lctf.getInterval(f.cDef,t[r+1+m]);if(v==-1&&f.cDef[S+2]!=T[m]){y=!1;break}}if(y){var R=b.substLookupRecords;for(p=0;p<R.length;p+=2)R[p],R[p+1]}}}else if(A.ltype==6&&f.fmt==3){if(!e.U._glsCovered(t,f.backCvg,r-f.backCvg.length)||!e.U._glsCovered(t,f.inptCvg,r)||!e.U._glsCovered(t,f.ahedCvg,r+f.inptCvg.length))continue;var Q=f.lookupRec;for(B=0;B<Q.length;B+=2){v=Q[B];var M=a[Q[B+1]];e.U._applySubs(t,r+v,M,a)}}}}},e.U._glsCovered=function(t,r,A){for(var a=0;a<r.length;a++)if(e._lctf.coverageIndex(r[a],t[A+a])==-1)return!1;return!0},e.U.glyphsToPath=function(t,r,A){for(var a={cmds:[],crds:[]},c=0,l=0;l<r.length;l++){var u=r[l];if(u!=-1){for(var f=l<r.length-1&&r[l+1]!=-1?r[l+1]:0,h=e.U.glyphToPath(t,u),p=0;p<h.crds.length;p+=2)a.crds.push(h.crds[p]+c),a.crds.push(h.crds[p+1]);for(A&&a.cmds.push(A),p=0;p<h.cmds.length;p++)a.cmds.push(h.cmds[p]);A&&a.cmds.push("X"),c+=t.hmtx.aWidth[u],l<r.length-1&&(c+=e.U.getPairAdjustment(t,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(t,r,A){t.cmds.push("M"),t.crds.push(r,A)},e.U.P.lineTo=function(t,r,A){t.cmds.push("L"),t.crds.push(r,A)},e.U.P.curveTo=function(t,r,A,a,c,l,u){t.cmds.push("C"),t.crds.push(r,A,a,c,l,u)},e.U.P.qcurveTo=function(t,r,A,a,c){t.cmds.push("Q"),t.crds.push(r,A,a,c)},e.U.P.closePath=function(t){t.cmds.push("Z")},e.U._drawCFF=function(t,r,A,a,c){for(var l=r.stack,u=r.nStems,f=r.haveWidth,h=r.width,p=r.open,g=0,w=r.x,y=r.y,C=0,m=0,v=0,I=0,E=0,B=0,b=0,T=0,S=0,R=0,Q={val:0,size:0};g<t.length;){e.CFF.getCharString(t,g,Q);var M=Q.val;if(g+=Q.size,M=="o1"||M=="o18")l.length%2!=0&&!f&&(h=l.shift()+a.nominalWidthX),u+=l.length>>1,l.length=0,f=!0;else if(M=="o3"||M=="o23")l.length%2!=0&&!f&&(h=l.shift()+a.nominalWidthX),u+=l.length>>1,l.length=0,f=!0;else if(M=="o4")l.length>1&&!f&&(h=l.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(c),y+=l.pop(),e.U.P.moveTo(c,w,y),p=!0;else if(M=="o5")for(;l.length>0;)w+=l.shift(),y+=l.shift(),e.U.P.lineTo(c,w,y);else if(M=="o6"||M=="o7")for(var k=l.length,P=M=="o6",H=0;H<k;H++){var U=l.shift();P?w+=U:y+=U,P=!P,e.U.P.lineTo(c,w,y)}else if(M=="o8"||M=="o24"){k=l.length;for(var K=0;K+6<=k;)C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),w=v+l.shift(),y=I+l.shift(),e.U.P.curveTo(c,C,m,v,I,w,y),K+=6;M=="o24"&&(w+=l.shift(),y+=l.shift(),e.U.P.lineTo(c,w,y))}else{if(M=="o11")break;if(M=="o1234"||M=="o1235"||M=="o1236"||M=="o1237")M=="o1234"&&(m=y,v=(C=w+l.shift())+l.shift(),R=I=m+l.shift(),B=I,T=y,w=(b=(E=(S=v+l.shift())+l.shift())+l.shift())+l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,B,b,T,w,y)),M=="o1235"&&(C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),S=v+l.shift(),R=I+l.shift(),E=S+l.shift(),B=R+l.shift(),b=E+l.shift(),T=B+l.shift(),w=b+l.shift(),y=T+l.shift(),l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,B,b,T,w,y)),M=="o1236"&&(C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),R=I=m+l.shift(),B=I,b=(E=(S=v+l.shift())+l.shift())+l.shift(),T=B+l.shift(),w=b+l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,B,b,T,w,y)),M=="o1237"&&(C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),S=v+l.shift(),R=I+l.shift(),E=S+l.shift(),B=R+l.shift(),b=E+l.shift(),T=B+l.shift(),Math.abs(b-w)>Math.abs(T-y)?w=b+l.shift():y=T+l.shift(),e.U.P.curveTo(c,C,m,v,I,S,R),e.U.P.curveTo(c,E,B,b,T,w,y));else if(M=="o14"){if(l.length>0&&!f&&(h=l.shift()+A.nominalWidthX,f=!0),l.length==4){var q=l.shift(),O=l.shift(),G=l.shift(),_=l.shift(),N=e.CFF.glyphBySE(A,G),z=e.CFF.glyphBySE(A,_);e.U._drawCFF(A.CharStrings[N],r,A,a,c),r.x=q,r.y=O,e.U._drawCFF(A.CharStrings[z],r,A,a,c)}p&&(e.U.P.closePath(c),p=!1)}else if(M=="o19"||M=="o20")l.length%2!=0&&!f&&(h=l.shift()+a.nominalWidthX),u+=l.length>>1,l.length=0,f=!0,g+=u+7>>3;else if(M=="o21")l.length>2&&!f&&(h=l.shift()+a.nominalWidthX,f=!0),y+=l.pop(),w+=l.pop(),p&&e.U.P.closePath(c),e.U.P.moveTo(c,w,y),p=!0;else if(M=="o22")l.length>1&&!f&&(h=l.shift()+a.nominalWidthX,f=!0),w+=l.pop(),p&&e.U.P.closePath(c),e.U.P.moveTo(c,w,y),p=!0;else if(M=="o25"){for(;l.length>6;)w+=l.shift(),y+=l.shift(),e.U.P.lineTo(c,w,y);C=w+l.shift(),m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),w=v+l.shift(),y=I+l.shift(),e.U.P.curveTo(c,C,m,v,I,w,y)}else if(M=="o26")for(l.length%2&&(w+=l.shift());l.length>0;)C=w,m=y+l.shift(),w=v=C+l.shift(),y=(I=m+l.shift())+l.shift(),e.U.P.curveTo(c,C,m,v,I,w,y);else if(M=="o27")for(l.length%2&&(y+=l.shift());l.length>0;)m=y,v=(C=w+l.shift())+l.shift(),I=m+l.shift(),w=v+l.shift(),y=I,e.U.P.curveTo(c,C,m,v,I,w,y);else if(M=="o10"||M=="o29"){var Y=M=="o10"?a:A;if(l.length==0)console.debug("error: empty stack");else{var W=l.pop(),ee=Y.Subrs[W+Y.Bias];r.x=w,r.y=y,r.nStems=u,r.haveWidth=f,r.width=h,r.open=p,e.U._drawCFF(ee,r,A,a,c),w=r.x,y=r.y,u=r.nStems,f=r.haveWidth,h=r.width,p=r.open}}else if(M=="o30"||M=="o31"){var te=l.length,re=(K=0,M=="o31");for(K+=te-(k=-3&te);K<k;)re?(m=y,v=(C=w+l.shift())+l.shift(),y=(I=m+l.shift())+l.shift(),k-K==5?(w=v+l.shift(),K++):w=v,re=!1):(C=w,m=y+l.shift(),v=C+l.shift(),I=m+l.shift(),w=v+l.shift(),k-K==5?(y=I+l.shift(),K++):y=I,re=!0),e.U.P.curveTo(c,C,m,v,I,w,y),K+=4}else{if((M+"").charAt(0)=="o")throw console.debug("Unknown operation: "+M,t),M;l.push(M)}}}r.x=w,r.y=y,r.nStems=u,r.haveWidth=f,r.width=h,r.open=p};var n=e,o={Typr:n};return i.Typr=n,i.default=o,Object.defineProperty(i,"__esModule",{value:!0}),i}({}).Typr}function am(){return function(i){var e=Uint8Array,n=Uint16Array,o=Uint32Array,t=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(M,k){for(var P=new n(31),H=0;H<31;++H)P[H]=k+=1<<M[H-1];var U=new o(P[30]);for(H=1;H<30;++H)for(var K=P[H];K<P[H+1];++K)U[K]=K-P[H]<<5|H;return[P,U]},c=a(t,2),l=c[0],u=c[1];l[28]=258,u[258]=28;for(var f=a(r,0)[0],h=new n(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,h[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var w=function(M,k,P){for(var H=M.length,U=0,K=new n(k);U<H;++U)++K[M[U]-1];var q,O=new n(k);for(U=0;U<k;++U)O[U]=O[U-1]+K[U-1]<<1;if(P){q=new n(1<<k);var G=15-k;for(U=0;U<H;++U)if(M[U])for(var _=U<<4|M[U],N=k-M[U],z=O[M[U]-1]++<<N,Y=z|(1<<N)-1;z<=Y;++z)q[h[z]>>>G]=_}else for(q=new n(H),U=0;U<H;++U)M[U]&&(q[U]=h[O[M[U]-1]++]>>>15-M[U]);return q},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var C=new e(32);for(p=0;p<32;++p)C[p]=5;var m=w(y,9,1),v=w(C,5,1),I=function(M){for(var k=M[0],P=1;P<M.length;++P)M[P]>k&&(k=M[P]);return k},E=function(M,k,P){var H=k/8|0;return(M[H]|M[H+1]<<8)>>(7&k)&P},B=function(M,k){var P=k/8|0;return(M[P]|M[P+1]<<8|M[P+2]<<16)>>(7&k)},b=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(M,k,P){var H=new Error(k||b[M]);if(H.code=M,Error.captureStackTrace&&Error.captureStackTrace(H,T),!P)throw H;return H},S=function(M,k,P){var H=M.length;if(!H||P&&!P.l&&H<5)return k||new e(0);var U=!k||P,K=!P||P.i;P||(P={}),k||(k=new e(3*H));var q,O=function(D){var F=k.length;if(D>F){var L=new e(Math.max(2*F,D));L.set(k),k=L}},G=P.f||0,_=P.p||0,N=P.b||0,z=P.l,Y=P.d,W=P.m,ee=P.n,te=8*H;do{if(!z){P.f=G=E(M,_,1);var re=E(M,_+1,3);if(_+=3,!re){var se=M[(we=((q=_)/8|0)+(7&q&&1)+4)-4]|M[we-3]<<8,le=we+se;if(le>H){K&&T(0);break}U&&O(N+se),k.set(M.subarray(we,le),N),P.b=N+=se,P.p=_=8*le;continue}if(re==1)z=m,Y=v,W=9,ee=5;else if(re==2){var Ae=E(M,_,31)+257,ne=E(M,_+10,15)+4,Ee=Ae+E(M,_+5,31)+1;_+=14;for(var Te=new e(Ee),de=new e(19),ye=0;ye<ne;++ye)de[A[ye]]=E(M,_+3*ye,7);_+=3*ne;var Be=I(de),ae=(1<<Be)-1,pe=w(de,Be,1);for(ye=0;ye<Ee;){var we,ie=pe[E(M,_,ae)];if(_+=15&ie,(we=ie>>>4)<16)Te[ye++]=we;else{var _e=0,fe=0;for(we==16?(fe=3+E(M,_,3),_+=2,_e=Te[ye-1]):we==17?(fe=3+E(M,_,7),_+=3):we==18&&(fe=11+E(M,_,127),_+=7);fe--;)Te[ye++]=_e}}var ve=Te.subarray(0,Ae),ge=Te.subarray(Ae);W=I(ve),ee=I(ge),z=w(ve,W,1),Y=w(ge,ee,1)}else T(1);if(_>te){K&&T(0);break}}U&&O(N+131072);for(var Pe=(1<<W)-1,Ie=(1<<ee)-1,Ce=_;;Ce=_){var be=(_e=z[B(M,_)&Pe])>>>4;if((_+=15&_e)>te){K&&T(0);break}if(_e||T(2),be<256)k[N++]=be;else{if(be==256){Ce=_,z=null;break}var Me=be-254;if(be>264){var Ge=t[ye=be-257];Me=E(M,_,(1<<Ge)-1)+l[ye],_+=Ge}var Z=Y[B(M,_)&Ie],d=Z>>>4;if(Z||T(3),_+=15&Z,ge=f[d],d>3&&(Ge=r[d],ge+=B(M,_)&(1<<Ge)-1,_+=Ge),_>te){K&&T(0);break}U&&O(N+131072);for(var x=N+Me;N<x;N+=4)k[N]=k[N-ge],k[N+1]=k[N+1-ge],k[N+2]=k[N+2-ge],k[N+3]=k[N+3-ge];N=x}}P.l=z,P.p=Ce,P.b=N,z&&(G=1,P.m=W,P.d=Y,P.n=ee)}while(!G);return N==k.length?k:function(D,F,L){(F==null||F<0)&&(F=0),(L==null||L>D.length)&&(L=D.length);var V=new(D instanceof n?n:D instanceof o?o:e)(L-F);return V.set(D.subarray(F,L)),V}(k,0,N)},R=new e(0),Q=typeof TextDecoder<"u"&&new TextDecoder;try{Q.decode(R,{stream:!0})}catch{}return i.convert_streams=function(M){var k=new DataView(M),P=0;function H(){var Ae=k.getUint16(P);return P+=2,Ae}function U(){var Ae=k.getUint32(P);return P+=4,Ae}function K(Ae){se.setUint16(le,Ae),le+=2}function q(Ae){se.setUint32(le,Ae),le+=4}for(var O={signature:U(),flavor:U(),length:U(),numTables:H(),reserved:H(),totalSfntSize:U(),majorVersion:H(),minorVersion:H(),metaOffset:U(),metaLength:U(),metaOrigLength:U(),privOffset:U(),privLength:U()},G=0;Math.pow(2,G)<=O.numTables;)G++;G--;for(var _=16*Math.pow(2,G),N=16*O.numTables-_,z=12,Y=[],W=0;W<O.numTables;W++)Y.push({tag:U(),offset:U(),compLength:U(),origLength:U(),origChecksum:U()}),z+=16;var ee,te=new Uint8Array(12+16*Y.length+Y.reduce(function(Ae,ne){return Ae+ne.origLength+4},0)),re=te.buffer,se=new DataView(re),le=0;return q(O.flavor),K(O.numTables),K(_),K(G),K(N),Y.forEach(function(Ae){q(Ae.tag),q(Ae.origChecksum),q(z),q(Ae.origLength),Ae.outOffset=z,(z+=Ae.origLength)%4!=0&&(z+=4-z%4)}),Y.forEach(function(Ae){var ne,Ee=M.slice(Ae.offset,Ae.offset+Ae.compLength);if(Ae.compLength!=Ae.origLength){var Te=new Uint8Array(Ae.origLength);ne=new Uint8Array(Ee,2),S(ne,Te)}else Te=new Uint8Array(Ee);te.set(Te,Ae.outOffset);var de=0;(z=Ae.outOffset+Ae.origLength)%4!=0&&(de=4-z%4),te.set(new Uint8Array(de).buffer,Ae.outOffset+Ae.origLength),ee=z+de}),re.slice(0,ee)},Object.defineProperty(i,"__esModule",{value:!0}),i}({}).convert_streams}function cm(i,e){let n={M:2,L:2,Q:4,C:6,Z:0},o={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},t=1,r=2,A=4,a=8,c=16,l=32,u;function f(b){if(!u){let T={R:r,L:t,D:A,C:c,U:l,T:a};u=new Map;for(let S in o){let R=0;o[S].split(",").forEach(Q=>{let[M,k]=Q.split("+");M=parseInt(M,36),k=k?parseInt(k,36):0,u.set(R+=M,T[S]);for(let P=k;P--;)u.set(++R,T[S])})}}return u.get(b)||l}let h=1,p=2,g=3,w=4,y=[null,"isol","init","fina","medi"];function C(b){let T=new Uint8Array(b.length),S=l,R=h,Q=-1;for(let M=0;M<b.length;M++){let k=b.codePointAt(M),P=f(k)|0,H=h;P&a||(S&(t|A|c)?P&(r|A|c)?(H=g,(R===h||R===g)&&T[Q]++):P&(t|l)&&(R===p||R===w)&&T[Q]--:S&(r|l)&&(R===p||R===w)&&T[Q]--,R=T[M]=H,S=P,Q=M,k>65535&&M++)}return T}function m(b,T){let S=[];for(let Q=0;Q<T.length;Q++){let M=T.codePointAt(Q);M>65535&&Q++,S.push(i.U.codeToGlyph(b,M))}let R=b.GSUB;if(R){let{lookupList:Q,featureList:M}=R,k,P=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,H=[];M.forEach(U=>{if(P.test(U.tag))for(let K=0;K<U.tab.length;K++){if(H[U.tab[K]])continue;H[U.tab[K]]=!0;let q=Q[U.tab[K]],O=/^(isol|init|fina|medi)$/.test(U.tag);O&&!k&&(k=C(T));for(let G=0;G<S.length;G++)(!k||!O||y[k[G]]===U.tag)&&i.U._applySubs(S,G,q,Q)}})}return S}function v(b,T){let S=new Int16Array(T.length*3),R=0;for(;R<T.length;R++){let P=T[R];if(P===-1)continue;S[R*3+2]=b.hmtx.aWidth[P];let H=b.GPOS;if(H){let U=H.lookupList;for(let K=0;K<U.length;K++){let q=U[K];for(let O=0;O<q.tabs.length;O++){let G=q.tabs[O];if(q.ltype===1){if(i._lctf.coverageIndex(G.coverage,P)!==-1&&G.pos){k(G.pos,R);break}}else if(q.ltype===2){let _=null,N=Q();if(N!==-1){let z=i._lctf.coverageIndex(G.coverage,T[N]);if(z!==-1){if(G.fmt===1){let Y=G.pairsets[z];for(let W=0;W<Y.length;W++)Y[W].gid2===P&&(_=Y[W])}else if(G.fmt===2){let Y=i.U._getGlyphClass(T[N],G.classDef1),W=i.U._getGlyphClass(P,G.classDef2);_=G.matrix[Y][W]}if(_){_.val1&&k(_.val1,N),_.val2&&k(_.val2,R);break}}}}else if(q.ltype===4){let _=i._lctf.coverageIndex(G.markCoverage,P);if(_!==-1){let N=Q(M),z=N===-1?-1:i._lctf.coverageIndex(G.baseCoverage,T[N]);if(z!==-1){let Y=G.markArray[_],W=G.baseArray[z][Y.markClass];S[R*3]=W.x-Y.x+S[N*3]-S[N*3+2],S[R*3+1]=W.y-Y.y+S[N*3+1];break}}}else if(q.ltype===6){let _=i._lctf.coverageIndex(G.mark1Coverage,P);if(_!==-1){let N=Q();if(N!==-1){let z=T[N];if(I(b,z)===3){let Y=i._lctf.coverageIndex(G.mark2Coverage,z);if(Y!==-1){let W=G.mark1Array[_],ee=G.mark2Array[Y][W.markClass];S[R*3]=ee.x-W.x+S[N*3]-S[N*3+2],S[R*3+1]=ee.y-W.y+S[N*3+1];break}}}}}}}}else if(b.kern&&!b.cff){let U=Q();if(U!==-1){let K=b.kern.glyph1.indexOf(T[U]);if(K!==-1){let q=b.kern.rval[K].glyph2.indexOf(P);q!==-1&&(S[U*3+2]+=b.kern.rval[K].vals[q])}}}}return S;function Q(P){for(let H=R-1;H>=0;H--)if(T[H]!==-1&&(!P||P(T[H])))return H;return-1}function M(P){return I(b,P)===1}function k(P,H){for(let U=0;U<3;U++)S[H*3+U]+=P[U]||0}}function I(b,T){let S=b.GDEF&&b.GDEF.glyphClassDef;return S?i.U._getGlyphClass(T,S):0}function E(...b){for(let T=0;T<b.length;T++)if(typeof b[T]=="number")return b[T]}function B(b){let T=Object.create(null),S=b["OS/2"],R=b.hhea,Q=b.head.unitsPerEm,M=E(S&&S.sTypoAscender,R&&R.ascender,Q),k={unitsPerEm:Q,ascender:M,descender:E(S&&S.sTypoDescender,R&&R.descender,0),capHeight:E(S&&S.sCapHeight,M),xHeight:E(S&&S.sxHeight,M),lineGap:E(S&&S.sTypoLineGap,R&&R.lineGap),supportsCodePoint(P){return i.U.codeToGlyph(b,P)>0},forEachGlyph(P,H,U,K){let q=0,O=1/k.unitsPerEm*H,G=m(b,P),_=0,N=v(b,G);return G.forEach((z,Y)=>{if(z!==-1){let W=T[z];if(!W){let{cmds:ee,crds:te}=i.U.glyphToPath(b,z),re="",se=0;for(let Te=0,de=ee.length;Te<de;Te++){let ye=n[ee[Te]];re+=ee[Te];for(let Be=1;Be<=ye;Be++)re+=(Be>1?",":"")+te[se++]}let le,Ae,ne,Ee;if(te.length){le=Ae=1/0,ne=Ee=-1/0;for(let Te=0,de=te.length;Te<de;Te+=2){let ye=te[Te],Be=te[Te+1];ye<le&&(le=ye),Be<Ae&&(Ae=Be),ye>ne&&(ne=ye),Be>Ee&&(Ee=Be)}}else le=ne=Ae=Ee=0;W=T[z]={index:z,advanceWidth:b.hmtx.aWidth[z],xMin:le,yMin:Ae,xMax:ne,yMax:Ee,path:re}}K.call(null,W,q+N[Y*3]*O,N[Y*3+1]*O,_),q+=N[Y*3+2]*O,U&&(q+=U*H)}_+=P.codePointAt(_)>65535?2:1}),q}};return k}return function(T){let S=new Uint8Array(T,0,4),R=i._bin.readASCII(S,0,4);if(R==="wOFF")T=e(T);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return B(i.parse(T)[0])}}var lm=qr({name:"Typr Font Parser",dependencies:[sm,am,cm],init(i,e,n){let o=i(),t=e();return n(o,t)}});function um(){return function(i){var e=function(){this.buckets=new Map};e.prototype.add=function(v){var I=v>>5;this.buckets.set(I,(this.buckets.get(I)||0)|1<<(31&v))},e.prototype.has=function(v){var I=this.buckets.get(v>>5);return I!==void 0&&(I&1<<(31&v))!=0},e.prototype.serialize=function(){var v=[];return this.buckets.forEach(function(I,E){v.push((+E).toString(36)+":"+I.toString(36))}),v.join(",")},e.prototype.deserialize=function(v){var I=this;this.buckets.clear(),v.split(",").forEach(function(E){var B=E.split(":");I.buckets.set(parseInt(B[0],36),parseInt(B[1],36))})};var n=Math.pow(2,8),o=n-1,t=~o;function r(v){var I=function(B){return B&t}(v).toString(16),E=function(B){return(B&t)+n-1}(v).toString(16);return"codepoint-index/plane"+(v>>16)+"/"+I+"-"+E+".json"}function A(v,I){var E=v&o,B=I.codePointAt(E/6|0);return((B=(B||48)-48)&1<<E%6)!=0}function a(v,I){var E;(E=v,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(B){return B.split("-").map(function(b){return parseInt(b.trim(),16)})})).forEach(function(B){var b=B[0],T=B[1];T===void 0&&(T=b),I(b,T)})}function c(v,I){a(v,function(E,B){for(var b=E;b<=B;b++)I(b)})}var l={},u={},f=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function p(v){var I=f.get(v);return I||(I=new e,c(v.ranges,function(E){return I.add(E)}),f.set(v,I)),I}var g,w=new Map;function y(v,I,E){return v[I]?I:v[E]?E:function(B){for(var b in B)return b}(v)}function C(v,I){var E=I;if(!v.includes(E)){E=1/0;for(var B=0;B<v.length;B++)Math.abs(v[B]-I)<Math.abs(E-I)&&(E=v[B])}return E}function m(v){return g||(g=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(I){g.add(I)})),g.has(v)}return i.CodePointSet=e,i.clearCache=function(){l={},u={}},i.getFontsForString=function(v,I){I===void 0&&(I={});var E,B=I.lang;B===void 0&&(B=/\p{Script=Hangul}/u.test(E=v)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(E)?"ja":"en");var b=I.category;b===void 0&&(b="sans-serif");var T=I.style;T===void 0&&(T="normal");var S=I.weight;S===void 0&&(S=400);var R=(I.dataUrl||h).replace(/\/$/g,""),Q=new Map,M=new Uint8Array(v.length),k={},P={},H=new Array(v.length),U=new Map,K=!1;function q(_){var N=w.get(_);return N||(N=fetch(R+"/"+_).then(function(z){if(!z.ok)throw new Error(z.statusText);return z.json().then(function(Y){if(!Array.isArray(Y)||Y[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Y[0]);return Y[1]})}).catch(function(z){if(R!==h)return K||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+R+'", trying default CDN. '+z.message),K=!0),R=h,w.delete(_),q(_);throw z}),w.set(_,N)),N}for(var O=function(_){var N=v.codePointAt(_),z=r(N);H[_]=z,l[z]||U.has(z)||U.set(z,q(z).then(function(Y){l[z]=Y})),N>65535&&(_++,G=_)},G=0;G<v.length;G++)O(G);return Promise.all(U.values()).then(function(){U.clear();for(var _=function(z){var Y=v.codePointAt(z),W=null,ee=l[H[z]],te=void 0;for(var re in ee){var se=P[re];if(se===void 0&&(se=P[re]=new RegExp(re).test(B||"en")),se){for(var le in te=re,ee[re])if(A(Y,ee[re][le])){W=le;break}break}}if(!W){e:for(var Ae in ee)if(Ae!==te){for(var ne in ee[Ae])if(A(Y,ee[Ae][ne])){W=ne;break e}}}W||(console.debug("No font coverage for U+"+Y.toString(16)),W="latin"),H[z]=W,u[W]||U.has(W)||U.set(W,q("font-meta/"+W+".json").then(function(Ee){u[W]=Ee})),Y>65535&&(z++,N=z)},N=0;N<v.length;N++)_(N);return Promise.all(U.values())}).then(function(){for(var _,N=null,z=0;z<v.length;z++){var Y=v.codePointAt(z);if(N&&(m(Y)||p(N).has(Y)))M[z]=M[z-1];else{N=u[H[z]];var W=k[N.id];if(!W){var ee=N.typeforms,te=y(ee,b,"sans-serif"),re=y(ee[te],T,"normal"),se=C((_=ee[te])===null||_===void 0?void 0:_[re],S);W=k[N.id]=R+"/font-files/"+N.id+"/"+te+"."+re+"."+se+".woff"}var le=Q.get(W);le==null&&(le=Q.size,Q.set(W,le)),M[z]=le}Y>65535&&(z++,M[z]=M[z-1])}return{fontUrls:Array.from(Q.keys()),chars:M}})},Object.defineProperty(i,"__esModule",{value:!0}),i}({})}function fm(i,e){let n=Object.create(null),o=Object.create(null);function t(A,a){let c=l=>{console.error(`Failure loading font ${A}`,l)};try{let l=new XMLHttpRequest;l.open("get",A,!0),l.responseType="arraybuffer",l.onload=function(){if(l.status>=400)c(new Error(l.statusText));else if(l.status>0)try{let u=i(l.response);u.src=A,a(u)}catch(u){c(u)}},l.onerror=c,l.send()}catch(l){c(l)}}function r(A,a){let c=n[A];c?a(c):o[A]?o[A].push(a):(o[A]=[a],t(A,l=>{l.src=A,n[A]=l,o[A].forEach(u=>u(l)),delete o[A]}))}return function(A,a,{lang:c,fonts:l=[],style:u="normal",weight:f="normal",unicodeFontsURL:h}={}){let p=new Uint8Array(A.length),g=[];A.length||m();let w=new Map,y=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),l&&!Array.isArray(l)&&(l=[l]),l=l.slice().filter(I=>!I.lang||I.lang.test(c)).reverse(),l.length){let b=0;(function T(S=0){for(let R=S,Q=A.length;R<Q;R++){let M=A.codePointAt(R);if(b===1&&g[p[R-1]].supportsCodePoint(M)||R>0&&/\s/.test(A[R]))p[R]=p[R-1],b===2&&(y[y.length-1][1]=R);else for(let k=p[R],P=l.length;k<=P;k++)if(k===P){let H=b===2?y[y.length-1]:y[y.length]=[R,R];H[1]=R,b=2}else{p[R]=k;let{src:H,unicodeRange:U}=l[k];if(!U||v(M,U)){let K=n[H];if(!K){r(H,()=>{T(R)});return}if(K.supportsCodePoint(M)){let q=w.get(K);typeof q!="number"&&(q=g.length,g.push(K),w.set(K,q)),p[R]=q,b=1;break}}}M>65535&&R+1<Q&&(p[R+1]=p[R],R++,b===2&&(y[y.length-1][1]=R))}C()})()}else y.push([0,A.length-1]),C();function C(){if(y.length){let I=y.map(E=>A.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(I,{lang:c||void 0,style:u,weight:f,dataUrl:h}).then(({fontUrls:E,chars:B})=>{let b=g.length,T=0;y.forEach(R=>{for(let Q=0,M=R[1]-R[0];Q<=M;Q++)p[R[0]+Q]=B[T++]+b;T++});let S=0;E.forEach((R,Q)=>{r(R,M=>{g[Q+b]=M,++S===E.length&&m()})})})}else m()}function m(){a({chars:p,fonts:g})}function v(I,E){for(let B=0;B<E.length;B++){let[b,T=b]=E[B];if(b<=I&&I<=T)return!0}return!1}}}var nf=qr({name:"FontResolver",dependencies:[fm,lm,um],init(i,e,n){return i(e,n())}});function hm(i,e){let o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,t="[^\\S\\u00A0]",r=new RegExp(`${t}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function A({text:g,lang:w,fonts:y,style:C,weight:m,preResolvedFonts:v,unicodeFontsURL:I},E){let B=({chars:b,fonts:T})=>{let S,R,Q=[];for(let M=0;M<b.length;M++)b[M]!==R?(R=b[M],Q.push(S={start:M,end:M,fontObj:T[b[M]]})):S.end=M;E(Q)};v?B(v):i(g,B,{lang:w,fonts:y,style:C,weight:m,unicodeFontsURL:I})}function a({text:g="",font:w,lang:y,sdfGlyphSize:C=64,fontSize:m=400,fontWeight:v=1,fontStyle:I="normal",letterSpacing:E=0,lineHeight:B="normal",maxWidth:b=1/0,direction:T,textAlign:S="left",textIndent:R=0,whiteSpace:Q="normal",overflowWrap:M="normal",anchorX:k=0,anchorY:P=0,metricsOnly:H=!1,unicodeFontsURL:U,preResolvedFonts:K=null,includeCaretPositions:q=!1,chunkedBoundsSize:O=8192,colorRanges:G=null},_){let N=f(),z={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),m=+m,E=+E,b=+b,B=B||"normal",R=+R,A({text:g,lang:y,style:I,weight:v,fonts:typeof w=="string"?[{src:w}]:w,unicodeFontsURL:U,preResolvedFonts:K},Y=>{z.fontLoad=f()-N;let W=isFinite(b),ee=null,te=null,re=null,se=null,le=null,Ae=null,ne=null,Ee=null,Te=0,de=0,ye=Q!=="nowrap",Be=new Map,ae=f(),pe=R,we=0,ie=new h,_e=[ie];Y.forEach(Ie=>{let{fontObj:Ce}=Ie,{ascender:be,descender:Me,unitsPerEm:Ge,lineGap:Z,capHeight:d,xHeight:x}=Ce,D=Be.get(Ce);if(!D){let X=m/Ge,J=B==="normal"?(be-Me+Z)*X:B*m,ce=(J-(be-Me)*X)/2,oe=Math.min(J,(be-Me)*X),ue=(be+Me)/2*X+oe/2;D={index:Be.size,src:Ce.src,fontObj:Ce,fontSizeMult:X,unitsPerEm:Ge,ascender:be*X,descender:Me*X,capHeight:d*X,xHeight:x*X,lineHeight:J,baseline:-ce-be*X,caretTop:ue,caretBottom:ue-oe},Be.set(Ce,D)}let{fontSizeMult:F}=D,L=g.slice(Ie.start,Ie.end+1),V,$;Ce.forEachGlyph(L,m,E,(X,J,ce,oe)=>{J+=we,oe+=Ie.start,V=J,$=X;let ue=g.charAt(oe),me=X.advanceWidth*F,xe=ie.count,he;if("isEmpty"in X||(X.isWhitespace=!!ue&&new RegExp(t).test(ue),X.canBreakAfter=!!ue&&r.test(ue),X.isEmpty=X.xMin===X.xMax||X.yMin===X.yMax||o.test(ue)),!X.isWhitespace&&!X.isEmpty&&de++,ye&&W&&!X.isWhitespace&&J+me+pe>b&&xe){if(ie.glyphAt(xe-1).glyphObj.canBreakAfter)he=new h,pe=-J;else for(let Ye=xe;Ye--;)if(Ye===0&&M==="break-word"){he=new h,pe=-J;break}else if(ie.glyphAt(Ye).glyphObj.canBreakAfter){he=ie.splitAt(Ye+1);let Oe=he.glyphAt(0).x;pe-=Oe;for(let Ve=he.count;Ve--;)he.glyphAt(Ve).x-=Oe;break}he&&(ie.isSoftWrapped=!0,ie=he,_e.push(ie),Te=b)}let Re=ie.glyphAt(ie.count);Re.glyphObj=X,Re.x=J+pe,Re.y=ce,Re.width=me,Re.charIndex=oe,Re.fontData=D,ue===`
`&&(ie=new h,_e.push(ie),pe=-(J+me+E*m)+R)}),we=V+$.advanceWidth*F+E*m});let fe=0;_e.forEach(Ie=>{let Ce=!0;for(let be=Ie.count;be--;){let Me=Ie.glyphAt(be);Ce&&!Me.glyphObj.isWhitespace&&(Ie.width=Me.x+Me.width,Ie.width>Te&&(Te=Ie.width),Ce=!1);let{lineHeight:Ge,capHeight:Z,xHeight:d,baseline:x}=Me.fontData;Ge>Ie.lineHeight&&(Ie.lineHeight=Ge);let D=x-Ie.baseline;D<0&&(Ie.baseline+=D,Ie.cap+=D,Ie.ex+=D),Ie.cap=Math.max(Ie.cap,Ie.baseline+Z),Ie.ex=Math.max(Ie.ex,Ie.baseline+d)}Ie.baseline-=fe,Ie.cap-=fe,Ie.ex-=fe,fe+=Ie.lineHeight});let ve=0,ge=0;if(k&&(typeof k=="number"?ve=-k:typeof k=="string"&&(ve=-Te*(k==="left"?0:k==="center"?.5:k==="right"?1:l(k)))),P&&(typeof P=="number"?ge=-P:typeof P=="string"&&(ge=P==="top"?0:P==="top-baseline"?-_e[0].baseline:P==="top-cap"?-_e[0].cap:P==="top-ex"?-_e[0].ex:P==="middle"?fe/2:P==="bottom"?fe:P==="bottom-baseline"?-_e[_e.length-1].baseline:l(P)*fe)),!H){let Ie=e.getEmbeddingLevels(g,T);ee=new Uint16Array(de),te=new Uint8Array(de),re=new Float32Array(de*2),se={},ne=[1/0,1/0,-1/0,-1/0],Ee=[],q&&(Ae=new Float32Array(g.length*4)),G&&(le=new Uint8Array(de*3));let Ce=0,be=-1,Me=-1,Ge,Z;if(_e.forEach((d,x)=>{let{count:D,width:F}=d;if(D>0){let L=0;for(let oe=D;oe--&&d.glyphAt(oe).glyphObj.isWhitespace;)L++;let V=0,$=0;if(S==="center")V=(Te-F)/2;else if(S==="right")V=Te-F;else if(S==="justify"&&d.isSoftWrapped){let oe=0;for(let ue=D-L;ue--;)d.glyphAt(ue).glyphObj.isWhitespace&&oe++;$=(Te-F)/oe}if($||V){let oe=0;for(let ue=0;ue<D;ue++){let me=d.glyphAt(ue),xe=me.glyphObj;me.x+=V+oe,$!==0&&xe.isWhitespace&&ue<D-L&&(oe+=$,me.width+=$)}}let X=e.getReorderSegments(g,Ie,d.glyphAt(0).charIndex,d.glyphAt(d.count-1).charIndex);for(let oe=0;oe<X.length;oe++){let[ue,me]=X[oe],xe=1/0,he=-1/0;for(let Re=0;Re<D;Re++)if(d.glyphAt(Re).charIndex>=ue){let Ye=Re,Oe=Re;for(;Oe<D;Oe++){let Ve=d.glyphAt(Oe);if(Ve.charIndex>me)break;Oe<D-L&&(xe=Math.min(xe,Ve.x),he=Math.max(he,Ve.x+Ve.width))}for(let Ve=Ye;Ve<Oe;Ve++){let mt=d.glyphAt(Ve);mt.x=he-(mt.x+mt.width-xe)}break}}let J,ce=oe=>J=oe;for(let oe=0;oe<D;oe++){let ue=d.glyphAt(oe);J=ue.glyphObj;let me=J.index,xe=Ie.levels[ue.charIndex]&1;if(xe){let he=e.getMirroredCharacter(g[ue.charIndex]);he&&ue.fontData.fontObj.forEachGlyph(he,0,0,ce)}if(q){let{charIndex:he,fontData:Re}=ue,Ye=ue.x+ve,Oe=ue.x+ue.width+ve;Ae[he*4]=xe?Oe:Ye,Ae[he*4+1]=xe?Ye:Oe,Ae[he*4+2]=d.baseline+Re.caretBottom+ge,Ae[he*4+3]=d.baseline+Re.caretTop+ge;let Ve=he-be;Ve>1&&u(Ae,be,Ve),be=he}if(G){let{charIndex:he}=ue;for(;he>Me;)Me++,G.hasOwnProperty(Me)&&(Z=G[Me])}if(!J.isWhitespace&&!J.isEmpty){let he=Ce++,{fontSizeMult:Re,src:Ye,index:Oe}=ue.fontData,Ve=se[Ye]||(se[Ye]={});Ve[me]||(Ve[me]={path:J.path,pathBounds:[J.xMin,J.yMin,J.xMax,J.yMax]});let mt=ue.x+ve,Ct=ue.y+d.baseline+ge;re[he*2]=mt,re[he*2+1]=Ct;let Ke=mt+J.xMin*Re,$t=Ct+J.yMin*Re,fr=mt+J.xMax*Re,Gt=Ct+J.yMax*Re;Ke<ne[0]&&(ne[0]=Ke),$t<ne[1]&&(ne[1]=$t),fr>ne[2]&&(ne[2]=fr),Gt>ne[3]&&(ne[3]=Gt),he%O===0&&(Ge={start:he,end:he,rect:[1/0,1/0,-1/0,-1/0]},Ee.push(Ge)),Ge.end++;let ct=Ge.rect;if(Ke<ct[0]&&(ct[0]=Ke),$t<ct[1]&&(ct[1]=$t),fr>ct[2]&&(ct[2]=fr),Gt>ct[3]&&(ct[3]=Gt),ee[he]=me,te[he]=Oe,G){let er=he*3;le[er]=Z>>16&255,le[er+1]=Z>>8&255,le[er+2]=Z&255}}}}}),Ae){let d=g.length-be;d>1&&u(Ae,be,d)}}let Pe=[];Be.forEach(({index:Ie,src:Ce,unitsPerEm:be,ascender:Me,descender:Ge,lineHeight:Z,capHeight:d,xHeight:x})=>{Pe[Ie]={src:Ce,unitsPerEm:be,ascender:Me,descender:Ge,lineHeight:Z,capHeight:d,xHeight:x}}),z.typesetting=f()-ae,_({glyphIds:ee,glyphFontIndices:te,glyphPositions:re,glyphData:se,fontData:Pe,caretPositions:Ae,glyphColors:le,chunkedBounds:Ee,fontSize:m,topBaseline:ge+_e[0].baseline,blockBounds:[ve,ge-fe,ve+Te,ge],visibleBounds:ne,timings:z})})}function c(g,w){a({...g,metricsOnly:!0},y=>{let[C,m,v,I]=y.blockBounds;w({width:v-C,height:I-m})})}function l(g){let w=g.match(/^([\d.]+)%$/),y=w?parseFloat(w[1]):NaN;return isNaN(y)?0:y/100}function u(g,w,y){let C=g[w*4],m=g[w*4+1],v=g[w*4+2],I=g[w*4+3],E=(m-C)/y;for(let B=0;B<y;B++){let b=(w+B)*4;g[b]=C+E*B,g[b+1]=C+E*(B+1),g[b+2]=v,g[b+3]=I}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}let p=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(g){let w=h.flyweight;return w.data=this.data,w.index=g,w},splitAt(g){let w=new h;return w.data=this.data.splice(g*p.length),w}},h.flyweight=p.reduce((g,w,y,C)=>(Object.defineProperty(g,w,{get(){return this.data[this.index*p.length+y]},set(m){this.data[this.index*p.length+y]=m}}),g),{data:null,index:0}),{typeset:a,measure:c}}var Jr=()=>(self.performance||Date).now(),Zo=Ba(),ju;function pm(i,e,n,o,t,r,A,a,c,l,u=!0){return u?gm(i,e,n,o,t,r,A,a,c,l).then(null,f=>(ju||(console.warn("WebGL SDF generation failed, falling back to JS",f),ju=!0),Wu(i,e,n,o,t,r,A,a,c,l))):Wu(i,e,n,o,t,r,A,a,c,l)}var qo=[],dm=5,_a=0;function of(){let i=Jr();for(;qo.length&&Jr()-i<dm;)qo.shift()();_a=qo.length?setTimeout(of,0):0}var gm=(...i)=>new Promise((e,n)=>{qo.push(()=>{let o=Jr();try{Zo.webgl.generateIntoCanvas(...i),e({timing:Jr()-o})}catch(t){n(t)}}),_a||(_a=setTimeout(of,0))}),mm=4,ym=2e3,Yu={},vm=0;function Wu(i,e,n,o,t,r,A,a,c,l){let u="TroikaTextSDFGenerator_JS_"+vm++%mm,f=Yu[u];return f||(f=Yu[u]={workerModule:qr({name:u,workerId:u,dependencies:[Ba,Jr],init(h,p){let g=h().javascript.generate;return function(...w){let y=p();return{textureData:g(...w),timing:p()-y}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(i,e,n,o,t,r).then(({textureData:h,timing:p})=>{let g=Jr(),w=new Uint8Array(h.length*4);for(let y=0;y<h.length;y++)w[y*4+l]=h[y];return Zo.webglUtils.renderImageData(A,w,a,c,i,e,1<<3-l),p+=Jr()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Ou(u)},ym)),{timing:p}})}function wm(i){i._warm||(Zo.webgl.isSupported(i),i._warm=!0)}var xm=Zo.webglUtils.resizeWebGLCanvasWithoutClearing,Mr={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Im=new qe,Af=!1;function En(){return(self.performance||Date).now()}function Cm(i){Af?console.warn("configureTextBuilder called after first font request; will be ignored."):cf(Mr,i)}var Jo=Object.create(null);function Pa(i,e){Af=!0,i=cf({},i);let n=En(),{defaultFontURL:o}=Mr,t=[];if(o&&t.push({label:"default",src:qu(o)}),i.font&&t.push({label:"user",src:qu(i.font)}),i.font=t,i.text=""+i.text,i.sdfGlyphSize=i.sdfGlyphSize||Mr.sdfGlyphSize,i.unicodeFontsURL=i.unicodeFontsURL||Mr.unicodeFontsURL,i.colorRanges!=null){let p={};for(let g in i.colorRanges)if(i.colorRanges.hasOwnProperty(g)){let w=i.colorRanges[g];typeof w!="number"&&(w=Im.set(w).getHex()),p[g]=w}i.colorRanges=p}Object.freeze(i);let{textureWidth:r,sdfExponent:A}=Mr,{sdfGlyphSize:a}=i,c=r/a*4,l=Jo[a];if(!l){let p=document.createElement("canvas");p.width=r,p.height=a*256/c,l=Jo[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:p,sdfTexture:new mn(p,void 0,void 0,void 0,zr,zr),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,Em(l)}let{sdfTexture:u,sdfCanvas:f}=l;(Mr.useWorker?ff:bm)(i).then(p=>{let{glyphIds:g,glyphFontIndices:w,fontData:y,glyphPositions:C,fontSize:m,timings:v}=p,I=[],E=new Float32Array(g.length*4),B=0,b=0,T=En(),S=y.map(P=>{let H=l.glyphsByFont.get(P.src);return H||l.glyphsByFont.set(P.src,H=new Map),H});g.forEach((P,H)=>{let U=w[H],{src:K,unitsPerEm:q}=y[U],O=S[U].get(P);if(!O){let{path:Y,pathBounds:W}=p.glyphData[K][P],ee=Math.max(W[2]-W[0],W[3]-W[1])/a*(Mr.sdfMargin*a+.5),te=l.glyphCount++,re=[W[0]-ee,W[1]-ee,W[2]+ee,W[3]+ee];S[U].set(P,O={path:Y,atlasIndex:te,sdfViewBox:re}),I.push(O)}let{sdfViewBox:G}=O,_=C[b++],N=C[b++],z=m/q;E[B++]=_+G[0]*z,E[B++]=N+G[1]*z,E[B++]=_+G[2]*z,E[B++]=N+G[3]*z,g[H]=O.atlasIndex}),v.quads=(v.quads||0)+(En()-T);let R=En();v.sdf={};let Q=f.height,M=Math.ceil(l.glyphCount/c),k=Math.pow(2,Math.ceil(Math.log2(M*a)));k>Q&&(console.info(`Increasing SDF texture size ${Q}->${k}`),xm(f,r,k),u.dispose()),Promise.all(I.map(P=>sf(P,l,i.gpuAccelerateSDF).then(({timing:H})=>{v.sdf[P.atlasIndex]=H}))).then(()=>{I.length&&!l.contextLost&&(lf(l),u.needsUpdate=!0),v.sdfTotal=En()-R,v.total=En()-n,e(Object.freeze({parameters:i,sdfTexture:u,sdfGlyphSize:a,sdfExponent:A,glyphBounds:E,glyphAtlasIndices:g,glyphColors:p.glyphColors,caretPositions:p.caretPositions,chunkedBounds:p.chunkedBounds,ascender:p.ascender,descender:p.descender,lineHeight:p.lineHeight,capHeight:p.capHeight,xHeight:p.xHeight,topBaseline:p.topBaseline,blockBounds:p.blockBounds,visibleBounds:p.visibleBounds,timings:p.timings}))})}),Promise.resolve().then(()=>{l.contextLost||wm(f)})}function sf({path:i,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:o,sdfCanvas:t,contextLost:r},A){if(r)return Promise.resolve({timing:-1});let{textureWidth:a,sdfExponent:c}=Mr,l=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(a/o)*o,h=Math.floor(u/(a/o))*o,p=e%4;return pm(o,o,i,n,l,c,t,f,h,p,A)}function Em(i){let e=i.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),i.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),i.contextLost=!1;let o=[];i.glyphsByFont.forEach(t=>{t.forEach(r=>{o.push(sf(r,i,!0))})}),Promise.all(o).then(()=>{lf(i),i.sdfTexture.needsUpdate=!0})})}function af({font:i,characters:e,sdfGlyphSize:n},o){let t=Array.isArray(e)?e.join(`
`):""+e;Pa({font:i,sdfGlyphSize:n,text:t},o)}function cf(i,e){for(let n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}var Yo;function qu(i){return Yo||(Yo=typeof document>"u"?{}:document.createElement("a")),Yo.href=i,Yo.href}function lf(i){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");let{sdfCanvas:e,sdfTexture:n}=i,{width:o,height:t}=e,r=i.sdfCanvas.getContext("webgl"),A=n.image.data;(!A||A.length!==o*t*4)&&(A=new Uint8Array(o*t*4),n.image={width:o,height:t,data:A},n.flipY=!1,n.isDataTexture=!0),r.readPixels(0,0,o,t,r.RGBA,r.UNSIGNED_BYTE,A)}}var uf=qr({name:"Typesetter",dependencies:[hm,nf,Nu],init(i,e,n){return i(e,n())}}),ff=qr({name:"Typesetter",dependencies:[uf],init(i){return function(e){return new Promise(n=>{i.typeset(e,n)})}},getTransferables(i){let e=[];for(let n in i)i[n]&&i[n].buffer&&e.push(i[n].buffer);return e}}),bm=ff.onMainThread;function Bm(){Object.keys(Jo).forEach(i=>{let e=Jo[i].sdfCanvas,{width:n,height:o}=e;console.log("%c.",`
      background: url(${e.toDataURL()});
      background-size: ${n}px ${o}px;
      color: transparent;
      font-size: 0;
      line-height: ${o}px;
      padding-left: ${n}px;
    `)})}var Ku={};function Tm(i){let e=Ku[i];return e||(e=Ku[i]=new wn(1,1,i,i).translate(.5,.5,0)),e}var Ko="aTroikaGlyphBounds",Ti="aTroikaGlyphIndex",Sm="aTroikaGlyphColor",Xo=class extends Po{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new kt,this.boundingBox=new Je}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Tm(e);["position","normal","uv"].forEach(o=>{this.attributes[o]=n.attributes[o].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,o,t,r){this.updateAttributeData(Ko,e,4),this.updateAttributeData(Ti,n,1),this.updateAttributeData(Sm,r,3),this._blockBounds=o,this._chunkedBounds=t,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){let e=this._blockBounds;if(e){let{curveRadius:n,boundingBox:o}=this;if(n){let{PI:t,floor:r,min:A,max:a,sin:c,cos:l}=Math,u=t/2,f=t*2,h=Math.abs(n),p=e[0]/h,g=e[2]/h,w=r((p+u)/f)!==r((g+u)/f)?-h:A(c(p)*h,c(g)*h),y=r((p-u)/f)!==r((g-u)/f)?h:a(c(p)*h,c(g)*h),C=r((p+t)/f)!==r((g+t)/f)?h*2:a(h-l(p)*h,h-l(g)*h);o.min.set(w,e[1],n<0?-C:0),o.max.set(y,e[3],n<0?0:C)}else o.min.set(e[0],e[1],0),o.max.set(e[2],e[3],0);o.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(Ti).count,o=this._chunkedBounds;if(o)for(let t=o.length;t--;){n=o[t].end;let r=o[t].rect;if(r[1]<e.w&&r[3]>e.y&&r[0]<e.z&&r[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,o){let t=this.getAttribute(e);n?t&&t.array.length===n.length?(t.array.set(n),t.needsUpdate=!0):(this.setAttribute(e,new Vr(n,o)),delete this._maxInstanceCount,this.dispose()):t&&this.deleteAttribute(e)}},Dm=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Mm=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Rm=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,_m=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Qa(i){let e=Cn(i,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new tt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Dt(0,0,0,0)},uTroikaClipRect:{value:new Dt(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new tt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new qe},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new pi},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Dm,vertexTransform:Mm,fragmentDefs:Rm,fragmentColorTransform:_m,customRewriter({vertexShader:n,fragmentShader:o}){let t=/\buniform\s+vec3\s+diffuse\b/;return t.test(o)&&(o=o.replace(t,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),t.test(n)||(n=n.replace(Sa,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:o}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}var Ua=new pt({color:16777215,side:At,transparent:!0}),Ju=8421504,Xu=new Fe,Wo=new j,Da=new j,Bi=[],km=new j,Ma="+x+y";function Zu(i){return Array.isArray(i)?i[0]:i}var hf=()=>{let i=new ke(new wn(1,1),Ua);return hf=()=>i,i},pf=()=>{let i=new ke(new wn(1,1,32,1),Ua);return pf=()=>i,i},Fm={type:"syncstart"},Pm={type:"synccomplete"},df=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Qm=df.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),mr=class extends ke{constructor(){let e=new Xo;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Ju,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Ma,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Fm),Pa({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);let o=this._queuedSyncs;o&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{o.forEach(t=>t&&t())})),this.dispatchEvent(Pm),e&&e()})))}onBeforeRender(e,n,o,t,r,A){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Qa(e)}get material(){let e=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Ua.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function o(){n.removeEventListener("dispose",o),e.dispose()})),this.hasOutline()){let o=e._outlineMtl;return o||(o=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),o.isTextOutlineMaterial=!0,o.depthWrite=!1,o.map=null,e.addEventListener("dispose",function t(){e.removeEventListener("dispose",t),o.dispose()})),[o,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Zu(this.material).getDepthMaterial()}get customDistanceMaterial(){return Zu(this.material).getDistanceMaterial()}_prepareForRender(e){let n=e.isTextOutlineMaterial,o=e.uniforms,t=this.textRenderInfo;if(t){let{sdfTexture:a,blockBounds:c}=t;o.uTroikaSDFTexture.value=a,o.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),o.uTroikaSDFGlyphSize.value=t.sdfGlyphSize,o.uTroikaSDFExponent.value=t.sdfExponent,o.uTroikaTotalBounds.value.fromArray(c),o.uTroikaUseGlyphColors.value=!n&&!!t.glyphColors;let l=0,u=0,f=0,h,p,g,w=0,y=0;if(n){let{outlineWidth:m,outlineOffsetX:v,outlineOffsetY:I,outlineBlur:E,outlineOpacity:B}=this;l=this._parsePercent(m)||0,u=Math.max(0,this._parsePercent(E)||0),h=B,w=this._parsePercent(v)||0,y=this._parsePercent(I)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,o.uTroikaStrokeColor.value.set(g??Ju),p=this.strokeOpacity,p==null&&(p=1)),h=this.fillOpacity;o.uTroikaEdgeOffset.value=l,o.uTroikaPositionOffset.value.set(w,y),o.uTroikaBlurRadius.value=u,o.uTroikaStrokeWidth.value=f,o.uTroikaStrokeOpacity.value=p,o.uTroikaFillOpacity.value=h??1,o.uTroikaCurveRadius.value=this.curveRadius||0;let C=this.clipRect;if(C&&Array.isArray(C)&&C.length===4)o.uTroikaClipRect.value.fromArray(C);else{let m=(this.fontSize||.1)*100;o.uTroikaClipRect.value.set(c[0]-m,c[1]-m,c[2]+m,c[3]+m)}this.geometry.applyClipRect(o.uTroikaClipRect.value)}o.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;let r=n?this.outlineColor||0:this.color;if(r==null)delete e.color;else{let a=e.hasOwnProperty("color")?e.color:e.color=new qe;(r!==a._input||typeof r=="object")&&a.set(a._input=r)}let A=this.orientation||Ma;if(A!==e._orientation){let a=o.uTroikaOrient.value;A=A.replace(/[^-+xyz]/g,"");let c=A!==Ma&&A.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){let[,l,u,f,h]=c;Wo.set(0,0,0)[u]=l==="-"?1:-1,Da.set(0,0,0)[h]=f==="-"?-1:1,Xu.lookAt(km,Wo.cross(Da),Da),a.setFromMatrix4(Xu)}else a.identity();e._orientation=A}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),o=n?parseFloat(n[1]):NaN;e=(isNaN(o)?0:o/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new tt){n.copy(e);let o=this.curveRadius;return o&&(n.x=Math.atan2(e.x,Math.abs(o)-Math.abs(e.z))*Math.abs(o)),n}worldPositionToTextCoords(e,n=new tt){return Wo.copy(e),this.localPositionToTextCoords(this.worldToLocal(Wo),n)}raycast(e,n){let{textRenderInfo:o,curveRadius:t}=this;if(o){let r=o.blockBounds,A=t?pf():hf(),a=A.geometry,{position:c,uv:l}=a.attributes;for(let u=0;u<l.count;u++){let f=r[0]+l.getX(u)*(r[2]-r[0]),h=r[1]+l.getY(u)*(r[3]-r[1]),p=0;t&&(p=t-Math.cos(f/t)*t,f=Math.sin(f/t)*t),c.setXYZ(u,f,h,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,A.matrixWorld=this.matrixWorld,A.material.side=this.material.side,Bi.length=0,A.raycast(e,Bi);for(let u=0;u<Bi.length;u++)Bi[u].object=this,n.push(Bi[u])}}copy(e){let n=this.geometry;return super.copy(e),this.geometry=n,Qm.forEach(o=>{this[o]=e[o]}),this}clone(){return new this.constructor().copy(this)}};df.forEach(i=>{let e="_private_"+i;Object.defineProperty(mr.prototype,i,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});var Um={type:"syncstart"},Lm={type:"synccomplete"},bn="aTroikaTextBatchMemberIndex",ka=32,$u=new Je,ef=new qe,Fa=class i extends mr{constructor(){super(),this._members=new Map,this._dataTextures={},this._onMemberSynced=e=>{this._members.get(e.target).dirty=!0}}add(...e){for(let n=0;n<e.length;n++)e[n]instanceof mr?this.addText(e[n]):super.add(e[n]);return this}remove(...e){for(let n=0;n<e.length;n++)e[n]instanceof mr?this.removeText(e[n]):super.remove(e[n]);return this}addText(e){this._members.has(e)||(this._members.set(e,{index:-1,glyphCount:-1,dirty:!0}),e.addEventListener("synccomplete",this._onMemberSynced))}removeText(e){this._needsRepack=!0,e.removeEventListener("synccomplete",this._onMemberSynced),this._members.delete(e)}createDerivedMaterial(e){return Om(e)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateBounds()}updateBounds(){let e=this.geometry.boundingBox.makeEmpty();this._members.forEach((n,o)=>{o.matrixAutoUpdate&&o.updateMatrix(),$u.copy(o.geometry.boundingBox).applyMatrix4(o.matrix),e.union($u)}),e.getBoundingSphere(this.geometry.boundingSphere)}hasOutline(){for(let e of this._members.keys())if(e.hasOutline())return!0;return!1}_prepareForRender(e){let n=e.isTextOutlineMaterial;e.uniforms.uTroikaIsOutline.value=n;let o=this._dataTextures[n?"outline":"main"],t=Math.pow(2,Math.ceil(Math.log2(this._members.size*ka)));if(!o||t!==o.image.data.length){o&&o.dispose();let a=Math.min(t/4,1024);o=this._dataTextures[n?"outline":"main"]=new lu(new Float32Array(t),a,t/4/a,ru,tu)}let r=o.image.data,A=(a,c)=>{c!==r[a]&&(r[a]=c,o.needsUpdate=!0)};this._members.forEach(({index:a,dirty:c},l)=>{if(a>-1){let u=a*ka,f=l.matrix.elements;for(let b=0;b<16;b++)A(u+b,f[b]);l._prepareForRender(e);let{uTroikaTotalBounds:h,uTroikaClipRect:p,uTroikaPositionOffset:g,uTroikaEdgeOffset:w,uTroikaBlurRadius:y,uTroikaStrokeWidth:C,uTroikaStrokeColor:m,uTroikaStrokeOpacity:v,uTroikaFillOpacity:I,uTroikaCurveRadius:E}=e.uniforms;for(let b=0;b<4;b++)A(u+16+b,h.value.getComponent(b));for(let b=0;b<4;b++)A(u+20+b,p.value.getComponent(b));let B=n?l.outlineColor||0:l.color;B==null&&(B=this.color),B==null&&(B=this.material.color),B==null&&(B=16777215),A(u+24,ef.set(B).getHex()),A(u+25,I.value),A(u+26,E.value),n?(A(u+28,g.value.x),A(u+29,g.value.y),A(u+30,w.value),A(u+31,y.value)):(A(u+28,C.value),A(u+29,ef.set(m.value).getHex()),A(u+30,v.value))}}),e.setMatrixTexture(o),super._prepareForRender(e)}sync(e){let n=this._needsRepack?[]:null;this._needsRepack=!1,this._members.forEach((o,t)=>{(o.dirty||t._needsSync)&&(o.dirty=!1,(n||(n=[])).push(new Promise(r=>{t._needsSync?t.sync(r):r()})))}),n&&(this.dispatchEvent(Um),Promise.all(n).then(()=>{let{geometry:o}=this,t=o.attributes,r=t[bn]&&t[bn].array||new Uint16Array(0),A=t[Ti]&&t[Ti].array||new Float32Array(0),a=t[Ko]&&t[Ko].array||new Float32Array(0),c=0;this._members.forEach((f,{textRenderInfo:h})=>{h&&(c+=h.glyphAtlasIndices.length,this._textRenderInfo=h)}),c!==r.length&&(r=Ra(r,c),A=Ra(A,c),a=Ra(a,c*4));let l=0,u=0;this._members.forEach((f,{textRenderInfo:h})=>{if(h){let p=h.glyphAtlasIndices.length;r.fill(l,u,u+p),A.set(h.glyphAtlasIndices,u,u+p),a.set(h.glyphBounds,u*4,(u+p)*4),u+=p,f.index=l++}}),o.updateAttributeData(bn,r,1),o.getAttribute(bn).setUsage(Au),o.updateAttributeData(Ti,A,1),o.updateAttributeData(Ko,a,4),this.updateBounds(),this.dispatchEvent(Lm),e&&e()}))}copy(e){return e instanceof i&&(super.copy(e),this._members.forEach((n,o)=>this.removeText(o)),e._members.forEach((n,o)=>this.addText(o))),this}dispose(){super.dispose(),Object.values(this._dataTextures).forEach(e=>e.dispose())}};function Ra(i,e){let n=new i.constructor(e);return n.set(i.subarray(0,e)),n}function Om(i){let e="uTroikaMatricesTexture",n="uTroikaMatricesTextureSize",o=Cn(i,{chained:!0,uniforms:{[n]:{value:new tt},[e]:{value:null}},vertexDefs:`
      uniform highp sampler2D ${e};
      uniform vec2 ${n};
      attribute float ${bn};

      vec4 troikaBatchTexel(float offset) {
        offset += ${bn} * ${ka.toFixed(1)} / 4.0;
        float w = ${n}.x;
        vec2 uv = (vec2(mod(offset, w), floor(offset / w)) + 0.5) / ${n};
        return texture2D(${e}, uv);
      }
    `,vertexTransform:`
      mat4 matrix = mat4(
        troikaBatchTexel(0.0),
        troikaBatchTexel(1.0),
        troikaBatchTexel(2.0),
        troikaBatchTexel(3.0)
      );
      position.xyz = (matrix * vec4(position, 1.0)).xyz;
    `});return o=Qa(o),o=Cn(o,{chained:!0,uniforms:{uTroikaIsOutline:{value:!1}},customRewriter(t){return["uTroikaTotalBounds","uTroikaClipRect","uTroikaPositionOffset","uTroikaEdgeOffset","uTroikaBlurRadius","uTroikaStrokeWidth","uTroikaStrokeColor","uTroikaStrokeOpacity","uTroikaFillOpacity","uTroikaCurveRadius","diffuse"].forEach(A=>{t=Nm(t,A)}),t},vertexDefs:`
      uniform bool uTroikaIsOutline;
      vec3 troikaFloatToColor(float v) {
        return mod(floor(vec3(v / 65536.0, v / 256.0, v)), 256.0) / 256.0;
      }
    `,vertexTransform:`
      uTroikaTotalBounds = troikaBatchTexel(4.0);
      uTroikaClipRect = troikaBatchTexel(5.0);
      
      vec4 data = troikaBatchTexel(6.0);
      diffuse = troikaFloatToColor(data.x);
      uTroikaFillOpacity = data.y;
      uTroikaCurveRadius = data.z;
      
      data = troikaBatchTexel(7.0);
      if (uTroikaIsOutline) {
        if (data == vec4(0.0)) { // degenerate if zero outline
          position = vec3(0.0);
        } else {
          uTroikaPositionOffset = data.xy;
          uTroikaEdgeOffset = data.z;
          uTroikaBlurRadius = data.w;
        }
      } else {
        uTroikaStrokeWidth = data.x;
        uTroikaStrokeColor = troikaFloatToColor(data.y);
        uTroikaStrokeOpacity = data.z;
      }
    `}),o.setMatrixTexture=t=>{o.uniforms[e].value=t,o.uniforms[n].value.set(t.image.width,t.image.height)},o}function Nm({vertexShader:i,fragmentShader:e},n,o=n){let t=new RegExp(`uniform\\s+(bool|float|vec[234]|mat[34])\\s+${n}\\b`),r,A=!1;e=e.replace(t,(c,l)=>(A=!0,`varying ${r=l} ${o}`));let a=!1;return i=i.replace(t,(c,l)=>(a=!0,`${A?"varying":""} ${r=l} ${o}`)),a||(i=`${A?"varying":""} ${r} ${o};
${i}`),{vertexShader:i,fragmentShader:e}}function Gm(i,e,n){let o=null,t=Hm(i),r=null;return t.forEach(A=>{(!r||Math.abs(n-(A.top+A.bottom)/2)<Math.abs(n-(r.top+r.bottom)/2))&&(r=A)}),r.carets.forEach(A=>{(!o||Math.abs(e-A.x)<Math.abs(e-o.x))&&(o=A)}),o}var tf=new WeakMap;function zm(i,e,n){let o;if(i){let t=tf.get(i);if(t&&t.start===e&&t.end===n)return t.rects;let{caretPositions:r}=i;if(n<e){let a=e;e=n,n=a}e=Math.max(e,0),n=Math.min(n,r.length+1),o=[];let A=null;for(let a=e;a<n;a++){let c=r[a*4],l=r[a*4+1],u=Math.min(c,l),f=Math.max(c,l),h=r[a*4+2],p=r[a*4+3];(!A||h!==A.bottom||p!==A.top||u>A.right||f<A.left)&&(A={left:1/0,right:-1/0,bottom:h,top:p},o.push(A)),A.left=Math.min(u,A.left),A.right=Math.max(f,A.right)}o.sort((a,c)=>c.bottom-a.bottom||a.left-c.left);for(let a=o.length-1;a-- >0;){let c=o[a],l=o[a+1];c.bottom===l.bottom&&c.top===l.top&&c.left<=l.right&&c.right>=l.left&&(l.left=Math.min(l.left,c.left),l.right=Math.max(l.right,c.right),o.splice(a,1))}tf.set(i,{start:e,end:n,rects:o})}return o}var rf=new WeakMap;function Hm(i){let e=rf.get(i);if(!e){e=[];let{caretPositions:n}=i,o,t=(A,a,c,l)=>{(!o||c<(o.top+o.bottom)/2)&&e.push(o={bottom:a,top:c,carets:[]}),c>o.top&&(o.top=c),a<o.bottom&&(o.bottom=a),o.carets.push({x:A,y:a,height:c-a,charIndex:l})},r=0;for(;r<n.length;r+=4)t(n[r],n[r+2],n[r+3],r/4);t(n[r-3],n[r-2],n[r-1],r/4)}return rf.set(i,e),e}var Va=class{chunkSize;data;constructor(e=32){this.chunkSize=e,this.data=new Map}get(e,n,o){let{chunkSize:t}=this,r=`${e}:${n}:${o}`,A=this.data.get(r);return A||(A=new Uint32Array(t*t*t),this.data.set(r,A)),A}save(){}},ja=class extends ke{constructor(e){super(new lt,e),this.castShadow=!0,this.receiveShadow=!0,this.matrixAutoUpdate=!1}dispose(){let{geometry:e}=this;e.dispose()}raycast(){}update({bounds:e,vertices:n}){let{geometry:o}=this,t=new yn(n,9);o.setAttribute("position",new nr(t,3,0)),o.setAttribute("normal",new nr(t,3,3)),o.setAttribute("color",new nr(t,3,6)),o.boundingBox||(o.boundingBox=new Je),o.boundingBox.min.set(e[0],e[1],e[2]),o.boundingBox.max.set(e[3],e[4],e[5]),o.boundingSphere||(o.boundingSphere=new kt),o.boundingBox.getBoundingSphere(o.boundingSphere)}},Vm=new qe,Si=new ke(new Pt(1,1,1)),Oa=[],Na=new kt,jm=new Fe,$o=new j,Ya=class extends ke{constructor(e){let n=new Po;n.boundingSphere=new kt,n.setIndex(Si.geometry.getIndex()),n.setAttribute("position",Si.geometry.getAttribute("position")),n.setAttribute("normal",Si.geometry.getAttribute("normal")),super(n,e),this.castShadow=!0,this.receiveShadow=!0,this.matrixAutoUpdate=!1}dispose(){let{geometry:e}=this;e.dispose()}getColor(e){let{geometry:n}=this,o=n.getAttribute("color");return Vm.fromBufferAttribute(o,e).convertLinearToSRGB()}raycast(e,n){let{geometry:o,matrixWorld:t,parent:r}=this;if(!r?.visible||!o.boundingSphere||(Na.copy(o.boundingSphere),Na.applyMatrix4(t),!e.ray.intersectsSphere(Na)))return;let A=o.getAttribute("instance");for(let a=0,c=o.instanceCount;a<c;a++)$o.fromBufferAttribute(A,a),Si.matrixWorld.multiplyMatrices(t,jm.makeTranslation($o.x,$o.y,$o.z)),Si.raycast(e,Oa),Oa.forEach(l=>{l.object=this,l.instanceId=a,n.push(l)}),Oa.length=0}update({voxels:e}){let{geometry:n}=this,o=new Cu(e,6,1);n.setAttribute("instance",new nr(o,3,0)),n.setAttribute("color",new nr(o,3,3)),n.instanceCount=n._maxInstanceCount=o.count}},Wa=class extends Qt{triangles;voxels;request=0;version=0;constructor({geometry:e,materials:n,position:o}){super(),this.position.copy(o),this.updateMatrixWorld(),this.matrixAutoUpdate=!1,this.triangles=new ja(n.triangles),this.add(this.triangles),this.voxels=new Ya(n.voxels),this.add(this.voxels),this.update(e)}dispose(){let{triangles:e,voxels:n}=this;e.dispose(),n.dispose()}update(e){if(!e)return void(this.visible=!1);let{triangles:n,voxels:o}=this;n.update(e),o.update(e),o.geometry.boundingBox=n.geometry.boundingBox,o.geometry.boundingSphere=n.geometry.boundingSphere,this.visible=!0}},qa=class{instances;queue;constructor({buffer:e,concurrency:n=navigator.hardwareConcurrency||1,options:o,program:t,script:r}){this.queue=[],t().then(A=>{this.instances=Array.from({length:n},()=>{let a=new r;a.buffer=new Uint32Array(e),a.isBusy=!0,a.run=({buffers:u,resolve:f})=>{a.isBusy=!0,a.resolve=f;let h=u[0].length;u.forEach((p,g)=>{a.buffer.set(p,h*g)}),a.postMessage(a.buffer,[a.buffer.buffer])};let c=()=>{a.removeEventListener("message",c),a.addEventListener("message",l);let u=this.queue.shift();u?a.run(u):a.isBusy=!1},l=({data:{buffer:u,data:f}})=>{a.buffer=u;let{resolve:h}=a;delete a.resolve,h(f);let p=this.queue.shift();p?a.run(p):a.isBusy=!1};return a.addEventListener("message",c),a.postMessage({options:o,program:A}),a})})}dispose(){let{instances:e}=this;e&&e.forEach(n=>n.terminate())}run(e){let{instances:n,queue:o}=this;return new Promise(t=>{if(!n)return void o.push({buffers:e,resolve:t});let r;for(let A=0,a=n.length;A<a;A++)if(!n[A].isBusy){r=n[A];break}r?r.run({buffers:e,resolve:t}):o.push({buffers:e,resolve:t})})}};function Ym(i){return function(e,n,o,t){function r(g,w,y){var C=y?WebAssembly.instantiateStreaming:WebAssembly.instantiate,m=y?WebAssembly.compileStreaming:WebAssembly.compile;return w?C(g,w):m(g)}var A=null,a=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;if(0)var c,l;if(n)return r(fetch(n),t,!0);if(a)A=Buffer.from(o,"base64");else{var u=globalThis.atob(o),f=u.length;A=new Uint8Array(new ArrayBuffer(f));for(var h=0;h<f;h++)A[h]=u.charCodeAt(h)}if(e){var p=new WebAssembly.Module(A);return t?new WebAssembly.Instance(p,t):p}return r(A,t,!1)}(0,null,"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AACsCwAArAQAAKUFAACvBgAApgcAAKoAAACjAQAAqQIAAKADAAAwDQAAOQwAADMPAAA6DgAANgkAAD8IAAA1CwAAPAoAADwFAAA1BAAAPwcAADYGAAA6AQAAMwAAADkDAAAwAgAAkA4AAJkPAACTDAAAmg0AAJYKAACfCwAAlQgAAJwJAACcBgAAlQcAAJ8EAACWBQAAmgIAAJMDAACZAAAAkAEAAAAPAAAJDgAAAw0AAAoMAAAGCwAADwoAAAUJAAAMCAAADAcAAAUGAAAPBQAABgQAAAoDAAADAgAACQEAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////AAAAAAgAAAADAAAA/////////////////////////////////////////////////////////////////////wAAAAABAAAACQAAAP////////////////////////////////////////////////////////////////////8BAAAACAAAAAMAAAAJAAAACAAAAAEAAAD/////////////////////////////////////////////////////AQAAAAIAAAAKAAAA/////////////////////////////////////////////////////////////////////wAAAAAIAAAAAwAAAAEAAAACAAAACgAAAP////////////////////////////////////////////////////8JAAAAAgAAAAoAAAAAAAAAAgAAAAkAAAD/////////////////////////////////////////////////////AgAAAAgAAAADAAAAAgAAAAoAAAAIAAAACgAAAAkAAAAIAAAA/////////////////////////////////////wMAAAALAAAAAgAAAP////////////////////////////////////////////////////////////////////8AAAAACwAAAAIAAAAIAAAACwAAAAAAAAD/////////////////////////////////////////////////////AQAAAAkAAAAAAAAAAgAAAAMAAAALAAAA/////////////////////////////////////////////////////wEAAAALAAAAAgAAAAEAAAAJAAAACwAAAAkAAAAIAAAACwAAAP////////////////////////////////////8DAAAACgAAAAEAAAALAAAACgAAAAMAAAD/////////////////////////////////////////////////////AAAAAAoAAAABAAAAAAAAAAgAAAAKAAAACAAAAAsAAAAKAAAA/////////////////////////////////////wMAAAAJAAAAAAAAAAMAAAALAAAACQAAAAsAAAAKAAAACQAAAP////////////////////////////////////8JAAAACAAAAAoAAAAKAAAACAAAAAsAAAD/////////////////////////////////////////////////////BAAAAAcAAAAIAAAA/////////////////////////////////////////////////////////////////////wQAAAADAAAAAAAAAAcAAAADAAAABAAAAP////////////////////////////////////////////////////8AAAAAAQAAAAkAAAAIAAAABAAAAAcAAAD/////////////////////////////////////////////////////BAAAAAEAAAAJAAAABAAAAAcAAAABAAAABwAAAAMAAAABAAAA/////////////////////////////////////wEAAAACAAAACgAAAAgAAAAEAAAABwAAAP////////////////////////////////////////////////////8DAAAABAAAAAcAAAADAAAAAAAAAAQAAAABAAAAAgAAAAoAAAD/////////////////////////////////////CQAAAAIAAAAKAAAACQAAAAAAAAACAAAACAAAAAQAAAAHAAAA/////////////////////////////////////wIAAAAKAAAACQAAAAIAAAAJAAAABwAAAAIAAAAHAAAAAwAAAAcAAAAJAAAABAAAAP////////////////////8IAAAABAAAAAcAAAADAAAACwAAAAIAAAD/////////////////////////////////////////////////////CwAAAAQAAAAHAAAACwAAAAIAAAAEAAAAAgAAAAAAAAAEAAAA/////////////////////////////////////wkAAAAAAAAAAQAAAAgAAAAEAAAABwAAAAIAAAADAAAACwAAAP////////////////////////////////////8EAAAABwAAAAsAAAAJAAAABAAAAAsAAAAJAAAACwAAAAIAAAAJAAAAAgAAAAEAAAD/////////////////////AwAAAAoAAAABAAAAAwAAAAsAAAAKAAAABwAAAAgAAAAEAAAA/////////////////////////////////////wEAAAALAAAACgAAAAEAAAAEAAAACwAAAAEAAAAAAAAABAAAAAcAAAALAAAABAAAAP////////////////////8EAAAABwAAAAgAAAAJAAAAAAAAAAsAAAAJAAAACwAAAAoAAAALAAAAAAAAAAMAAAD/////////////////////BAAAAAcAAAALAAAABAAAAAsAAAAJAAAACQAAAAsAAAAKAAAA/////////////////////////////////////wkAAAAFAAAABAAAAP////////////////////////////////////////////////////////////////////8JAAAABQAAAAQAAAAAAAAACAAAAAMAAAD/////////////////////////////////////////////////////AAAAAAUAAAAEAAAAAQAAAAUAAAAAAAAA/////////////////////////////////////////////////////wgAAAAFAAAABAAAAAgAAAADAAAABQAAAAMAAAABAAAABQAAAP////////////////////////////////////8BAAAAAgAAAAoAAAAJAAAABQAAAAQAAAD/////////////////////////////////////////////////////AwAAAAAAAAAIAAAAAQAAAAIAAAAKAAAABAAAAAkAAAAFAAAA/////////////////////////////////////wUAAAACAAAACgAAAAUAAAAEAAAAAgAAAAQAAAAAAAAAAgAAAP////////////////////////////////////8CAAAACgAAAAUAAAADAAAAAgAAAAUAAAADAAAABQAAAAQAAAADAAAABAAAAAgAAAD/////////////////////CQAAAAUAAAAEAAAAAgAAAAMAAAALAAAA/////////////////////////////////////////////////////wAAAAALAAAAAgAAAAAAAAAIAAAACwAAAAQAAAAJAAAABQAAAP////////////////////////////////////8AAAAABQAAAAQAAAAAAAAAAQAAAAUAAAACAAAAAwAAAAsAAAD/////////////////////////////////////AgAAAAEAAAAFAAAAAgAAAAUAAAAIAAAAAgAAAAgAAAALAAAABAAAAAgAAAAFAAAA/////////////////////woAAAADAAAACwAAAAoAAAABAAAAAwAAAAkAAAAFAAAABAAAAP////////////////////////////////////8EAAAACQAAAAUAAAAAAAAACAAAAAEAAAAIAAAACgAAAAEAAAAIAAAACwAAAAoAAAD/////////////////////BQAAAAQAAAAAAAAABQAAAAAAAAALAAAABQAAAAsAAAAKAAAACwAAAAAAAAADAAAA/////////////////////wUAAAAEAAAACAAAAAUAAAAIAAAACgAAAAoAAAAIAAAACwAAAP////////////////////////////////////8JAAAABwAAAAgAAAAFAAAABwAAAAkAAAD/////////////////////////////////////////////////////CQAAAAMAAAAAAAAACQAAAAUAAAADAAAABQAAAAcAAAADAAAA/////////////////////////////////////wAAAAAHAAAACAAAAAAAAAABAAAABwAAAAEAAAAFAAAABwAAAP////////////////////////////////////8BAAAABQAAAAMAAAADAAAABQAAAAcAAAD/////////////////////////////////////////////////////CQAAAAcAAAAIAAAACQAAAAUAAAAHAAAACgAAAAEAAAACAAAA/////////////////////////////////////woAAAABAAAAAgAAAAkAAAAFAAAAAAAAAAUAAAADAAAAAAAAAAUAAAAHAAAAAwAAAP////////////////////8IAAAAAAAAAAIAAAAIAAAAAgAAAAUAAAAIAAAABQAAAAcAAAAKAAAABQAAAAIAAAD/////////////////////AgAAAAoAAAAFAAAAAgAAAAUAAAADAAAAAwAAAAUAAAAHAAAA/////////////////////////////////////wcAAAAJAAAABQAAAAcAAAAIAAAACQAAAAMAAAALAAAAAgAAAP////////////////////////////////////8JAAAABQAAAAcAAAAJAAAABwAAAAIAAAAJAAAAAgAAAAAAAAACAAAABwAAAAsAAAD/////////////////////AgAAAAMAAAALAAAAAAAAAAEAAAAIAAAAAQAAAAcAAAAIAAAAAQAAAAUAAAAHAAAA/////////////////////wsAAAACAAAAAQAAAAsAAAABAAAABwAAAAcAAAABAAAABQAAAP////////////////////////////////////8JAAAABQAAAAgAAAAIAAAABQAAAAcAAAAKAAAAAQAAAAMAAAAKAAAAAwAAAAsAAAD/////////////////////BQAAAAcAAAAAAAAABQAAAAAAAAAJAAAABwAAAAsAAAAAAAAAAQAAAAAAAAAKAAAACwAAAAoAAAAAAAAA/////wsAAAAKAAAAAAAAAAsAAAAAAAAAAwAAAAoAAAAFAAAAAAAAAAgAAAAAAAAABwAAAAUAAAAHAAAAAAAAAP////8LAAAACgAAAAUAAAAHAAAACwAAAAUAAAD/////////////////////////////////////////////////////CgAAAAYAAAAFAAAA/////////////////////////////////////////////////////////////////////wAAAAAIAAAAAwAAAAUAAAAKAAAABgAAAP////////////////////////////////////////////////////8JAAAAAAAAAAEAAAAFAAAACgAAAAYAAAD/////////////////////////////////////////////////////AQAAAAgAAAADAAAAAQAAAAkAAAAIAAAABQAAAAoAAAAGAAAA/////////////////////////////////////wEAAAAGAAAABQAAAAIAAAAGAAAAAQAAAP////////////////////////////////////////////////////8BAAAABgAAAAUAAAABAAAAAgAAAAYAAAADAAAAAAAAAAgAAAD/////////////////////////////////////CQAAAAYAAAAFAAAACQAAAAAAAAAGAAAAAAAAAAIAAAAGAAAA/////////////////////////////////////wUAAAAJAAAACAAAAAUAAAAIAAAAAgAAAAUAAAACAAAABgAAAAMAAAACAAAACAAAAP////////////////////8CAAAAAwAAAAsAAAAKAAAABgAAAAUAAAD/////////////////////////////////////////////////////CwAAAAAAAAAIAAAACwAAAAIAAAAAAAAACgAAAAYAAAAFAAAA/////////////////////////////////////wAAAAABAAAACQAAAAIAAAADAAAACwAAAAUAAAAKAAAABgAAAP////////////////////////////////////8FAAAACgAAAAYAAAABAAAACQAAAAIAAAAJAAAACwAAAAIAAAAJAAAACAAAAAsAAAD/////////////////////BgAAAAMAAAALAAAABgAAAAUAAAADAAAABQAAAAEAAAADAAAA/////////////////////////////////////wAAAAAIAAAACwAAAAAAAAALAAAABQAAAAAAAAAFAAAAAQAAAAUAAAALAAAABgAAAP////////////////////8DAAAACwAAAAYAAAAAAAAAAwAAAAYAAAAAAAAABgAAAAUAAAAAAAAABQAAAAkAAAD/////////////////////BgAAAAUAAAAJAAAABgAAAAkAAAALAAAACwAAAAkAAAAIAAAA/////////////////////////////////////wUAAAAKAAAABgAAAAQAAAAHAAAACAAAAP////////////////////////////////////////////////////8EAAAAAwAAAAAAAAAEAAAABwAAAAMAAAAGAAAABQAAAAoAAAD/////////////////////////////////////AQAAAAkAAAAAAAAABQAAAAoAAAAGAAAACAAAAAQAAAAHAAAA/////////////////////////////////////woAAAAGAAAABQAAAAEAAAAJAAAABwAAAAEAAAAHAAAAAwAAAAcAAAAJAAAABAAAAP////////////////////8GAAAAAQAAAAIAAAAGAAAABQAAAAEAAAAEAAAABwAAAAgAAAD/////////////////////////////////////AQAAAAIAAAAFAAAABQAAAAIAAAAGAAAAAwAAAAAAAAAEAAAAAwAAAAQAAAAHAAAA/////////////////////wgAAAAEAAAABwAAAAkAAAAAAAAABQAAAAAAAAAGAAAABQAAAAAAAAACAAAABgAAAP////////////////////8HAAAAAwAAAAkAAAAHAAAACQAAAAQAAAADAAAAAgAAAAkAAAAFAAAACQAAAAYAAAACAAAABgAAAAkAAAD/////AwAAAAsAAAACAAAABwAAAAgAAAAEAAAACgAAAAYAAAAFAAAA/////////////////////////////////////wUAAAAKAAAABgAAAAQAAAAHAAAAAgAAAAQAAAACAAAAAAAAAAIAAAAHAAAACwAAAP////////////////////8AAAAAAQAAAAkAAAAEAAAABwAAAAgAAAACAAAAAwAAAAsAAAAFAAAACgAAAAYAAAD/////////////////////CQAAAAIAAAABAAAACQAAAAsAAAACAAAACQAAAAQAAAALAAAABwAAAAsAAAAEAAAABQAAAAoAAAAGAAAA/////wgAAAAEAAAABwAAAAMAAAALAAAABQAAAAMAAAAFAAAAAQAAAAUAAAALAAAABgAAAP////////////////////8FAAAAAQAAAAsAAAAFAAAACwAAAAYAAAABAAAAAAAAAAsAAAAHAAAACwAAAAQAAAAAAAAABAAAAAsAAAD/////AAAAAAUAAAAJAAAAAAAAAAYAAAAFAAAAAAAAAAMAAAAGAAAACwAAAAYAAAADAAAACAAAAAQAAAAHAAAA/////wYAAAAFAAAACQAAAAYAAAAJAAAACwAAAAQAAAAHAAAACQAAAAcAAAALAAAACQAAAP////////////////////8KAAAABAAAAAkAAAAGAAAABAAAAAoAAAD/////////////////////////////////////////////////////BAAAAAoAAAAGAAAABAAAAAkAAAAKAAAAAAAAAAgAAAADAAAA/////////////////////////////////////woAAAAAAAAAAQAAAAoAAAAGAAAAAAAAAAYAAAAEAAAAAAAAAP////////////////////////////////////8IAAAAAwAAAAEAAAAIAAAAAQAAAAYAAAAIAAAABgAAAAQAAAAGAAAAAQAAAAoAAAD/////////////////////AQAAAAQAAAAJAAAAAQAAAAIAAAAEAAAAAgAAAAYAAAAEAAAA/////////////////////////////////////wMAAAAAAAAACAAAAAEAAAACAAAACQAAAAIAAAAEAAAACQAAAAIAAAAGAAAABAAAAP////////////////////8AAAAAAgAAAAQAAAAEAAAAAgAAAAYAAAD/////////////////////////////////////////////////////CAAAAAMAAAACAAAACAAAAAIAAAAEAAAABAAAAAIAAAAGAAAA/////////////////////////////////////woAAAAEAAAACQAAAAoAAAAGAAAABAAAAAsAAAACAAAAAwAAAP////////////////////////////////////8AAAAACAAAAAIAAAACAAAACAAAAAsAAAAEAAAACQAAAAoAAAAEAAAACgAAAAYAAAD/////////////////////AwAAAAsAAAACAAAAAAAAAAEAAAAGAAAAAAAAAAYAAAAEAAAABgAAAAEAAAAKAAAA/////////////////////wYAAAAEAAAAAQAAAAYAAAABAAAACgAAAAQAAAAIAAAAAQAAAAIAAAABAAAACwAAAAgAAAALAAAAAQAAAP////8JAAAABgAAAAQAAAAJAAAAAwAAAAYAAAAJAAAAAQAAAAMAAAALAAAABgAAAAMAAAD/////////////////////CAAAAAsAAAABAAAACAAAAAEAAAAAAAAACwAAAAYAAAABAAAACQAAAAEAAAAEAAAABgAAAAQAAAABAAAA/////wMAAAALAAAABgAAAAMAAAAGAAAAAAAAAAAAAAAGAAAABAAAAP////////////////////////////////////8GAAAABAAAAAgAAAALAAAABgAAAAgAAAD/////////////////////////////////////////////////////BwAAAAoAAAAGAAAABwAAAAgAAAAKAAAACAAAAAkAAAAKAAAA/////////////////////////////////////wAAAAAHAAAAAwAAAAAAAAAKAAAABwAAAAAAAAAJAAAACgAAAAYAAAAHAAAACgAAAP////////////////////8KAAAABgAAAAcAAAABAAAACgAAAAcAAAABAAAABwAAAAgAAAABAAAACAAAAAAAAAD/////////////////////CgAAAAYAAAAHAAAACgAAAAcAAAABAAAAAQAAAAcAAAADAAAA/////////////////////////////////////wEAAAACAAAABgAAAAEAAAAGAAAACAAAAAEAAAAIAAAACQAAAAgAAAAGAAAABwAAAP////////////////////8CAAAABgAAAAkAAAACAAAACQAAAAEAAAAGAAAABwAAAAkAAAAAAAAACQAAAAMAAAAHAAAAAwAAAAkAAAD/////BwAAAAgAAAAAAAAABwAAAAAAAAAGAAAABgAAAAAAAAACAAAA/////////////////////////////////////wcAAAADAAAAAgAAAAYAAAAHAAAAAgAAAP////////////////////////////////////////////////////8CAAAAAwAAAAsAAAAKAAAABgAAAAgAAAAKAAAACAAAAAkAAAAIAAAABgAAAAcAAAD/////////////////////AgAAAAAAAAAHAAAAAgAAAAcAAAALAAAAAAAAAAkAAAAHAAAABgAAAAcAAAAKAAAACQAAAAoAAAAHAAAA/////wEAAAAIAAAAAAAAAAEAAAAHAAAACAAAAAEAAAAKAAAABwAAAAYAAAAHAAAACgAAAAIAAAADAAAACwAAAP////8LAAAAAgAAAAEAAAALAAAAAQAAAAcAAAAKAAAABgAAAAEAAAAGAAAABwAAAAEAAAD/////////////////////CAAAAAkAAAAGAAAACAAAAAYAAAAHAAAACQAAAAEAAAAGAAAACwAAAAYAAAADAAAAAQAAAAMAAAAGAAAA/////wAAAAAJAAAAAQAAAAsAAAAGAAAABwAAAP////////////////////////////////////////////////////8HAAAACAAAAAAAAAAHAAAAAAAAAAYAAAADAAAACwAAAAAAAAALAAAABgAAAAAAAAD/////////////////////BwAAAAsAAAAGAAAA/////////////////////////////////////////////////////////////////////wcAAAAGAAAACwAAAP////////////////////////////////////////////////////////////////////8DAAAAAAAAAAgAAAALAAAABwAAAAYAAAD/////////////////////////////////////////////////////AAAAAAEAAAAJAAAACwAAAAcAAAAGAAAA/////////////////////////////////////////////////////wgAAAABAAAACQAAAAgAAAADAAAAAQAAAAsAAAAHAAAABgAAAP////////////////////////////////////8KAAAAAQAAAAIAAAAGAAAACwAAAAcAAAD/////////////////////////////////////////////////////AQAAAAIAAAAKAAAAAwAAAAAAAAAIAAAABgAAAAsAAAAHAAAA/////////////////////////////////////wIAAAAJAAAAAAAAAAIAAAAKAAAACQAAAAYAAAALAAAABwAAAP////////////////////////////////////8GAAAACwAAAAcAAAACAAAACgAAAAMAAAAKAAAACAAAAAMAAAAKAAAACQAAAAgAAAD/////////////////////BwAAAAIAAAADAAAABgAAAAIAAAAHAAAA/////////////////////////////////////////////////////wcAAAAAAAAACAAAAAcAAAAGAAAAAAAAAAYAAAACAAAAAAAAAP////////////////////////////////////8CAAAABwAAAAYAAAACAAAAAwAAAAcAAAAAAAAAAQAAAAkAAAD/////////////////////////////////////AQAAAAYAAAACAAAAAQAAAAgAAAAGAAAAAQAAAAkAAAAIAAAACAAAAAcAAAAGAAAA/////////////////////woAAAAHAAAABgAAAAoAAAABAAAABwAAAAEAAAADAAAABwAAAP////////////////////////////////////8KAAAABwAAAAYAAAABAAAABwAAAAoAAAABAAAACAAAAAcAAAABAAAAAAAAAAgAAAD/////////////////////AAAAAAMAAAAHAAAAAAAAAAcAAAAKAAAAAAAAAAoAAAAJAAAABgAAAAoAAAAHAAAA/////////////////////wcAAAAGAAAACgAAAAcAAAAKAAAACAAAAAgAAAAKAAAACQAAAP////////////////////////////////////8GAAAACAAAAAQAAAALAAAACAAAAAYAAAD/////////////////////////////////////////////////////AwAAAAYAAAALAAAAAwAAAAAAAAAGAAAAAAAAAAQAAAAGAAAA/////////////////////////////////////wgAAAAGAAAACwAAAAgAAAAEAAAABgAAAAkAAAAAAAAAAQAAAP////////////////////////////////////8JAAAABAAAAAYAAAAJAAAABgAAAAMAAAAJAAAAAwAAAAEAAAALAAAAAwAAAAYAAAD/////////////////////BgAAAAgAAAAEAAAABgAAAAsAAAAIAAAAAgAAAAoAAAABAAAA/////////////////////////////////////wEAAAACAAAACgAAAAMAAAAAAAAACwAAAAAAAAAGAAAACwAAAAAAAAAEAAAABgAAAP////////////////////8EAAAACwAAAAgAAAAEAAAABgAAAAsAAAAAAAAAAgAAAAkAAAACAAAACgAAAAkAAAD/////////////////////CgAAAAkAAAADAAAACgAAAAMAAAACAAAACQAAAAQAAAADAAAACwAAAAMAAAAGAAAABAAAAAYAAAADAAAA/////wgAAAACAAAAAwAAAAgAAAAEAAAAAgAAAAQAAAAGAAAAAgAAAP////////////////////////////////////8AAAAABAAAAAIAAAAEAAAABgAAAAIAAAD/////////////////////////////////////////////////////AQAAAAkAAAAAAAAAAgAAAAMAAAAEAAAAAgAAAAQAAAAGAAAABAAAAAMAAAAIAAAA/////////////////////wEAAAAJAAAABAAAAAEAAAAEAAAAAgAAAAIAAAAEAAAABgAAAP////////////////////////////////////8IAAAAAQAAAAMAAAAIAAAABgAAAAEAAAAIAAAABAAAAAYAAAAGAAAACgAAAAEAAAD/////////////////////CgAAAAEAAAAAAAAACgAAAAAAAAAGAAAABgAAAAAAAAAEAAAA/////////////////////////////////////wQAAAAGAAAAAwAAAAQAAAADAAAACAAAAAYAAAAKAAAAAwAAAAAAAAADAAAACQAAAAoAAAAJAAAAAwAAAP////8KAAAACQAAAAQAAAAGAAAACgAAAAQAAAD/////////////////////////////////////////////////////BAAAAAkAAAAFAAAABwAAAAYAAAALAAAA/////////////////////////////////////////////////////wAAAAAIAAAAAwAAAAQAAAAJAAAABQAAAAsAAAAHAAAABgAAAP////////////////////////////////////8FAAAAAAAAAAEAAAAFAAAABAAAAAAAAAAHAAAABgAAAAsAAAD/////////////////////////////////////CwAAAAcAAAAGAAAACAAAAAMAAAAEAAAAAwAAAAUAAAAEAAAAAwAAAAEAAAAFAAAA/////////////////////wkAAAAFAAAABAAAAAoAAAABAAAAAgAAAAcAAAAGAAAACwAAAP////////////////////////////////////8GAAAACwAAAAcAAAABAAAAAgAAAAoAAAAAAAAACAAAAAMAAAAEAAAACQAAAAUAAAD/////////////////////BwAAAAYAAAALAAAABQAAAAQAAAAKAAAABAAAAAIAAAAKAAAABAAAAAAAAAACAAAA/////////////////////wMAAAAEAAAACAAAAAMAAAAFAAAABAAAAAMAAAACAAAABQAAAAoAAAAFAAAAAgAAAAsAAAAHAAAABgAAAP////8HAAAAAgAAAAMAAAAHAAAABgAAAAIAAAAFAAAABAAAAAkAAAD/////////////////////////////////////CQAAAAUAAAAEAAAAAAAAAAgAAAAGAAAAAAAAAAYAAAACAAAABgAAAAgAAAAHAAAA/////////////////////wMAAAAGAAAAAgAAAAMAAAAHAAAABgAAAAEAAAAFAAAAAAAAAAUAAAAEAAAAAAAAAP////////////////////8GAAAAAgAAAAgAAAAGAAAACAAAAAcAAAACAAAAAQAAAAgAAAAEAAAACAAAAAUAAAABAAAABQAAAAgAAAD/////CQAAAAUAAAAEAAAACgAAAAEAAAAGAAAAAQAAAAcAAAAGAAAAAQAAAAMAAAAHAAAA/////////////////////wEAAAAGAAAACgAAAAEAAAAHAAAABgAAAAEAAAAAAAAABwAAAAgAAAAHAAAAAAAAAAkAAAAFAAAABAAAAP////8EAAAAAAAAAAoAAAAEAAAACgAAAAUAAAAAAAAAAwAAAAoAAAAGAAAACgAAAAcAAAADAAAABwAAAAoAAAD/////BwAAAAYAAAAKAAAABwAAAAoAAAAIAAAABQAAAAQAAAAKAAAABAAAAAgAAAAKAAAA/////////////////////wYAAAAJAAAABQAAAAYAAAALAAAACQAAAAsAAAAIAAAACQAAAP////////////////////////////////////8DAAAABgAAAAsAAAAAAAAABgAAAAMAAAAAAAAABQAAAAYAAAAAAAAACQAAAAUAAAD/////////////////////AAAAAAsAAAAIAAAAAAAAAAUAAAALAAAAAAAAAAEAAAAFAAAABQAAAAYAAAALAAAA/////////////////////wYAAAALAAAAAwAAAAYAAAADAAAABQAAAAUAAAADAAAAAQAAAP////////////////////////////////////8BAAAAAgAAAAoAAAAJAAAABQAAAAsAAAAJAAAACwAAAAgAAAALAAAABQAAAAYAAAD/////////////////////AAAAAAsAAAADAAAAAAAAAAYAAAALAAAAAAAAAAkAAAAGAAAABQAAAAYAAAAJAAAAAQAAAAIAAAAKAAAA/////wsAAAAIAAAABQAAAAsAAAAFAAAABgAAAAgAAAAAAAAABQAAAAoAAAAFAAAAAgAAAAAAAAACAAAABQAAAP////8GAAAACwAAAAMAAAAGAAAAAwAAAAUAAAACAAAACgAAAAMAAAAKAAAABQAAAAMAAAD/////////////////////BQAAAAgAAAAJAAAABQAAAAIAAAAIAAAABQAAAAYAAAACAAAAAwAAAAgAAAACAAAA/////////////////////wkAAAAFAAAABgAAAAkAAAAGAAAAAAAAAAAAAAAGAAAAAgAAAP////////////////////////////////////8BAAAABQAAAAgAAAABAAAACAAAAAAAAAAFAAAABgAAAAgAAAADAAAACAAAAAIAAAAGAAAAAgAAAAgAAAD/////AQAAAAUAAAAGAAAAAgAAAAEAAAAGAAAA/////////////////////////////////////////////////////wEAAAADAAAABgAAAAEAAAAGAAAACgAAAAMAAAAIAAAABgAAAAUAAAAGAAAACQAAAAgAAAAJAAAABgAAAP////8KAAAAAQAAAAAAAAAKAAAAAAAAAAYAAAAJAAAABQAAAAAAAAAFAAAABgAAAAAAAAD/////////////////////AAAAAAMAAAAIAAAABQAAAAYAAAAKAAAA/////////////////////////////////////////////////////woAAAAFAAAABgAAAP////////////////////////////////////////////////////////////////////8LAAAABQAAAAoAAAAHAAAABQAAAAsAAAD/////////////////////////////////////////////////////CwAAAAUAAAAKAAAACwAAAAcAAAAFAAAACAAAAAMAAAAAAAAA/////////////////////////////////////wUAAAALAAAABwAAAAUAAAAKAAAACwAAAAEAAAAJAAAAAAAAAP////////////////////////////////////8KAAAABwAAAAUAAAAKAAAACwAAAAcAAAAJAAAACAAAAAEAAAAIAAAAAwAAAAEAAAD/////////////////////CwAAAAEAAAACAAAACwAAAAcAAAABAAAABwAAAAUAAAABAAAA/////////////////////////////////////wAAAAAIAAAAAwAAAAEAAAACAAAABwAAAAEAAAAHAAAABQAAAAcAAAACAAAACwAAAP////////////////////8JAAAABwAAAAUAAAAJAAAAAgAAAAcAAAAJAAAAAAAAAAIAAAACAAAACwAAAAcAAAD/////////////////////BwAAAAUAAAACAAAABwAAAAIAAAALAAAABQAAAAkAAAACAAAAAwAAAAIAAAAIAAAACQAAAAgAAAACAAAA/////wIAAAAFAAAACgAAAAIAAAADAAAABQAAAAMAAAAHAAAABQAAAP////////////////////////////////////8IAAAAAgAAAAAAAAAIAAAABQAAAAIAAAAIAAAABwAAAAUAAAAKAAAAAgAAAAUAAAD/////////////////////CQAAAAAAAAABAAAABQAAAAoAAAADAAAABQAAAAMAAAAHAAAAAwAAAAoAAAACAAAA/////////////////////wkAAAAIAAAAAgAAAAkAAAACAAAAAQAAAAgAAAAHAAAAAgAAAAoAAAACAAAABQAAAAcAAAAFAAAAAgAAAP////8BAAAAAwAAAAUAAAADAAAABwAAAAUAAAD/////////////////////////////////////////////////////AAAAAAgAAAAHAAAAAAAAAAcAAAABAAAAAQAAAAcAAAAFAAAA/////////////////////////////////////wkAAAAAAAAAAwAAAAkAAAADAAAABQAAAAUAAAADAAAABwAAAP////////////////////////////////////8JAAAACAAAAAcAAAAFAAAACQAAAAcAAAD/////////////////////////////////////////////////////BQAAAAgAAAAEAAAABQAAAAoAAAAIAAAACgAAAAsAAAAIAAAA/////////////////////////////////////wUAAAAAAAAABAAAAAUAAAALAAAAAAAAAAUAAAAKAAAACwAAAAsAAAADAAAAAAAAAP////////////////////8AAAAAAQAAAAkAAAAIAAAABAAAAAoAAAAIAAAACgAAAAsAAAAKAAAABAAAAAUAAAD/////////////////////CgAAAAsAAAAEAAAACgAAAAQAAAAFAAAACwAAAAMAAAAEAAAACQAAAAQAAAABAAAAAwAAAAEAAAAEAAAA/////wIAAAAFAAAAAQAAAAIAAAAIAAAABQAAAAIAAAALAAAACAAAAAQAAAAFAAAACAAAAP////////////////////8AAAAABAAAAAsAAAAAAAAACwAAAAMAAAAEAAAABQAAAAsAAAACAAAACwAAAAEAAAAFAAAAAQAAAAsAAAD/////AAAAAAIAAAAFAAAAAAAAAAUAAAAJAAAAAgAAAAsAAAAFAAAABAAAAAUAAAAIAAAACwAAAAgAAAAFAAAA/////wkAAAAEAAAABQAAAAIAAAALAAAAAwAAAP////////////////////////////////////////////////////8CAAAABQAAAAoAAAADAAAABQAAAAIAAAADAAAABAAAAAUAAAADAAAACAAAAAQAAAD/////////////////////BQAAAAoAAAACAAAABQAAAAIAAAAEAAAABAAAAAIAAAAAAAAA/////////////////////////////////////wMAAAAKAAAAAgAAAAMAAAAFAAAACgAAAAMAAAAIAAAABQAAAAQAAAAFAAAACAAAAAAAAAABAAAACQAAAP////8FAAAACgAAAAIAAAAFAAAAAgAAAAQAAAABAAAACQAAAAIAAAAJAAAABAAAAAIAAAD/////////////////////CAAAAAQAAAAFAAAACAAAAAUAAAADAAAAAwAAAAUAAAABAAAA/////////////////////////////////////wAAAAAEAAAABQAAAAEAAAAAAAAABQAAAP////////////////////////////////////////////////////8IAAAABAAAAAUAAAAIAAAABQAAAAMAAAAJAAAAAAAAAAUAAAAAAAAAAwAAAAUAAAD/////////////////////CQAAAAQAAAAFAAAA/////////////////////////////////////////////////////////////////////wQAAAALAAAABwAAAAQAAAAJAAAACwAAAAkAAAAKAAAACwAAAP////////////////////////////////////8AAAAACAAAAAMAAAAEAAAACQAAAAcAAAAJAAAACwAAAAcAAAAJAAAACgAAAAsAAAD/////////////////////AQAAAAoAAAALAAAAAQAAAAsAAAAEAAAAAQAAAAQAAAAAAAAABwAAAAQAAAALAAAA/////////////////////wMAAAABAAAABAAAAAMAAAAEAAAACAAAAAEAAAAKAAAABAAAAAcAAAAEAAAACwAAAAoAAAALAAAABAAAAP////8EAAAACwAAAAcAAAAJAAAACwAAAAQAAAAJAAAAAgAAAAsAAAAJAAAAAQAAAAIAAAD/////////////////////CQAAAAcAAAAEAAAACQAAAAsAAAAHAAAACQAAAAEAAAALAAAAAgAAAAsAAAABAAAAAAAAAAgAAAADAAAA/////wsAAAAHAAAABAAAAAsAAAAEAAAAAgAAAAIAAAAEAAAAAAAAAP////////////////////////////////////8LAAAABwAAAAQAAAALAAAABAAAAAIAAAAIAAAAAwAAAAQAAAADAAAAAgAAAAQAAAD/////////////////////AgAAAAkAAAAKAAAAAgAAAAcAAAAJAAAAAgAAAAMAAAAHAAAABwAAAAQAAAAJAAAA/////////////////////wkAAAAKAAAABwAAAAkAAAAHAAAABAAAAAoAAAACAAAABwAAAAgAAAAHAAAAAAAAAAIAAAAAAAAABwAAAP////8DAAAABwAAAAoAAAADAAAACgAAAAIAAAAHAAAABAAAAAoAAAABAAAACgAAAAAAAAAEAAAAAAAAAAoAAAD/////AQAAAAoAAAACAAAACAAAAAcAAAAEAAAA/////////////////////////////////////////////////////wQAAAAJAAAAAQAAAAQAAAABAAAABwAAAAcAAAABAAAAAwAAAP////////////////////////////////////8EAAAACQAAAAEAAAAEAAAAAQAAAAcAAAAAAAAACAAAAAEAAAAIAAAABwAAAAEAAAD/////////////////////BAAAAAAAAAADAAAABwAAAAQAAAADAAAA/////////////////////////////////////////////////////wQAAAAIAAAABwAAAP////////////////////////////////////////////////////////////////////8JAAAACgAAAAgAAAAKAAAACwAAAAgAAAD/////////////////////////////////////////////////////AwAAAAAAAAAJAAAAAwAAAAkAAAALAAAACwAAAAkAAAAKAAAA/////////////////////////////////////wAAAAABAAAACgAAAAAAAAAKAAAACAAAAAgAAAAKAAAACwAAAP////////////////////////////////////8DAAAAAQAAAAoAAAALAAAAAwAAAAoAAAD/////////////////////////////////////////////////////AQAAAAIAAAALAAAAAQAAAAsAAAAJAAAACQAAAAsAAAAIAAAA/////////////////////////////////////wMAAAAAAAAACQAAAAMAAAAJAAAACwAAAAEAAAACAAAACQAAAAIAAAALAAAACQAAAP////////////////////8AAAAAAgAAAAsAAAAIAAAAAAAAAAsAAAD/////////////////////////////////////////////////////AwAAAAIAAAALAAAA/////////////////////////////////////////////////////////////////////wIAAAADAAAACAAAAAIAAAAIAAAACgAAAAoAAAAIAAAACQAAAP////////////////////////////////////8JAAAACgAAAAIAAAAAAAAACQAAAAIAAAD/////////////////////////////////////////////////////AgAAAAMAAAAIAAAAAgAAAAgAAAAKAAAAAAAAAAEAAAAIAAAAAQAAAAoAAAAIAAAA/////////////////////wEAAAAKAAAAAgAAAP////////////////////////////////////////////////////////////////////8BAAAAAwAAAAgAAAAJAAAAAQAAAAgAAAD/////////////////////////////////////////////////////AAAAAAkAAAABAAAA/////////////////////////////////////////////////////////////////////wAAAAADAAAACAAAAP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AI4CBG5hbWUB5gETABJfX3dhc21faW5pdF9tZW1vcnkBBWFib3J0AgRzYnJrAwZtYWxsb2MECGRsbWFsbG9jBQVkdW1teQYRX193YXNtX2NhbGxfZHRvcnMHDl9fbWF0aF9pbnZhbGlkCAxfX21hdGhfeGZsb3cJDF9fbWF0aF9vZmxvdwoMX19tYXRoX3VmbG93CwNwb3cMCGNoZWNraW50DQtzcGVjaWFsY2FzZQ4DcnVuDwNnZXQQC2ludGVycG9sYXRlERJydW4uY29tbWFuZF9leHBvcnQSFW1hbGxvYy5jb21tYW5kX2V4cG9ydAcSAQAPX19zdGFja19wb2ludGVyCQoBAAcucm9kYXRhACYJcHJvZHVjZXJzAQxwcm9jZXNzZWQtYnkBBWNsYW5nBjE1LjAuNgAeD3RhcmdldF9mZWF0dXJlcwErC2J1bGstbWVtb3J5",i)}var mf=null;try{gf=typeof module<"u"&&typeof module.require=="function"&&module.require("worker_threads")||typeof __non_webpack_require__=="function"&&__non_webpack_require__("worker_threads")||typeof Tr=="function"&&Tr("worker_threads"),mf=gf.Worker}catch{}var gf;function Wm(i,e,n){var o=e===void 0?null:e,t=function(a,c){return Buffer.from(a,"base64").toString(c?"utf16":"utf8")}(i,n!==void 0&&n),r=t.indexOf(`
`,10)+1,A=t.substring(r)+(o?"//# sourceMappingURL="+o:"");return function(a){return new mf(A,Object.assign({},a,{eval:!0}))}}function qm(i,e,n){var o=e===void 0?null:e,t=function(c,l){var u=atob(c);if(l){for(var f=new Uint8Array(u.length),h=0,p=u.length;h<p;++h)f[h]=u.charCodeAt(h);return String.fromCharCode.apply(null,new Uint16Array(f.buffer))}return u}(i,n!==void 0&&n),r=t.indexOf(`
`,10)+1,A=t.substring(r)+(o?"//# sourceMappingURL="+o:""),a=new Blob([A],{type:"application/javascript"});return URL.createObjectURL(a)}var Km=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Ga,za,Ha,Jm=(Ga="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7bGV0IGU7Y29uc3Qgcz0oe2RhdGE6e29wdGlvbnM6e2NodW5rU2l6ZTp0fSxwcm9ncmFtOm99fSk9PnsoKHttZW1vcnk6ZSxwcm9ncmFtOnN9KT0+e2NvbnN0IHI9TWF0aC5jZWlsKGUucmVkdWNlKCgoZSx7dHlwZTpzLHNpemU6cn0pPT5lK3Iqcy5CWVRFU19QRVJfRUxFTUVOVCksMCkvNjU1MzYpKzIsdD1uZXcgV2ViQXNzZW1ibHkuTWVtb3J5KHtpbml0aWFsOnIsbWF4aW11bTpyfSk7cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKHMse2Vudjp7bWVtb3J5OnR9fSkudGhlbigocz0+KHttZW1vcnk6ZS5yZWR1Y2UoKChlLHtpZDpyLHR5cGU6byxzaXplOm19KT0+e2NvbnN0IG49cy5leHBvcnRzLm1hbGxvYyhtKm8uQllURVNfUEVSX0VMRU1FTlQpO3JldHVybiBlW3JdPXthZGRyZXNzOm4sdmlldzpuZXcgbyh0LmJ1ZmZlcixuLG0pfSxlfSkse30pLHJ1bjpzLmV4cG9ydHMucnVufSkpKX0pKHttZW1vcnk6W3tpZDoiY2h1bmtzIix0eXBlOlVpbnQzMkFycmF5LHNpemU6dCp0KnQqOH0se2lkOiJjb3VudHMiLHR5cGU6SW50MzJBcnJheSxzaXplOjJ9LHtpZDoidmVydGljZXMiLHR5cGU6RmxvYXQzMkFycmF5LHNpemU6dCp0KnQqMyo5KjV9LHtpZDoidm94ZWxzIix0eXBlOkZsb2F0MzJBcnJheSxzaXplOnQqdCp0Ki41KjZ9LHtpZDoiYm91bmRzIix0eXBlOkZsb2F0MzJBcnJheSxzaXplOjZ9XSxwcm9ncmFtOm99KS50aGVuKCgoe21lbW9yeTpvLHJ1bjptfSk9PntlPXtjaHVua1NpemU6dCxtZW1vcnk6byxydW46bX0sc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixzKSxzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHIpLHNlbGYucG9zdE1lc3NhZ2UoITApfSkpfTtzZWxmLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLHMpO2NvbnN0IHI9KHtkYXRhOnN9KT0+e2UubWVtb3J5LmNodW5rcy52aWV3LnNldChzKSxlLnJ1bihlLm1lbW9yeS5jaHVua3MuYWRkcmVzcyxlLm1lbW9yeS5jb3VudHMuYWRkcmVzcyxlLm1lbW9yeS52ZXJ0aWNlcy5hZGRyZXNzLGUubWVtb3J5LnZveGVscy5hZGRyZXNzLGUubWVtb3J5LmJvdW5kcy5hZGRyZXNzLGUuY2h1bmtTaXplKTtjb25zdFtyLHRdPWUubWVtb3J5LmNvdW50cy52aWV3O2lmKDA9PT1yKXJldHVybiB2b2lkIHNlbGYucG9zdE1lc3NhZ2Uoe2J1ZmZlcjpzLGRhdGE6ITF9LFtzLmJ1ZmZlcl0pO2NvbnN0IG89ZS5tZW1vcnkuYm91bmRzLnZpZXcuc2xpY2UoMCksbT1lLm1lbW9yeS52ZXJ0aWNlcy52aWV3LnNsaWNlKDAsMypyKjkpLG49ZS5tZW1vcnkudm94ZWxzLnZpZXcuc2xpY2UoMCw2KnQpO3NlbGYucG9zdE1lc3NhZ2Uoe2J1ZmZlcjpzLGRhdGE6e2JvdW5kczpvLHZlcnRpY2VzOm0sdm94ZWxzOm59fSxbcy5idWZmZXIsby5idWZmZXIsbS5idWZmZXIsbi5idWZmZXJdKX19KCk7Cgo=",za=null,Ha=!1,Km?Wm(Ga,za,Ha):function(i,e,n){var o;return function(t){return o=o||qm(i,e,n),new Worker(o,t)}}(Ga,za,Ha)),Xm=typeof self.queueMicrotask=="function"?self.queueMicrotask:i=>{Promise.resolve().then(i).catch(e=>setTimeout(()=>{throw e}))},eA=class extends Qt{chunks;queue;materials;mesher;history;storage;constructor({history:e=!1,materials:n={},storage:o=new Va}={}){super(),this.chunks=new Map,this.queue=new Map,this.materials={triangles:n.triangles||new pt({vertexColors:!0}),voxels:n.voxels||new pt({visible:!1})};let{chunkSize:t}=o;this.mesher=new qa({buffer:t*t*t*8,options:{chunkSize:t},program:Ym,script:Jm}),this.history={enabled:e,last:-1,undo:[],redo:[]},this.storage=o}dispose(){let{chunks:e,mesher:n,queue:o}=this;e.forEach(t=>t.dispose()),n.dispose(),o.clear()}undo(){let{history:e}=this,n=e.undo.pop();n&&(e.last=-1,e.redo.push(n),this.update(n.map(({x:o,y:t,z:r,undo:A})=>({x:o,y:t,z:r,r:A>>8&255,g:A>>16&255,b:A>>24&255,value:255&A})),-1,!0))}redo(){let{history:e}=this,n=e.redo.pop();n&&(e.last=-1,e.undo.push(n),this.update(n.map(({x:o,y:t,z:r,redo:A})=>({x:o,y:t,z:r,r:A>>8&255,g:A>>16&255,b:A>>24&255,value:255&A})),-1,!0))}updateChunk(e,n,o){let{materials:t,mesher:r,storage:A}=this,{chunkSize:a}=A,c=`${e}:${n}:${o}`,l=this.chunks.get(c);l||(l=new Wa({materials:t,position:new j(e*a+-.5*a,n*a+-.5*a,o*a+-.5*a)}),this.add(l),this.chunks.set(c,l));let u=[];for(let h=o-1;h<=o;h++)for(let p=n-1;p<=n;p++)for(let g=e-1;g<=e;g++)u.push(A.get(g,p,h));let f=++l.request;r.run(u).then(h=>{l&&l.version<f&&(l.update(h),l.version=f,this.dispatchEvent({type:"change"}))})}update(e,n=-1,o=!1){let{history:t,queue:r,storage:A}=this,{chunkSize:a}=A,c=.5*a,l=!!r.size,u=new Map,f=e.reduce((h,{x:p,y:g,z:w,value:y,r:C=0,g:m=0,b:v=0})=>{let I=Math.floor(p/a),E=Math.floor(g/a),B=Math.floor(w/a),b=p-I*a,T=g-E*a,S=w-B*a,R=S*a*a+T*a+b,Q=A.get(I,E,B),M=Q[R];if(y===void 0&&(y=255&M)===0)return h;let k=v<<24^m<<16^C<<8^y;Q[R]=k;for(let H=0;H<2;H++)for(let U=0;U<2;U++)for(let K=0;K<2;K++)if(b>=K*c-1&&b<=(K+1)*c&&T>=U*c-1&&T<=(U+1)*c&&S>=H*c-1&&S<=(H+1)*c){let q=I+K,O=E+U,G=B+H,_=`${q}:${O}:${G}`;r.has(_)||r.set(_,{x:q,y:O,z:G})}let P=`${I}:${E}:${B}`;return u.has(P)||u.set(P,{x:I,y:E,z:B}),t.enabled&&!o&&h.push({x:p,y:g,z:w,undo:M,redo:k}),h},[]);if(t.enabled&&!o){let h=t.undo[t.undo.length-1];n!==-1&&t.last===n&&h.length<1e4?f.forEach(p=>{let g=h.find(({x:w,y,z:C})=>w===p.x&&y===p.y&&C===p.z);g?g.redo=p.redo:h.push(p)}):t.undo.push(f),t.last=n,t.redo.length=0}u.forEach(({x:h,y:p,z:g})=>A.save(h,p,g)),!l&&r.size&&Xm(()=>{r.forEach(({x:h,y:p,z:g})=>this.updateChunk(h,p,g)),r.clear()})}};var Tl=Jl(Yp());var Bl={};Ss(Bl,{ADDITION:()=>eg,Brush:()=>Kt,DIFFERENCE:()=>ex,EdgesHelper:()=>ao,Evaluator:()=>so,GridMaterial:()=>xl,HOLLOW_INTERSECTION:()=>rg,HOLLOW_SUBTRACTION:()=>tg,HalfEdgeHelper:()=>bl,HalfEdgeMap:()=>ro,INTERSECTION:()=>$w,Operation:()=>vl,OperationGroup:()=>wl,PointsHelper:()=>Cl,REVERSE_SUBTRACTION:()=>Zw,SUBTRACTION:()=>cl,TriangleSetHelper:()=>Il,TriangleSplitter:()=>io,computeMeshVolume:()=>ux,generateRandomTriangleColors:()=>cx,getTriangleDefinitions:()=>mg,logTriangleDefinitions:()=>ax});var Wp=Math.pow(2,-24),IA=Symbol("SKIP_GENERATION");function fw(i){return i.index?i.index.count:i.attributes.position.count}function cr(i){return fw(i)/3}function hw(i,e=ArrayBuffer){return i>65535?new Uint32Array(new e(4*i)):new Uint16Array(new e(2*i))}function qp(i,e){if(!i.index){let n=i.attributes.position.count,o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,t=hw(n,o);i.setIndex(new je(t,1));for(let r=0;r<n;r++)t[r]=r}}function Sc(i,e){let n=cr(i),o=e||i.drawRange,t=o.start/3,r=(o.start+o.count)/3,A=Math.max(0,t),a=Math.min(n,r)-A;return[{offset:Math.floor(A),count:Math.floor(a)}]}function Dc(i,e){if(!i.groups||!i.groups.length)return Sc(i,e);let n=[],o=new Set,t=e||i.drawRange,r=t.start/3,A=(t.start+t.count)/3;for(let c of i.groups){let l=c.start/3,u=(c.start+c.count)/3;o.add(Math.max(r,l)),o.add(Math.min(A,u))}let a=Array.from(o.values()).sort((c,l)=>c-l);for(let c=0;c<a.length-1;c++){let l=a[c],u=a[c+1];n.push({offset:Math.floor(l),count:Math.floor(u-l)})}return n}function Kp(i,e){let n=cr(i),o=Dc(i,e).sort((A,a)=>A.offset-a.offset),t=o[o.length-1];t.count=Math.min(n-t.offset,t.count);let r=0;return o.forEach(({count:A})=>r+=A),n!==r}function CA(i,e,n,o,t){let r=1/0,A=1/0,a=1/0,c=-1/0,l=-1/0,u=-1/0,f=1/0,h=1/0,p=1/0,g=-1/0,w=-1/0,y=-1/0;for(let C=e*6,m=(e+n)*6;C<m;C+=6){let v=i[C+0],I=i[C+1],E=v-I,B=v+I;E<r&&(r=E),B>c&&(c=B),v<f&&(f=v),v>g&&(g=v);let b=i[C+2],T=i[C+3],S=b-T,R=b+T;S<A&&(A=S),R>l&&(l=R),b<h&&(h=b),b>w&&(w=b);let Q=i[C+4],M=i[C+5],k=Q-M,P=Q+M;k<a&&(a=k),P>u&&(u=P),Q<p&&(p=Q),Q>y&&(y=Q)}o[0]=r,o[1]=A,o[2]=a,o[3]=c,o[4]=l,o[5]=u,t[0]=f,t[1]=h,t[2]=p,t[3]=g,t[4]=w,t[5]=y}function Jp(i,e=null,n=null,o=null){let t=i.attributes.position,r=i.index?i.index.array:null,A=cr(i),a=t.normalized,c;e===null?(c=new Float32Array(A*6),n=0,o=A):(c=e,n=n||0,o=o||A);let l=t.array,u=t.offset||0,f=3;t.isInterleavedBufferAttribute&&(f=t.data.stride);let h=["getX","getY","getZ"];for(let p=n;p<n+o;p++){let g=p*3,w=p*6,y=g+0,C=g+1,m=g+2;r&&(y=r[y],C=r[C],m=r[m]),a||(y=y*f+u,C=C*f+u,m=m*f+u);for(let v=0;v<3;v++){let I,E,B;a?(I=t[h[v]](y),E=t[h[v]](C),B=t[h[v]](m)):(I=l[y+v],E=l[C+v],B=l[m+v]);let b=I;E<b&&(b=E),B<b&&(b=B);let T=I;E>T&&(T=E),B>T&&(T=B);let S=(T-b)/2,R=v*2;c[w+R+0]=b+S,c[w+R+1]=S+(Math.abs(b)+S)*Wp}}return c}function ze(i,e,n){return n.min.x=e[i],n.min.y=e[i+1],n.min.z=e[i+2],n.max.x=e[i+3],n.max.y=e[i+4],n.max.z=e[i+5],n}function Mc(i){let e=-1,n=-1/0;for(let o=0;o<3;o++){let t=i[o+3]-i[o];t>n&&(n=t,e=o)}return e}function Rc(i,e){e.set(i)}function _c(i,e,n){let o,t;for(let r=0;r<3;r++){let A=r+3;o=i[r],t=e[r],n[r]=o<t?o:t,o=i[A],t=e[A],n[A]=o>t?o:t}}function ji(i,e,n){for(let o=0;o<3;o++){let t=e[i+2*o],r=e[i+2*o+1],A=t-r,a=t+r;A<n[o]&&(n[o]=A),a>n[o+3]&&(n[o+3]=a)}}function Ln(i){let e=i[3]-i[0],n=i[4]-i[1],o=i[5]-i[2];return 2*(e*n+n*o+o*e)}var wr=32,dw=(i,e)=>i.candidate-e.candidate,Fr=new Array(wr).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),EA=new Float32Array(6);function $p(i,e,n,o,t,r){let A=-1,a=0;if(r===0)A=Mc(e),A!==-1&&(a=(e[A]+e[A+3])/2);else if(r===1)A=Mc(i),A!==-1&&(a=gw(n,o,t,A));else if(r===2){let c=Ln(i),l=1.25*t,u=o*6,f=(o+t)*6;for(let h=0;h<3;h++){let p=e[h],y=(e[h+3]-p)/wr;if(t<wr/4){let C=[...Fr];C.length=t;let m=0;for(let I=u;I<f;I+=6,m++){let E=C[m];E.candidate=n[I+2*h],E.count=0;let{bounds:B,leftCacheBounds:b,rightCacheBounds:T}=E;for(let S=0;S<3;S++)T[S]=1/0,T[S+3]=-1/0,b[S]=1/0,b[S+3]=-1/0,B[S]=1/0,B[S+3]=-1/0;ji(I,n,B)}C.sort(dw);let v=t;for(let I=0;I<v;I++){let E=C[I];for(;I+1<v&&C[I+1].candidate===E.candidate;)C.splice(I+1,1),v--}for(let I=u;I<f;I+=6){let E=n[I+2*h];for(let B=0;B<v;B++){let b=C[B];E>=b.candidate?ji(I,n,b.rightCacheBounds):(ji(I,n,b.leftCacheBounds),b.count++)}}for(let I=0;I<v;I++){let E=C[I],B=E.count,b=t-E.count,T=E.leftCacheBounds,S=E.rightCacheBounds,R=0;B!==0&&(R=Ln(T)/c);let Q=0;b!==0&&(Q=Ln(S)/c);let M=1+1.25*(R*B+Q*b);M<l&&(A=h,l=M,a=E.candidate)}}else{for(let v=0;v<wr;v++){let I=Fr[v];I.count=0,I.candidate=p+y+v*y;let E=I.bounds;for(let B=0;B<3;B++)E[B]=1/0,E[B+3]=-1/0}for(let v=u;v<f;v+=6){let B=~~((n[v+2*h]-p)/y);B>=wr&&(B=wr-1);let b=Fr[B];b.count++,ji(v,n,b.bounds)}let C=Fr[wr-1];Rc(C.bounds,C.rightCacheBounds);for(let v=wr-2;v>=0;v--){let I=Fr[v],E=Fr[v+1];_c(I.bounds,E.rightCacheBounds,I.rightCacheBounds)}let m=0;for(let v=0;v<wr-1;v++){let I=Fr[v],E=I.count,B=I.bounds,T=Fr[v+1].rightCacheBounds;E!==0&&(m===0?Rc(B,EA):_c(B,EA,EA)),m+=E;let S=0,R=0;m!==0&&(S=Ln(EA)/c);let Q=t-m;Q!==0&&(R=Ln(T)/c);let M=1+1.25*(S*m+R*Q);M<l&&(A=h,l=M,a=I.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${r} used.`);return{axis:A,pos:a}}function gw(i,e,n,o){let t=0;for(let r=e,A=e+n;r<A;r++)t+=i[r*6+o*2];return t/n}var On=class{constructor(){this.boundingData=new Float32Array(6)}};function ed(i,e,n,o,t,r){let A=o,a=o+t-1,c=r.pos,l=r.axis*2;for(;;){for(;A<=a&&n[A*6+l]<c;)A++;for(;A<=a&&n[a*6+l]>=c;)a--;if(A<a){for(let u=0;u<3;u++){let f=e[A*3+u];e[A*3+u]=e[a*3+u],e[a*3+u]=f}for(let u=0;u<6;u++){let f=n[A*6+u];n[A*6+u]=n[a*6+u],n[a*6+u]=f}A++,a--}else return A}}function td(i,e,n,o,t,r){let A=o,a=o+t-1,c=r.pos,l=r.axis*2;for(;;){for(;A<=a&&n[A*6+l]<c;)A++;for(;A<=a&&n[a*6+l]>=c;)a--;if(A<a){let u=i[A];i[A]=i[a],i[a]=u;for(let f=0;f<6;f++){let h=n[A*6+f];n[A*6+f]=n[a*6+f],n[a*6+f]=h}A++,a--}else return A}}function Xe(i,e){return e[i+15]===65535}function rt(i,e){return e[i+6]}function ot(i,e){return e[i+14]}function ft(i){return i+8}function ht(i,e){return e[i+6]}function bA(i,e){return e[i+7]}var rd,Yi,BA,nd,mw=Math.pow(2,32);function TA(i){return"count"in i?1:1+TA(i.left)+TA(i.right)}function id(i,e,n){return rd=new Float32Array(n),Yi=new Uint32Array(n),BA=new Uint16Array(n),nd=new Uint8Array(n),kc(i,e)}function kc(i,e){let n=i/4,o=i/2,t="count"in e,r=e.boundingData;for(let A=0;A<6;A++)rd[n+A]=r[A];if(t)if(e.buffer){let A=e.buffer;nd.set(new Uint8Array(A),i);for(let a=i,c=i+A.byteLength;a<c;a+=32){let l=a/2;Xe(l,BA)||(Yi[a/4+6]+=n)}return i+A.byteLength}else{let A=e.offset,a=e.count;return Yi[n+6]=A,BA[o+14]=a,BA[o+15]=65535,i+32}else{let A=e.left,a=e.right,c=e.splitAxis,l;if(l=kc(i+32,A),l/4>mw)throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return Yi[n+6]=l/4,l=kc(l,a),Yi[n+7]=c,l}}function yw(i,e){let n=(i.index?i.index.count:i.attributes.position.count)/3,o=n>2**16,t=o?4:2,r=e?new SharedArrayBuffer(n*t):new ArrayBuffer(n*t),A=o?new Uint32Array(r):new Uint16Array(r);for(let a=0,c=A.length;a<c;a++)A[a]=a;return A}function vw(i,e,n,o,t){let{maxDepth:r,verbose:A,maxLeafTris:a,strategy:c,onProgress:l,indirect:u}=t,f=i._indirectBuffer,h=i.geometry,p=h.index?h.index.array:null,g=u?td:ed,w=cr(h),y=new Float32Array(6),C=!1,m=new On;return CA(e,n,o,m.boundingData,y),I(m,n,o,y),m;function v(E){l&&l(E/w)}function I(E,B,b,T=null,S=0){if(!C&&S>=r&&(C=!0,A&&(console.warn(`MeshBVH: Max depth of ${r} reached when generating BVH. Consider increasing maxDepth.`),console.warn(h))),b<=a||S>=r)return v(B+b),E.offset=B,E.count=b,E;let R=$p(E.boundingData,T,e,B,b,c);if(R.axis===-1)return v(B+b),E.offset=B,E.count=b,E;let Q=g(f,p,e,B,b,R);if(Q===B||Q===B+b)v(B+b),E.offset=B,E.count=b;else{E.splitAxis=R.axis;let M=new On,k=B,P=Q-B;E.left=M,CA(e,k,P,M.boundingData,y),I(M,k,P,y,S+1);let H=new On,U=Q,K=b-P;E.right=H,CA(e,U,K,H.boundingData,y),I(H,U,K,y,S+1)}return E}}function od(i,e){let n=i.geometry;e.indirect&&(i._indirectBuffer=yw(n,e.useSharedArrayBuffer),Kp(n,e.range)&&!e.verbose&&console.warn('MeshBVH: Provided geometry contains groups or a range that do not fully span the vertex contents while using the "indirect" option. BVH may incorrectly report intersections on unrendered portions of the geometry.')),i._indirectBuffer||qp(n,e);let o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,t=Jp(n),r=e.indirect?Sc(n,e.range):Dc(n,e.range);i._roots=r.map(A=>{let a=vw(i,t,A.offset,A.count,e),c=TA(a),l=new o(32*c);return id(0,a,l),l})}var Tt=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,n){let o=1/0,t=-1/0;for(let r=0,A=e.length;r<A;r++){let c=e[r][n];o=c<o?c:o,t=c>t?c:t}this.min=o,this.max=t}setFromPoints(e,n){let o=1/0,t=-1/0;for(let r=0,A=n.length;r<A;r++){let a=n[r],c=e.dot(a);o=c<o?c:o,t=c>t?c:t}this.min=o,this.max=t}isSeparated(e){return this.min>e.max||e.min>this.max}};Tt.prototype.setFromBox=function(){let i=new j;return function(n,o){let t=o.min,r=o.max,A=1/0,a=-1/0;for(let c=0;c<=1;c++)for(let l=0;l<=1;l++)for(let u=0;u<=1;u++){i.x=t.x*c+r.x*(1-c),i.y=t.y*l+r.y*(1-l),i.z=t.z*u+r.z*(1-u);let f=n.dot(i);A=Math.min(f,A),a=Math.max(f,a)}this.min=A,this.max=a}}();var nE=function(){let i=new Tt;return function(n,o){let t=n.points,r=n.satAxes,A=n.satBounds,a=o.points,c=o.satAxes,l=o.satBounds;for(let u=0;u<3;u++){let f=A[u],h=r[u];if(i.setFromPoints(h,a),f.isSeparated(i))return!1}for(let u=0;u<3;u++){let f=l[u],h=c[u];if(i.setFromPoints(h,t),f.isSeparated(i))return!1}}}();var ww=function(){let i=new j,e=new j,n=new j;return function(t,r,A){let a=t.start,c=i,l=r.start,u=e;n.subVectors(a,l),i.subVectors(t.end,t.start),e.subVectors(r.end,r.start);let f=n.dot(u),h=u.dot(c),p=u.dot(u),g=n.dot(c),y=c.dot(c)*p-h*h,C,m;y!==0?C=(f*h-g*p)/y:C=0,m=(f+C*h)/p,A.x=C,A.y=m}}(),qi=function(){let i=new tt,e=new j,n=new j;return function(t,r,A,a){ww(t,r,i);let c=i.x,l=i.y;if(c>=0&&c<=1&&l>=0&&l<=1){t.at(c,A),r.at(l,a);return}else if(c>=0&&c<=1){l<0?r.at(0,a):r.at(1,a),t.closestPointToPoint(a,!0,A);return}else if(l>=0&&l<=1){c<0?t.at(0,A):t.at(1,A),r.closestPointToPoint(A,!0,a);return}else{let u;c<0?u=t.start:u=t.end;let f;l<0?f=r.start:f=r.end;let h=e,p=n;if(t.closestPointToPoint(f,!0,e),r.closestPointToPoint(u,!0,n),h.distanceToSquared(f)<=p.distanceToSquared(u)){A.copy(h),a.copy(f);return}else{A.copy(u),a.copy(p);return}}}}(),Ad=function(){let i=new j,e=new j,n=new hr,o=new Ze;return function(r,A){let{radius:a,center:c}=r,{a:l,b:u,c:f}=A;if(o.start=l,o.end=u,o.closestPointToPoint(c,!0,i).distanceTo(c)<=a||(o.start=l,o.end=f,o.closestPointToPoint(c,!0,i).distanceTo(c)<=a)||(o.start=u,o.end=f,o.closestPointToPoint(c,!0,i).distanceTo(c)<=a))return!0;let w=A.getPlane(n);if(Math.abs(w.distanceToPoint(c))<=a){let C=w.projectPoint(c,e);if(A.containsPoint(C))return!0}return!1}}();var xw=1e-15;function Fc(i){return Math.abs(i)<xw}var at=class extends We{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new j),this.satBounds=new Array(4).fill().map(()=>new Tt),this.points=[this.a,this.b,this.c],this.sphere=new kt,this.plane=new hr,this.needsUpdate=!0}intersectsSphere(e){return Ad(e,this)}update(){let e=this.a,n=this.b,o=this.c,t=this.points,r=this.satAxes,A=this.satBounds,a=r[0],c=A[0];this.getNormal(a),c.setFromPoints(a,t);let l=r[1],u=A[1];l.subVectors(e,n),u.setFromPoints(l,t);let f=r[2],h=A[2];f.subVectors(n,o),h.setFromPoints(f,t);let p=r[3],g=A[3];p.subVectors(o,e),g.setFromPoints(p,t),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(a,e),this.needsUpdate=!1}};at.prototype.closestPointToSegment=function(){let i=new j,e=new j,n=new Ze;return function(t,r=null,A=null){let{start:a,end:c}=t,l=this.points,u,f=1/0;for(let h=0;h<3;h++){let p=(h+1)%3;n.start.copy(l[h]),n.end.copy(l[p]),qi(n,t,i,e),u=i.distanceToSquared(e),u<f&&(f=u,r&&r.copy(i),A&&A.copy(e))}return this.closestPointToPoint(a,i),u=a.distanceToSquared(i),u<f&&(f=u,r&&r.copy(i),A&&A.copy(a)),this.closestPointToPoint(c,i),u=c.distanceToSquared(i),u<f&&(f=u,r&&r.copy(i),A&&A.copy(c)),Math.sqrt(f)}}();at.prototype.intersectsTriangle=function(){let i=new at,e=new Array(3),n=new Array(3),o=new Tt,t=new Tt,r=new j,A=new j,a=new j,c=new j,l=new j,u=new Ze,f=new Ze,h=new Ze,p=new j;function g(w,y,C){let m=w.points,v=0,I=-1;for(let E=0;E<3;E++){let{start:B,end:b}=u;B.copy(m[E]),b.copy(m[(E+1)%3]),u.delta(A);let T=Fc(y.distanceToPoint(B));if(Fc(y.normal.dot(A))&&T){C.copy(u),v=2;break}let S=y.intersectLine(u,p);if(!S&&T&&p.copy(B),(S||T)&&!Fc(p.distanceTo(b))){if(v<=1)(v===1?C.start:C.end).copy(p),T&&(I=v);else if(v>=2){(I===1?C.start:C.end).copy(p),v=2;break}if(v++,v===2&&I===-1)break}}return v}return function(y,C=null,m=!1){this.needsUpdate&&this.update(),y.isExtendedTriangle?y.needsUpdate&&y.update():(i.copy(y),i.update(),y=i);let v=this.plane,I=y.plane;if(Math.abs(v.normal.dot(I.normal))>1-1e-10){let E=this.satBounds,B=this.satAxes;n[0]=y.a,n[1]=y.b,n[2]=y.c;for(let S=0;S<4;S++){let R=E[S],Q=B[S];if(o.setFromPoints(Q,n),R.isSeparated(o))return!1}let b=y.satBounds,T=y.satAxes;e[0]=this.a,e[1]=this.b,e[2]=this.c;for(let S=0;S<4;S++){let R=b[S],Q=T[S];if(o.setFromPoints(Q,e),R.isSeparated(o))return!1}for(let S=0;S<4;S++){let R=B[S];for(let Q=0;Q<4;Q++){let M=T[Q];if(r.crossVectors(R,M),o.setFromPoints(r,e),t.setFromPoints(r,n),o.isSeparated(t))return!1}}return C&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),C.start.set(0,0,0),C.end.set(0,0,0)),!0}else{let E=g(this,I,f);if(E===1&&y.containsPoint(f.end))return C&&(C.start.copy(f.end),C.end.copy(f.end)),!0;if(E!==2)return!1;let B=g(y,v,h);if(B===1&&this.containsPoint(h.end))return C&&(C.start.copy(h.end),C.end.copy(h.end)),!0;if(B!==2)return!1;if(f.delta(a),h.delta(c),a.dot(c)<0){let k=h.start;h.start=h.end,h.end=k}let b=f.start.dot(a),T=f.end.dot(a),S=h.start.dot(a),R=h.end.dot(a),Q=T<S,M=b<R;return b!==R&&S!==T&&Q===M?!1:(C&&(l.subVectors(f.start,h.start),l.dot(a)>0?C.start.copy(f.start):C.start.copy(h.start),l.subVectors(f.end,h.end),l.dot(a)<0?C.end.copy(f.end):C.end.copy(h.end)),!0)}}}();at.prototype.distanceToPoint=function(){let i=new j;return function(n){return this.closestPointToPoint(n,i),n.distanceTo(i)}}();at.prototype.distanceToTriangle=function(){let i=new j,e=new j,n=["a","b","c"],o=new Ze,t=new Ze;return function(A,a=null,c=null){let l=a||c?o:null;if(this.intersectsTriangle(A,l))return(a||c)&&(a&&l.getCenter(a),c&&l.getCenter(c)),0;let u=1/0;for(let f=0;f<3;f++){let h,p=n[f],g=A[p];this.closestPointToPoint(g,i),h=g.distanceToSquared(i),h<u&&(u=h,a&&a.copy(i),c&&c.copy(g));let w=this[p];A.closestPointToPoint(w,i),h=w.distanceToSquared(i),h<u&&(u=h,a&&a.copy(w),c&&c.copy(i))}for(let f=0;f<3;f++){let h=n[f],p=n[(f+1)%3];o.set(this[h],this[p]);for(let g=0;g<3;g++){let w=n[g],y=n[(g+1)%3];t.set(A[w],A[y]),qi(o,t,i,e);let C=i.distanceToSquared(e);C<u&&(u=C,a&&a.copy(i),c&&c.copy(e))}}return Math.sqrt(u)}}();var et=class{constructor(e,n,o){this.isOrientedBox=!0,this.min=new j,this.max=new j,this.matrix=new Fe,this.invMatrix=new Fe,this.points=new Array(8).fill().map(()=>new j),this.satAxes=new Array(3).fill().map(()=>new j),this.satBounds=new Array(3).fill().map(()=>new Tt),this.alignedSatBounds=new Array(3).fill().map(()=>new Tt),this.needsUpdate=!1,e&&this.min.copy(e),n&&this.max.copy(n),o&&this.matrix.copy(o)}set(e,n,o){this.min.copy(e),this.max.copy(n),this.matrix.copy(o),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};et.prototype.update=function(){return function(){let e=this.matrix,n=this.min,o=this.max,t=this.points;for(let l=0;l<=1;l++)for(let u=0;u<=1;u++)for(let f=0;f<=1;f++){let h=1*l|2*u|4*f,p=t[h];p.x=l?o.x:n.x,p.y=u?o.y:n.y,p.z=f?o.z:n.z,p.applyMatrix4(e)}let r=this.satBounds,A=this.satAxes,a=t[0];for(let l=0;l<3;l++){let u=A[l],f=r[l],h=1<<l,p=t[h];u.subVectors(a,p),f.setFromPoints(u,t)}let c=this.alignedSatBounds;c[0].setFromPointsField(t,"x"),c[1].setFromPointsField(t,"y"),c[2].setFromPointsField(t,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();et.prototype.intersectsBox=function(){let i=new Tt;return function(n){this.needsUpdate&&this.update();let o=n.min,t=n.max,r=this.satBounds,A=this.satAxes,a=this.alignedSatBounds;if(i.min=o.x,i.max=t.x,a[0].isSeparated(i)||(i.min=o.y,i.max=t.y,a[1].isSeparated(i))||(i.min=o.z,i.max=t.z,a[2].isSeparated(i)))return!1;for(let c=0;c<3;c++){let l=A[c],u=r[c];if(i.setFromBox(l,n),u.isSeparated(i))return!1}return!0}}();et.prototype.intersectsTriangle=function(){let i=new at,e=new Array(3),n=new Tt,o=new Tt,t=new j;return function(A){this.needsUpdate&&this.update(),A.isExtendedTriangle?A.needsUpdate&&A.update():(i.copy(A),i.update(),A=i);let a=this.satBounds,c=this.satAxes;e[0]=A.a,e[1]=A.b,e[2]=A.c;for(let h=0;h<3;h++){let p=a[h],g=c[h];if(n.setFromPoints(g,e),p.isSeparated(n))return!1}let l=A.satBounds,u=A.satAxes,f=this.points;for(let h=0;h<3;h++){let p=l[h],g=u[h];if(n.setFromPoints(g,f),p.isSeparated(n))return!1}for(let h=0;h<3;h++){let p=c[h];for(let g=0;g<4;g++){let w=u[g];if(t.crossVectors(p,w),n.setFromPoints(t,e),o.setFromPoints(t,f),n.isSeparated(o))return!1}}return!0}}();et.prototype.closestPointToPoint=function(){return function(e,n){return this.needsUpdate&&this.update(),n.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),n}}();et.prototype.distanceToPoint=function(){let i=new j;return function(n){return this.closestPointToPoint(n,i),n.distanceTo(i)}}();et.prototype.distanceToBox=function(){let i=["x","y","z"],e=new Array(12).fill().map(()=>new Ze),n=new Array(12).fill().map(()=>new Ze),o=new j,t=new j;return function(A,a=0,c=null,l=null){if(this.needsUpdate&&this.update(),this.intersectsBox(A))return(c||l)&&(A.getCenter(t),this.closestPointToPoint(t,o),A.closestPointToPoint(o,t),c&&c.copy(o),l&&l.copy(t)),0;let u=a*a,f=A.min,h=A.max,p=this.points,g=1/0;for(let y=0;y<8;y++){let C=p[y];t.copy(C).clamp(f,h);let m=C.distanceToSquared(t);if(m<g&&(g=m,c&&c.copy(C),l&&l.copy(t),m<u))return Math.sqrt(m)}let w=0;for(let y=0;y<3;y++)for(let C=0;C<=1;C++)for(let m=0;m<=1;m++){let v=(y+1)%3,I=(y+2)%3,E=C<<v|m<<I,B=1<<y|C<<v|m<<I,b=p[E],T=p[B];e[w].set(b,T);let R=i[y],Q=i[v],M=i[I],k=n[w],P=k.start,H=k.end;P[R]=f[R],P[Q]=C?f[Q]:h[Q],P[M]=m?f[M]:h[Q],H[R]=h[R],H[Q]=C?f[Q]:h[Q],H[M]=m?f[M]:h[Q],w++}for(let y=0;y<=1;y++)for(let C=0;C<=1;C++)for(let m=0;m<=1;m++){t.x=y?h.x:f.x,t.y=C?h.y:f.y,t.z=m?h.z:f.z,this.closestPointToPoint(t,o);let v=t.distanceToSquared(o);if(v<g&&(g=v,c&&c.copy(o),l&&l.copy(t),v<u))return Math.sqrt(v)}for(let y=0;y<12;y++){let C=e[y];for(let m=0;m<12;m++){let v=n[m];qi(C,v,o,t);let I=o.distanceToSquared(t);if(I<g&&(g=I,c&&c.copy(o),l&&l.copy(t),I<u))return Math.sqrt(I)}}return Math.sqrt(g)}}();var Pr=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};var Pc=class extends Pr{constructor(){super(()=>new at)}},xt=new Pc;var Qc=class{constructor(){this.float32Array=null,this.uint16Array=null,this.uint32Array=null;let e=[],n=null;this.setBuffer=o=>{n&&e.push(n),n=o,this.float32Array=new Float32Array(o),this.uint16Array=new Uint16Array(o),this.uint32Array=new Uint32Array(o)},this.clearBuffer=()=>{n=null,this.float32Array=null,this.uint16Array=null,this.uint32Array=null,e.length!==0&&this.setBuffer(e.pop())}}},Le=new Qc;var Qr,Gn,Nn=[],DA=new Pr(()=>new Je);function sd(i,e,n,o,t,r){Qr=DA.getPrimitive(),Gn=DA.getPrimitive(),Nn.push(Qr,Gn),Le.setBuffer(i._roots[e]);let A=Uc(0,i.geometry,n,o,t,r);Le.clearBuffer(),DA.releasePrimitive(Qr),DA.releasePrimitive(Gn),Nn.pop(),Nn.pop();let a=Nn.length;return a>0&&(Gn=Nn[a-1],Qr=Nn[a-2]),A}function Uc(i,e,n,o,t=null,r=0,A=0){let{float32Array:a,uint16Array:c,uint32Array:l}=Le,u=i*2;if(Xe(u,c)){let h=rt(i,l),p=ot(u,c);return ze(i,a,Qr),o(h,p,!1,A,r+i,Qr)}else{let R=function(M){let{uint16Array:k,uint32Array:P}=Le,H=M*2;for(;!Xe(H,k);)M=ft(M),H=M*2;return rt(M,P)},Q=function(M){let{uint16Array:k,uint32Array:P}=Le,H=M*2;for(;!Xe(H,k);)M=ht(M,P),H=M*2;return rt(M,P)+ot(H,k)},h=ft(i),p=ht(i,l),g=h,w=p,y,C,m,v;if(t&&(m=Qr,v=Gn,ze(g,a,m),ze(w,a,v),y=t(m),C=t(v),C<y)){g=p,w=h;let M=y;y=C,C=M,m=v}m||(m=Qr,ze(g,a,m));let I=Xe(g*2,c),E=n(m,I,y,A+1,r+g),B;if(E===2){let M=R(g),P=Q(g)-M;B=o(M,P,!0,A+1,r+g,m)}else B=E&&Uc(g,e,n,o,t,r,A+1);if(B)return!0;v=Gn,ze(w,a,v);let b=Xe(w*2,c),T=n(v,b,C,A+1,r+w),S;if(T===2){let M=R(w),P=Q(w)-M;S=o(M,P,!0,A+1,r+w,v)}else S=T&&Uc(w,e,n,o,t,r,A+1);return!!S}}var Ki=new j,Oc=new j;function ad(i,e,n={},o=0,t=1/0){let r=o*o,A=t*t,a=1/0,c=null;if(i.shapecast({boundsTraverseOrder:u=>(Ki.copy(e).clamp(u.min,u.max),Ki.distanceToSquared(e)),intersectsBounds:(u,f,h)=>h<a&&h<A,intersectsTriangle:(u,f)=>{u.closestPointToPoint(e,Ki);let h=e.distanceToSquared(Ki);return h<a&&(Oc.copy(Ki),a=h,c=f),h<r}}),a===1/0)return null;let l=Math.sqrt(a);return n.point?n.point.copy(Oc):n.point=Oc.clone(),n.distance=l,n.faceIndex=c,n}var Cw=parseInt(Eo)>=169,en=new j,tn=new j,rn=new j,MA=new tt,RA=new tt,_A=new tt,cd=new j,ld=new j,ud=new j,Ji=new j;function Ew(i,e,n,o,t,r,A,a){let c;if(r===bo?c=i.intersectTriangle(o,n,e,!0,t):c=i.intersectTriangle(e,n,o,r!==At,t),c===null)return null;let l=i.origin.distanceTo(t);return l<A||l>a?null:{distance:l,point:t.clone()}}function bw(i,e,n,o,t,r,A,a,c,l,u){en.fromBufferAttribute(e,r),tn.fromBufferAttribute(e,A),rn.fromBufferAttribute(e,a);let f=Ew(i,en,tn,rn,Ji,c,l,u);if(f){let h=new j;We.getBarycoord(Ji,en,tn,rn,h),o&&(MA.fromBufferAttribute(o,r),RA.fromBufferAttribute(o,A),_A.fromBufferAttribute(o,a),f.uv=We.getInterpolation(Ji,en,tn,rn,MA,RA,_A,new tt)),t&&(MA.fromBufferAttribute(t,r),RA.fromBufferAttribute(t,A),_A.fromBufferAttribute(t,a),f.uv1=We.getInterpolation(Ji,en,tn,rn,MA,RA,_A,new tt)),n&&(cd.fromBufferAttribute(n,r),ld.fromBufferAttribute(n,A),ud.fromBufferAttribute(n,a),f.normal=We.getInterpolation(Ji,en,tn,rn,cd,ld,ud,new j),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));let p={a:r,b:A,c:a,normal:new j,materialIndex:0};We.getNormal(en,tn,rn,p.normal),f.face=p,f.faceIndex=r,Cw&&(f.barycoord=h)}return f}function zn(i,e,n,o,t,r,A){let a=o*3,c=a+0,l=a+1,u=a+2,f=i.index;i.index&&(c=f.getX(c),l=f.getX(l),u=f.getX(u));let{position:h,normal:p,uv:g,uv1:w}=i.attributes,y=bw(n,h,p,g,w,c,l,u,e,r,A);return y?(y.faceIndex=o,t&&t.push(y),y):null}function He(i,e,n,o){let t=i.a,r=i.b,A=i.c,a=e,c=e+1,l=e+2;n&&(a=n.getX(a),c=n.getX(c),l=n.getX(l)),t.x=o.getX(a),t.y=o.getY(a),t.z=o.getZ(a),r.x=o.getX(c),r.y=o.getY(c),r.z=o.getZ(c),A.x=o.getX(l),A.y=o.getY(l),A.z=o.getZ(l)}function fd(i,e,n,o,t,r,A,a){let{geometry:c,_indirectBuffer:l}=i;for(let u=o,f=o+t;u<f;u++)zn(c,e,n,u,r,A,a)}function hd(i,e,n,o,t,r,A){let{geometry:a,_indirectBuffer:c}=i,l=1/0,u=null;for(let f=o,h=o+t;f<h;f++){let p;p=zn(a,e,n,f,null,r,A),p&&p.distance<l&&(u=p,l=p.distance)}return u}function pd(i,e,n,o,t,r,A){let{geometry:a}=n,{index:c}=a,l=a.attributes.position;for(let u=i,f=e+i;u<f;u++){let h;if(h=u,He(A,h*3,c,l),A.needsUpdate=!0,o(A,h,t,r))return!0}return!1}function dd(i,e=null){e&&Array.isArray(e)&&(e=new Set(e));let n=i.geometry,o=n.index?n.index.array:null,t=n.attributes.position,r,A,a,c,l=0,u=i._roots;for(let h=0,p=u.length;h<p;h++)r=u[h],A=new Uint32Array(r),a=new Uint16Array(r),c=new Float32Array(r),f(0,l),l+=r.byteLength;function f(h,p,g=!1){let w=h*2;if(a[w+15]===65535){let C=A[h+6],m=a[w+14],v=1/0,I=1/0,E=1/0,B=-1/0,b=-1/0,T=-1/0;for(let S=3*C,R=3*(C+m);S<R;S++){let Q=o[S],M=t.getX(Q),k=t.getY(Q),P=t.getZ(Q);M<v&&(v=M),M>B&&(B=M),k<I&&(I=k),k>b&&(b=k),P<E&&(E=P),P>T&&(T=P)}return c[h+0]!==v||c[h+1]!==I||c[h+2]!==E||c[h+3]!==B||c[h+4]!==b||c[h+5]!==T?(c[h+0]=v,c[h+1]=I,c[h+2]=E,c[h+3]=B,c[h+4]=b,c[h+5]=T,!0):!1}else{let C=h+8,m=A[h+6],v=C+p,I=m+p,E=g,B=!1,b=!1;e?E||(B=e.has(v),b=e.has(I),E=!B&&!b):(B=!0,b=!0);let T=E||B,S=E||b,R=!1;T&&(R=f(C,p,E));let Q=!1;S&&(Q=f(m,p,E));let M=R||Q;if(M)for(let k=0;k<3;k++){let P=C+k,H=m+k,U=c[P],K=c[P+3],q=c[H],O=c[H+3];c[h+k]=U<q?U:q,c[h+k+3]=K>O?K:O}return M}}}function Ot(i,e,n,o,t){let r,A,a,c,l,u,f=1/n.direction.x,h=1/n.direction.y,p=1/n.direction.z,g=n.origin.x,w=n.origin.y,y=n.origin.z,C=e[i],m=e[i+3],v=e[i+1],I=e[i+3+1],E=e[i+2],B=e[i+3+2];return f>=0?(r=(C-g)*f,A=(m-g)*f):(r=(m-g)*f,A=(C-g)*f),h>=0?(a=(v-w)*h,c=(I-w)*h):(a=(I-w)*h,c=(v-w)*h),r>c||a>A||((a>r||isNaN(r))&&(r=a),(c<A||isNaN(A))&&(A=c),p>=0?(l=(E-y)*p,u=(B-y)*p):(l=(B-y)*p,u=(E-y)*p),r>u||l>A)?!1:((l>r||r!==r)&&(r=l),(u<A||A!==A)&&(A=u),r<=t&&A>=o)}function gd(i,e,n,o,t,r,A,a){let{geometry:c,_indirectBuffer:l}=i;for(let u=o,f=o+t;u<f;u++){let h=l?l[u]:u;zn(c,e,n,h,r,A,a)}}function md(i,e,n,o,t,r,A){let{geometry:a,_indirectBuffer:c}=i,l=1/0,u=null;for(let f=o,h=o+t;f<h;f++){let p;p=zn(a,e,n,c?c[f]:f,null,r,A),p&&p.distance<l&&(u=p,l=p.distance)}return u}function yd(i,e,n,o,t,r,A){let{geometry:a}=n,{index:c}=a,l=a.attributes.position;for(let u=i,f=e+i;u<f;u++){let h;if(h=n.resolveTriangleIndex(u),He(A,h*3,c,l),A.needsUpdate=!0,o(A,h,t,r))return!0}return!1}function vd(i,e,n,o,t,r,A){Le.setBuffer(i._roots[e]),Nc(0,i,n,o,t,r,A),Le.clearBuffer()}function Nc(i,e,n,o,t,r,A){let{float32Array:a,uint16Array:c,uint32Array:l}=Le,u=i*2;if(Xe(u,c)){let h=rt(i,l),p=ot(u,c);fd(e,n,o,h,p,t,r,A)}else{let h=ft(i);Ot(h,a,o,r,A)&&Nc(h,e,n,o,t,r,A);let p=ht(i,l);Ot(p,a,o,r,A)&&Nc(p,e,n,o,t,r,A)}}var Bw=["x","y","z"];function wd(i,e,n,o,t,r){Le.setBuffer(i._roots[e]);let A=Gc(0,i,n,o,t,r);return Le.clearBuffer(),A}function Gc(i,e,n,o,t,r){let{float32Array:A,uint16Array:a,uint32Array:c}=Le,l=i*2;if(Xe(l,a)){let f=rt(i,c),h=ot(l,a);return hd(e,n,o,f,h,t,r)}else{let f=bA(i,c),h=Bw[f],g=o.direction[h]>=0,w,y;g?(w=ft(i),y=ht(i,c)):(w=ht(i,c),y=ft(i));let m=Ot(w,A,o,t,r)?Gc(w,e,n,o,t,r):null;if(m){let E=m.point[h];if(g?E<=A[y+f]:E>=A[y+f+3])return m}let I=Ot(y,A,o,t,r)?Gc(y,e,n,o,t,r):null;return m&&I?m.distance<=I.distance?m:I:m||I||null}}var kA=new Je,Hn=new at,Vn=new at,Xi=new Fe,xd=new et,FA=new et;function Id(i,e,n,o){Le.setBuffer(i._roots[e]);let t=zc(0,i,n,o);return Le.clearBuffer(),t}function zc(i,e,n,o,t=null){let{float32Array:r,uint16Array:A,uint32Array:a}=Le,c=i*2;if(t===null&&(n.boundingBox||n.computeBoundingBox(),xd.set(n.boundingBox.min,n.boundingBox.max,o),t=xd),Xe(c,A)){let u=e.geometry,f=u.index,h=u.attributes.position,p=n.index,g=n.attributes.position,w=rt(i,a),y=ot(c,A);if(Xi.copy(o).invert(),n.boundsTree)return ze(i,r,FA),FA.matrix.copy(Xi),FA.needsUpdate=!0,n.boundsTree.shapecast({intersectsBounds:m=>FA.intersectsBox(m),intersectsTriangle:m=>{m.a.applyMatrix4(o),m.b.applyMatrix4(o),m.c.applyMatrix4(o),m.needsUpdate=!0;for(let v=w*3,I=(y+w)*3;v<I;v+=3)if(He(Vn,v,f,h),Vn.needsUpdate=!0,m.intersectsTriangle(Vn))return!0;return!1}});for(let C=w*3,m=(y+w)*3;C<m;C+=3){He(Hn,C,f,h),Hn.a.applyMatrix4(Xi),Hn.b.applyMatrix4(Xi),Hn.c.applyMatrix4(Xi),Hn.needsUpdate=!0;for(let v=0,I=p.count;v<I;v+=3)if(He(Vn,v,p,g),Vn.needsUpdate=!0,Hn.intersectsTriangle(Vn))return!0}}else{let u=i+8,f=a[i+6];return ze(u,r,kA),!!(t.intersectsBox(kA)&&zc(u,e,n,o,t)||(ze(f,r,kA),t.intersectsBox(kA)&&zc(f,e,n,o,t)))}}var PA=new Fe,Hc=new et,Zi=new et,Tw=new j,Sw=new j,Dw=new j,Mw=new j;function Cd(i,e,n,o={},t={},r=0,A=1/0){e.boundingBox||e.computeBoundingBox(),Hc.set(e.boundingBox.min,e.boundingBox.max,n),Hc.needsUpdate=!0;let a=i.geometry,c=a.attributes.position,l=a.index,u=e.attributes.position,f=e.index,h=xt.getPrimitive(),p=xt.getPrimitive(),g=Tw,w=Sw,y=null,C=null;t&&(y=Dw,C=Mw);let m=1/0,v=null,I=null;return PA.copy(n).invert(),Zi.matrix.copy(PA),i.shapecast({boundsTraverseOrder:E=>Hc.distanceToBox(E),intersectsBounds:(E,B,b)=>b<m&&b<A?(B&&(Zi.min.copy(E.min),Zi.max.copy(E.max),Zi.needsUpdate=!0),!0):!1,intersectsRange:(E,B)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:T=>Zi.distanceToBox(T),intersectsBounds:(T,S,R)=>R<m&&R<A,intersectsRange:(T,S)=>{for(let R=T,Q=T+S;R<Q;R++){He(p,3*R,f,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let M=E,k=E+B;M<k;M++){He(h,3*M,l,c),h.needsUpdate=!0;let P=h.distanceToTriangle(p,g,y);if(P<m&&(w.copy(g),C&&C.copy(y),m=P,v=M,I=R),P<r)return!0}}}});{let b=cr(e);for(let T=0,S=b;T<S;T++){He(p,3*T,f,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let R=E,Q=E+B;R<Q;R++){He(h,3*R,l,c),h.needsUpdate=!0;let M=h.distanceToTriangle(p,g,y);if(M<m&&(w.copy(g),C&&C.copy(y),m=M,v=R,I=T),M<r)return!0}}}}}),xt.releasePrimitive(h),xt.releasePrimitive(p),m===1/0?null:(o.point?o.point.copy(w):o.point=w.clone(),o.distance=m,o.faceIndex=v,t&&(t.point?t.point.copy(C):t.point=C.clone(),t.point.applyMatrix4(PA),w.applyMatrix4(PA),t.distance=w.sub(t.point).length(),t.faceIndex=I),o)}function Ed(i,e=null){e&&Array.isArray(e)&&(e=new Set(e));let n=i.geometry,o=n.index?n.index.array:null,t=n.attributes.position,r,A,a,c,l=0,u=i._roots;for(let h=0,p=u.length;h<p;h++)r=u[h],A=new Uint32Array(r),a=new Uint16Array(r),c=new Float32Array(r),f(0,l),l+=r.byteLength;function f(h,p,g=!1){let w=h*2;if(a[w+15]===65535){let C=A[h+6],m=a[w+14],v=1/0,I=1/0,E=1/0,B=-1/0,b=-1/0,T=-1/0;for(let S=C,R=C+m;S<R;S++){let Q=3*i.resolveTriangleIndex(S);for(let M=0;M<3;M++){let k=Q+M;k=o?o[k]:k;let P=t.getX(k),H=t.getY(k),U=t.getZ(k);P<v&&(v=P),P>B&&(B=P),H<I&&(I=H),H>b&&(b=H),U<E&&(E=U),U>T&&(T=U)}}return c[h+0]!==v||c[h+1]!==I||c[h+2]!==E||c[h+3]!==B||c[h+4]!==b||c[h+5]!==T?(c[h+0]=v,c[h+1]=I,c[h+2]=E,c[h+3]=B,c[h+4]=b,c[h+5]=T,!0):!1}else{let C=h+8,m=A[h+6],v=C+p,I=m+p,E=g,B=!1,b=!1;e?E||(B=e.has(v),b=e.has(I),E=!B&&!b):(B=!0,b=!0);let T=E||B,S=E||b,R=!1;T&&(R=f(C,p,E));let Q=!1;S&&(Q=f(m,p,E));let M=R||Q;if(M)for(let k=0;k<3;k++){let P=C+k,H=m+k,U=c[P],K=c[P+3],q=c[H],O=c[H+3];c[h+k]=U<q?U:q,c[h+k+3]=K>O?K:O}return M}}}function bd(i,e,n,o,t,r,A){Le.setBuffer(i._roots[e]),Vc(0,i,n,o,t,r,A),Le.clearBuffer()}function Vc(i,e,n,o,t,r,A){let{float32Array:a,uint16Array:c,uint32Array:l}=Le,u=i*2;if(Xe(u,c)){let h=rt(i,l),p=ot(u,c);gd(e,n,o,h,p,t,r,A)}else{let h=ft(i);Ot(h,a,o,r,A)&&Vc(h,e,n,o,t,r,A);let p=ht(i,l);Ot(p,a,o,r,A)&&Vc(p,e,n,o,t,r,A)}}var Rw=["x","y","z"];function Bd(i,e,n,o,t,r){Le.setBuffer(i._roots[e]);let A=jc(0,i,n,o,t,r);return Le.clearBuffer(),A}function jc(i,e,n,o,t,r){let{float32Array:A,uint16Array:a,uint32Array:c}=Le,l=i*2;if(Xe(l,a)){let f=rt(i,c),h=ot(l,a);return md(e,n,o,f,h,t,r)}else{let f=bA(i,c),h=Rw[f],g=o.direction[h]>=0,w,y;g?(w=ft(i),y=ht(i,c)):(w=ht(i,c),y=ft(i));let m=Ot(w,A,o,t,r)?jc(w,e,n,o,t,r):null;if(m){let E=m.point[h];if(g?E<=A[y+f]:E>=A[y+f+3])return m}let I=Ot(y,A,o,t,r)?jc(y,e,n,o,t,r):null;return m&&I?m.distance<=I.distance?m:I:m||I||null}}var QA=new Je,jn=new at,Yn=new at,$i=new Fe,Td=new et,UA=new et;function Sd(i,e,n,o){Le.setBuffer(i._roots[e]);let t=Yc(0,i,n,o);return Le.clearBuffer(),t}function Yc(i,e,n,o,t=null){let{float32Array:r,uint16Array:A,uint32Array:a}=Le,c=i*2;if(t===null&&(n.boundingBox||n.computeBoundingBox(),Td.set(n.boundingBox.min,n.boundingBox.max,o),t=Td),Xe(c,A)){let u=e.geometry,f=u.index,h=u.attributes.position,p=n.index,g=n.attributes.position,w=rt(i,a),y=ot(c,A);if($i.copy(o).invert(),n.boundsTree)return ze(i,r,UA),UA.matrix.copy($i),UA.needsUpdate=!0,n.boundsTree.shapecast({intersectsBounds:m=>UA.intersectsBox(m),intersectsTriangle:m=>{m.a.applyMatrix4(o),m.b.applyMatrix4(o),m.c.applyMatrix4(o),m.needsUpdate=!0;for(let v=w,I=y+w;v<I;v++)if(He(Yn,3*e.resolveTriangleIndex(v),f,h),Yn.needsUpdate=!0,m.intersectsTriangle(Yn))return!0;return!1}});for(let C=w,m=y+w;C<m;C++){let v=e.resolveTriangleIndex(C);He(jn,3*v,f,h),jn.a.applyMatrix4($i),jn.b.applyMatrix4($i),jn.c.applyMatrix4($i),jn.needsUpdate=!0;for(let I=0,E=p.count;I<E;I+=3)if(He(Yn,I,p,g),Yn.needsUpdate=!0,jn.intersectsTriangle(Yn))return!0}}else{let u=i+8,f=a[i+6];return ze(u,r,QA),!!(t.intersectsBox(QA)&&Yc(u,e,n,o,t)||(ze(f,r,QA),t.intersectsBox(QA)&&Yc(f,e,n,o,t)))}}var LA=new Fe,Wc=new et,eo=new et,_w=new j,kw=new j,Fw=new j,Pw=new j;function Dd(i,e,n,o={},t={},r=0,A=1/0){e.boundingBox||e.computeBoundingBox(),Wc.set(e.boundingBox.min,e.boundingBox.max,n),Wc.needsUpdate=!0;let a=i.geometry,c=a.attributes.position,l=a.index,u=e.attributes.position,f=e.index,h=xt.getPrimitive(),p=xt.getPrimitive(),g=_w,w=kw,y=null,C=null;t&&(y=Fw,C=Pw);let m=1/0,v=null,I=null;return LA.copy(n).invert(),eo.matrix.copy(LA),i.shapecast({boundsTraverseOrder:E=>Wc.distanceToBox(E),intersectsBounds:(E,B,b)=>b<m&&b<A?(B&&(eo.min.copy(E.min),eo.max.copy(E.max),eo.needsUpdate=!0),!0):!1,intersectsRange:(E,B)=>{if(e.boundsTree){let b=e.boundsTree;return b.shapecast({boundsTraverseOrder:T=>eo.distanceToBox(T),intersectsBounds:(T,S,R)=>R<m&&R<A,intersectsRange:(T,S)=>{for(let R=T,Q=T+S;R<Q;R++){let M=b.resolveTriangleIndex(R);He(p,3*M,f,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let k=E,P=E+B;k<P;k++){let H=i.resolveTriangleIndex(k);He(h,3*H,l,c),h.needsUpdate=!0;let U=h.distanceToTriangle(p,g,y);if(U<m&&(w.copy(g),C&&C.copy(y),m=U,v=k,I=R),U<r)return!0}}}})}else{let b=cr(e);for(let T=0,S=b;T<S;T++){He(p,3*T,f,u),p.a.applyMatrix4(n),p.b.applyMatrix4(n),p.c.applyMatrix4(n),p.needsUpdate=!0;for(let R=E,Q=E+B;R<Q;R++){let M=i.resolveTriangleIndex(R);He(h,3*M,l,c),h.needsUpdate=!0;let k=h.distanceToTriangle(p,g,y);if(k<m&&(w.copy(g),C&&C.copy(y),m=k,v=R,I=T),k<r)return!0}}}}}),xt.releasePrimitive(h),xt.releasePrimitive(p),m===1/0?null:(o.point?o.point.copy(w):o.point=w.clone(),o.distance=m,o.faceIndex=v,t&&(t.point?t.point.copy(C):t.point=C.clone(),t.point.applyMatrix4(LA),w.applyMatrix4(LA),t.distance=w.sub(t.point).length(),t.faceIndex=I),o)}function Md(){return typeof SharedArrayBuffer<"u"}var to=new Le.constructor,OA=new Le.constructor,Ur=new Pr(()=>new Je),Wn=new Je,qn=new Je,qc=new Je,Kc=new Je,Jc=!1;function Rd(i,e,n,o){if(Jc)throw new Error("MeshBVH: Recursive calls to bvhcast not supported.");Jc=!0;let t=i._roots,r=e._roots,A,a=0,c=0,l=new Fe().copy(n).invert();for(let u=0,f=t.length;u<f;u++){to.setBuffer(t[u]),c=0;let h=Ur.getPrimitive();ze(0,to.float32Array,h),h.applyMatrix4(l);for(let p=0,g=r.length;p<g&&(OA.setBuffer(r[p]),A=Wt(0,0,n,l,o,a,c,0,0,h),OA.clearBuffer(),c+=r[p].length,!A);p++);if(Ur.releasePrimitive(h),to.clearBuffer(),a+=t[u].length,A)break}return Jc=!1,A}function Wt(i,e,n,o,t,r=0,A=0,a=0,c=0,l=null,u=!1){let f,h;u?(f=OA,h=to):(f=to,h=OA);let p=f.float32Array,g=f.uint32Array,w=f.uint16Array,y=h.float32Array,C=h.uint32Array,m=h.uint16Array,v=i*2,I=e*2,E=Xe(v,w),B=Xe(I,m),b=!1;if(B&&E)u?b=t(rt(e,C),ot(e*2,m),rt(i,g),ot(i*2,w),c,A+e,a,r+i):b=t(rt(i,g),ot(i*2,w),rt(e,C),ot(e*2,m),a,r+i,c,A+e);else if(B){let T=Ur.getPrimitive();ze(e,y,T),T.applyMatrix4(n);let S=ft(i),R=ht(i,g);ze(S,p,Wn),ze(R,p,qn);let Q=T.intersectsBox(Wn),M=T.intersectsBox(qn);b=Q&&Wt(e,S,o,n,t,A,r,c,a+1,T,!u)||M&&Wt(e,R,o,n,t,A,r,c,a+1,T,!u),Ur.releasePrimitive(T)}else{let T=ft(e),S=ht(e,C);ze(T,y,qc),ze(S,y,Kc);let R=l.intersectsBox(qc),Q=l.intersectsBox(Kc);if(R&&Q)b=Wt(i,T,n,o,t,r,A,a,c+1,l,u)||Wt(i,S,n,o,t,r,A,a,c+1,l,u);else if(R)if(E)b=Wt(i,T,n,o,t,r,A,a,c+1,l,u);else{let M=Ur.getPrimitive();M.copy(qc).applyMatrix4(n);let k=ft(i),P=ht(i,g);ze(k,p,Wn),ze(P,p,qn);let H=M.intersectsBox(Wn),U=M.intersectsBox(qn);b=H&&Wt(T,k,o,n,t,A,r,c,a+1,M,!u)||U&&Wt(T,P,o,n,t,A,r,c,a+1,M,!u),Ur.releasePrimitive(M)}else if(Q)if(E)b=Wt(i,S,n,o,t,r,A,a,c+1,l,u);else{let M=Ur.getPrimitive();M.copy(Kc).applyMatrix4(n);let k=ft(i),P=ht(i,g);ze(k,p,Wn),ze(P,p,qn);let H=M.intersectsBox(Wn),U=M.intersectsBox(qn);b=H&&Wt(S,k,o,n,t,A,r,c,a+1,M,!u)||U&&Wt(S,P,o,n,t,A,r,c,a+1,M,!u),Ur.releasePrimitive(M)}}return b}var NA=new et,_d=new Je,Qw={strategy:0,maxDepth:40,maxLeafTris:10,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,indirect:!1,verbose:!0,range:null},nn=class i{static serialize(e,n={}){n={cloneBuffers:!0,...n};let o=e.geometry,t=e._roots,r=e._indirectBuffer,A=o.getIndex(),a;return n.cloneBuffers?a={roots:t.map(c=>c.slice()),index:A?A.array.slice():null,indirectBuffer:r?r.slice():null}:a={roots:t,index:A?A.array:null,indirectBuffer:r},a}static deserialize(e,n,o={}){o={setIndex:!0,indirect:!!e.indirectBuffer,...o};let{index:t,roots:r,indirectBuffer:A}=e,a=new i(n,{...o,[IA]:!0});if(a._roots=r,a._indirectBuffer=A||null,o.setIndex){let c=n.getIndex();if(c===null){let l=new je(e.index,1,!1);n.setIndex(l)}else c.array!==t&&(c.array.set(t),c.needsUpdate=!0)}return a}get indirect(){return!!this._indirectBuffer}constructor(e,n={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(n=Object.assign({...Qw,[IA]:!1},n),n.useSharedArrayBuffer&&!Md())throw new Error("MeshBVH: SharedArrayBuffer is not available.");this.geometry=e,this._roots=null,this._indirectBuffer=null,n[IA]||(od(this,n),!e.boundingBox&&n.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Je))),this.resolveTriangleIndex=n.indirect?o=>this._indirectBuffer[o]:o=>o}refit(e=null){return(this.indirect?Ed:dd)(this,e)}traverse(e,n=0){let o=this._roots[n],t=new Uint32Array(o),r=new Uint16Array(o);A(0);function A(a,c=0){let l=a*2,u=r[l+15]===65535;if(u){let f=t[a+6],h=r[l+14];e(c,u,new Float32Array(o,a*4,6),f,h)}else{let f=a+32/4,h=t[a+6],p=t[a+7];e(c,u,new Float32Array(o,a*4,6),p)||(A(f,c+1),A(h,c+1))}}}raycast(e,n=ui,o=0,t=1/0){let r=this._roots,A=this.geometry,a=[],c=n.isMaterial,l=Array.isArray(n),u=A.groups,f=c?n.side:n,h=this.indirect?bd:vd;for(let p=0,g=r.length;p<g;p++){let w=l?n[u[p].materialIndex].side:f,y=a.length;if(h(this,p,w,e,a,o,t),l){let C=u[p].materialIndex;for(let m=y,v=a.length;m<v;m++)a[m].face.materialIndex=C}}return a}raycastFirst(e,n=ui,o=0,t=1/0){let r=this._roots,A=this.geometry,a=n.isMaterial,c=Array.isArray(n),l=null,u=A.groups,f=a?n.side:n,h=this.indirect?Bd:wd;for(let p=0,g=r.length;p<g;p++){let w=c?n[u[p].materialIndex].side:f,y=h(this,p,w,e,o,t);y!=null&&(l==null||y.distance<l.distance)&&(l=y,c&&(y.face.materialIndex=u[p].materialIndex))}return l}intersectsGeometry(e,n){let o=!1,t=this._roots,r=this.indirect?Sd:Id;for(let A=0,a=t.length;A<a&&(o=r(this,A,e,n),!o);A++);return o}shapecast(e){let n=xt.getPrimitive(),o=this.indirect?yd:pd,{boundsTraverseOrder:t,intersectsBounds:r,intersectsRange:A,intersectsTriangle:a}=e;if(A&&a){let f=A;A=(h,p,g,w,y)=>f(h,p,g,w,y)?!0:o(h,p,this,a,g,w,n)}else A||(a?A=(f,h,p,g)=>o(f,h,this,a,p,g,n):A=(f,h,p)=>p);let c=!1,l=0,u=this._roots;for(let f=0,h=u.length;f<h;f++){let p=u[f];if(c=sd(this,f,r,A,t,l),c)break;l+=p.byteLength}return xt.releasePrimitive(n),c}bvhcast(e,n,o){let{intersectsRanges:t,intersectsTriangles:r}=o,A=xt.getPrimitive(),a=this.geometry.index,c=this.geometry.attributes.position,l=this.indirect?g=>{let w=this.resolveTriangleIndex(g);He(A,w*3,a,c)}:g=>{He(A,g*3,a,c)},u=xt.getPrimitive(),f=e.geometry.index,h=e.geometry.attributes.position,p=e.indirect?g=>{let w=e.resolveTriangleIndex(g);He(u,w*3,f,h)}:g=>{He(u,g*3,f,h)};if(r){let g=(w,y,C,m,v,I,E,B)=>{for(let b=C,T=C+m;b<T;b++){p(b),u.a.applyMatrix4(n),u.b.applyMatrix4(n),u.c.applyMatrix4(n),u.needsUpdate=!0;for(let S=w,R=w+y;S<R;S++)if(l(S),A.needsUpdate=!0,r(A,u,S,b,v,I,E,B))return!0}return!1};if(t){let w=t;t=function(y,C,m,v,I,E,B,b){return w(y,C,m,v,I,E,B,b)?!0:g(y,C,m,v,I,E,B,b)}}else t=g}return Rd(this,e,n,t)}intersectsBox(e,n){return NA.set(e.min,e.max,n),NA.needsUpdate=!0,this.shapecast({intersectsBounds:o=>NA.intersectsBox(o),intersectsTriangle:o=>NA.intersectsTriangle(o)})}intersectsSphere(e){return this.shapecast({intersectsBounds:n=>e.intersectsBox(n),intersectsTriangle:n=>n.intersectsSphere(e)})}closestPointToGeometry(e,n,o={},t={},r=0,A=1/0){return(this.indirect?Dd:Cd)(this,e,n,o,t,r,A)}closestPointToPoint(e,n={},o=0,t=1/0){return ad(this,e,n,o,t)}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(o=>{ze(0,new Float32Array(o),_d),e.union(_d)}),e}};function Xc(i,e,n){return i===null?null:(i.point.applyMatrix4(e.matrixWorld),i.distance=i.point.distanceTo(n.ray.origin),i.object=e,i)}var gb=parseInt(Eo)>=166,GA=new Sr,kd=new j,Fd=new Fe,Uw=ke.prototype.raycast,Lw=uu.prototype.raycast,Pd=new j,gt=new ke,zA=[];function Qd(i,e){this.isBatchedMesh?Ow.call(this,i,e):Nw.call(this,i,e)}function Ow(i,e){if(this.boundsTrees){let n=this.boundsTrees,o=this._drawInfo||this._instanceInfo,t=this._drawRanges||this._geometryInfo,r=this.matrixWorld;gt.material=this.material,gt.geometry=this.geometry;let A=gt.geometry.boundsTree,a=gt.geometry.drawRange;gt.geometry.boundingSphere===null&&(gt.geometry.boundingSphere=new kt);for(let c=0,l=o.length;c<l;c++){if(!this.getVisibleAt(c))continue;let u=o[c].geometryIndex;if(gt.geometry.boundsTree=n[u],this.getMatrixAt(c,gt.matrixWorld).premultiply(r),!gt.geometry.boundsTree){this.getBoundingBoxAt(u,gt.geometry.boundingBox),this.getBoundingSphereAt(u,gt.geometry.boundingSphere);let f=t[u];gt.geometry.setDrawRange(f.start,f.count)}gt.raycast(i,zA);for(let f=0,h=zA.length;f<h;f++){let p=zA[f];p.object=this,p.batchId=c,e.push(p)}zA.length=0}gt.geometry.boundsTree=A,gt.geometry.drawRange=a,gt.material=null,gt.geometry=null}else Lw.call(this,i,e)}function Nw(i,e){if(this.geometry.boundsTree){if(this.material===void 0)return;Fd.copy(this.matrixWorld).invert(),GA.copy(i.ray).applyMatrix4(Fd),Pd.setFromMatrixScale(this.matrixWorld),kd.copy(GA.direction).multiply(Pd);let n=kd.length(),o=i.near/n,t=i.far/n,r=this.geometry.boundsTree;if(i.firstHitOnly===!0){let A=Xc(r.raycastFirst(GA,this.material,o,t),this,i);A&&e.push(A)}else{let A=r.raycast(GA,this.material,o,t);for(let a=0,c=A.length;a<c;a++){let l=Xc(A[a],this,i);l&&e.push(l)}}}else Uw.call(this,i,e)}function Ud(i={}){return this.boundsTree=new nn(this,i),this.boundsTree}function Ld(){this.boundsTree=null}var Od=`

// A stack of uint32 indices can can store the indices for
// a perfectly balanced tree with a depth up to 31. Lower stack
// depth gets higher performance.
//
// However not all trees are balanced. Best value to set this to
// is the trees max depth.
#ifndef BVH_STACK_DEPTH
#define BVH_STACK_DEPTH 60
#endif

#ifndef INFINITY
#define INFINITY 1e20
#endif

// Utilities
uvec4 uTexelFetch1D( usampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

ivec4 iTexelFetch1D( isampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

vec4 texelFetch1D( sampler2D tex, uint index ) {

	uint width = uint( textureSize( tex, 0 ).x );
	uvec2 uv;
	uv.x = index % width;
	uv.y = index / width;

	return texelFetch( tex, ivec2( uv ), 0 );

}

vec4 textureSampleBarycoord( sampler2D tex, vec3 barycoord, uvec3 faceIndices ) {

	return
		barycoord.x * texelFetch1D( tex, faceIndices.x ) +
		barycoord.y * texelFetch1D( tex, faceIndices.y ) +
		barycoord.z * texelFetch1D( tex, faceIndices.z );

}

void ndcToCameraRay(
	vec2 coord, mat4 cameraWorld, mat4 invProjectionMatrix,
	out vec3 rayOrigin, out vec3 rayDirection
) {

	// get camera look direction and near plane for camera clipping
	vec4 lookDirection = cameraWorld * vec4( 0.0, 0.0, - 1.0, 0.0 );
	vec4 nearVector = invProjectionMatrix * vec4( 0.0, 0.0, - 1.0, 1.0 );
	float near = abs( nearVector.z / nearVector.w );

	// get the camera direction and position from camera matrices
	vec4 origin = cameraWorld * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec4 direction = invProjectionMatrix * vec4( coord, 0.5, 1.0 );
	direction /= direction.w;
	direction = cameraWorld * direction - origin;

	// slide the origin along the ray until it sits at the near clip plane position
	origin.xyz += direction.xyz * near / dot( direction, lookDirection );

	rayOrigin = origin.xyz;
	rayDirection = direction.xyz;

}
`;var Nd=`

#ifndef TRI_INTERSECT_EPSILON
#define TRI_INTERSECT_EPSILON 1e-5
#endif

// Raycasting
bool intersectsBounds( vec3 rayOrigin, vec3 rayDirection, vec3 boundsMin, vec3 boundsMax, out float dist ) {

	// https://www.reddit.com/r/opengl/comments/8ntzz5/fast_glsl_ray_box_intersection/
	// https://tavianator.com/2011/ray_box.html
	vec3 invDir = 1.0 / rayDirection;

	// find intersection distances for each plane
	vec3 tMinPlane = invDir * ( boundsMin - rayOrigin );
	vec3 tMaxPlane = invDir * ( boundsMax - rayOrigin );

	// get the min and max distances from each intersection
	vec3 tMinHit = min( tMaxPlane, tMinPlane );
	vec3 tMaxHit = max( tMaxPlane, tMinPlane );

	// get the furthest hit distance
	vec2 t = max( tMinHit.xx, tMinHit.yz );
	float t0 = max( t.x, t.y );

	// get the minimum hit distance
	t = min( tMaxHit.xx, tMaxHit.yz );
	float t1 = min( t.x, t.y );

	// set distance to 0.0 if the ray starts inside the box
	dist = max( t0, 0.0 );

	return t1 >= dist;

}

bool intersectsTriangle(
	vec3 rayOrigin, vec3 rayDirection, vec3 a, vec3 b, vec3 c,
	out vec3 barycoord, out vec3 norm, out float dist, out float side
) {

	// https://stackoverflow.com/questions/42740765/intersection-between-line-and-triangle-in-3d
	vec3 edge1 = b - a;
	vec3 edge2 = c - a;
	norm = cross( edge1, edge2 );

	float det = - dot( rayDirection, norm );
	float invdet = 1.0 / det;

	vec3 AO = rayOrigin - a;
	vec3 DAO = cross( AO, rayDirection );

	vec4 uvt;
	uvt.x = dot( edge2, DAO ) * invdet;
	uvt.y = - dot( edge1, DAO ) * invdet;
	uvt.z = dot( AO, norm ) * invdet;
	uvt.w = 1.0 - uvt.x - uvt.y;

	// set the hit information
	barycoord = uvt.wxy; // arranged in A, B, C order
	dist = uvt.z;
	side = sign( det );
	norm = side * normalize( norm );

	// add an epsilon to avoid misses between triangles
	uvt += vec4( TRI_INTERSECT_EPSILON );

	return all( greaterThanEqual( uvt, vec4( 0.0 ) ) );

}

bool intersectTriangles(
	// geometry info and triangle range
	sampler2D positionAttr, usampler2D indexAttr, uint offset, uint count,

	// ray
	vec3 rayOrigin, vec3 rayDirection,

	// outputs
	inout float minDistance, inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,
	inout float side, inout float dist
) {

	bool found = false;
	vec3 localBarycoord, localNormal;
	float localDist, localSide;
	for ( uint i = offset, l = offset + count; i < l; i ++ ) {

		uvec3 indices = uTexelFetch1D( indexAttr, i ).xyz;
		vec3 a = texelFetch1D( positionAttr, indices.x ).rgb;
		vec3 b = texelFetch1D( positionAttr, indices.y ).rgb;
		vec3 c = texelFetch1D( positionAttr, indices.z ).rgb;

		if (
			intersectsTriangle( rayOrigin, rayDirection, a, b, c, localBarycoord, localNormal, localDist, localSide )
			&& localDist < minDistance
		) {

			found = true;
			minDistance = localDist;

			faceIndices = uvec4( indices.xyz, i );
			faceNormal = localNormal;

			side = localSide;
			barycoord = localBarycoord;
			dist = localDist;

		}

	}

	return found;

}

bool intersectsBVHNodeBounds( vec3 rayOrigin, vec3 rayDirection, sampler2D bvhBounds, uint currNodeIndex, out float dist ) {

	uint cni2 = currNodeIndex * 2u;
	vec3 boundsMin = texelFetch1D( bvhBounds, cni2 ).xyz;
	vec3 boundsMax = texelFetch1D( bvhBounds, cni2 + 1u ).xyz;
	return intersectsBounds( rayOrigin, rayDirection, boundsMin, boundsMax, dist );

}

// use a macro to hide the fact that we need to expand the struct into separate fields
#define	bvhIntersectFirstHit(		bvh,		rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist	)	_bvhIntersectFirstHit(		bvh.position, bvh.index, bvh.bvhBounds, bvh.bvhContents,		rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist	)

bool _bvhIntersectFirstHit(
	// bvh info
	sampler2D bvh_position, usampler2D bvh_index, sampler2D bvh_bvhBounds, usampler2D bvh_bvhContents,

	// ray
	vec3 rayOrigin, vec3 rayDirection,

	// output variables split into separate variables due to output precision
	inout uvec4 faceIndices, inout vec3 faceNormal, inout vec3 barycoord,
	inout float side, inout float dist
) {

	// stack needs to be twice as long as the deepest tree we expect because
	// we push both the left and right child onto the stack every traversal
	int ptr = 0;
	uint stack[ BVH_STACK_DEPTH ];
	stack[ 0 ] = 0u;

	float triangleDistance = INFINITY;
	bool found = false;
	while ( ptr > - 1 && ptr < BVH_STACK_DEPTH ) {

		uint currNodeIndex = stack[ ptr ];
		ptr --;

		// check if we intersect the current bounds
		float boundsHitDistance;
		if (
			! intersectsBVHNodeBounds( rayOrigin, rayDirection, bvh_bvhBounds, currNodeIndex, boundsHitDistance )
			|| boundsHitDistance > triangleDistance
		) {

			continue;

		}

		uvec2 boundsInfo = uTexelFetch1D( bvh_bvhContents, currNodeIndex ).xy;
		bool isLeaf = bool( boundsInfo.x & 0xffff0000u );

		if ( isLeaf ) {

			uint count = boundsInfo.x & 0x0000ffffu;
			uint offset = boundsInfo.y;

			found = intersectTriangles(
				bvh_position, bvh_index, offset, count,
				rayOrigin, rayDirection, triangleDistance,
				faceIndices, faceNormal, barycoord, side, dist
			) || found;

		} else {

			uint leftIndex = currNodeIndex + 1u;
			uint splitAxis = boundsInfo.x & 0x0000ffffu;
			uint rightIndex = boundsInfo.y;

			bool leftToRight = rayDirection[ splitAxis ] >= 0.0;
			uint c1 = leftToRight ? leftIndex : rightIndex;
			uint c2 = leftToRight ? rightIndex : leftIndex;

			// set c2 in the stack so we traverse it later. We need to keep track of a pointer in
			// the stack while we traverse. The second pointer added is the one that will be
			// traversed first
			ptr ++;
			stack[ ptr ] = c2;

			ptr ++;
			stack[ ptr ] = c1;

		}

	}

	return found;

}
`;var Ib=`
	${Od}
	${Nd}
`;var Gd=Math.pow(10,-Math.log10(1e-6)),zw=5e-7*Gd;function qt(i){return~~(i*Gd+zw)}function zd(i){return`${qt(i.x)},${qt(i.y)}`}function Zc(i){return`${qt(i.x)},${qt(i.y)},${qt(i.z)}`}function Hd(i){return`${qt(i.x)},${qt(i.y)},${qt(i.z)},${qt(i.w)}`}function HA(i,e,n){n.direction.subVectors(e,i).normalize();let o=i.dot(n.direction);return n.origin.copy(i).addScaledVector(n.direction,-o),n}function VA(){return typeof SharedArrayBuffer<"u"}function Vd(i){if(i.buffer instanceof SharedArrayBuffer)return i;let e=i.constructor,n=i.buffer,o=new SharedArrayBuffer(n.byteLength),t=new Uint8Array(n);return new Uint8Array(o).set(t,0),new e(o)}function Hw(i,e=ArrayBuffer){return i>65535?new Uint32Array(new e(4*i)):new Uint16Array(new e(2*i))}function jd(i,e){if(!i.index){let n=i.attributes.position.count,o=e.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,t=Hw(n,o);i.setIndex(new je(t,1));for(let r=0;r<n;r++)t[r]=r}}function Vw(i){return i.index?i.index.count:i.attributes.position.count}function lr(i){return Vw(i)/3}var jw=1e-8,Yw=new j;function Wd(i){return~~(i/3)}function qd(i){return i%3}function Yd(i,e){return i.start-e.start}function $c(i,e){return Yw.subVectors(e,i.origin).dot(i.direction)}function Kd(i,e,n,o=jw){i.sort(Yd),e.sort(Yd);for(let a=0;a<i.length;a++){let c=i[a];for(let l=0;l<e.length;l++){let u=e[l];if(!(u.start>c.end)){if(c.end<u.start||u.end<c.start)continue;if(c.start<=u.start&&c.end>=u.end)r(u.end,c.end)||i.splice(a+1,0,{start:u.end,end:c.end,index:c.index}),c.end=u.start,u.start=0,u.end=0;else if(c.start>=u.start&&c.end<=u.end)r(c.end,u.end)||e.splice(l+1,0,{start:c.end,end:u.end,index:u.index}),u.end=c.start,c.start=0,c.end=0;else if(c.start<=u.start&&c.end<=u.end){let f=c.end;c.end=u.start,u.start=f}else if(c.start>=u.start&&c.end>=u.end){let f=u.end;u.end=c.start,c.start=f}else throw new Error}if(n.has(c.index)||n.set(c.index,[]),n.has(u.index)||n.set(u.index,[]),n.get(c.index).push(u.index),n.get(u.index).push(c.index),A(u)&&(e.splice(l,1),l--),A(c)){i.splice(a,1),a--;break}}}t(i),t(e);function t(a){for(let c=0;c<a.length;c++)A(a[c])&&(a.splice(c,1),c--)}function r(a,c){return Math.abs(c-a)<o}function A(a){return Math.abs(a.end-a.start)<o}}var jA=class{constructor(){this._rays=[]}addRay(e){this._rays.push(e)}findClosestRay(e){let n=this._rays,o=e.clone();o.direction.multiplyScalar(-1);let t=1/0,r=null;for(let c=0,l=n.length;c<l;c++){let u=n[c];if(A(u,e)&&A(u,o))continue;let f=a(u,e),h=a(u,o),p=Math.min(f,h);p<t&&(t=p,r=u)}return r;function A(c,l){let u=c.origin.distanceTo(l.origin)>1e-5;return c.direction.angleTo(l.direction)>1e-4||u}function a(c,l){let u=c.origin.distanceTo(l.origin),f=c.direction.angleTo(l.direction);return u/1e-5+f/1e-4}}};var el=new j,tl=new j,YA=new Sr;function Jd(i,e,n){let o=i.attributes,t=i.index,r=o.position,A=new Map,a=new Map,c=Array.from(e),l=new jA;for(let u=0,f=c.length;u<f;u++){let h=c[u],p=Wd(h),g=qd(h),w=3*p+g,y=3*p+(g+1)%3;t&&(w=t.getX(w),y=t.getX(y)),el.fromBufferAttribute(r,w),tl.fromBufferAttribute(r,y),HA(el,tl,YA);let C,m=l.findClosestRay(YA);m===null&&(m=YA.clone(),l.addRay(m)),a.has(m)||a.set(m,{forward:[],reverse:[],ray:m}),C=a.get(m);let v=$c(m,el),I=$c(m,tl);v>I&&([v,I]=[I,v]),YA.direction.dot(m.direction)<0?C.reverse.push({start:v,end:I,index:h}):C.forward.push({start:v,end:I,index:h})}return a.forEach(({forward:u,reverse:f},h)=>{Kd(u,f,A,n),u.length===0&&f.length===0&&a.delete(h)}),{disjointConnectivityMap:A,fragmentMap:a}}var Ww=new tt,rl=new j,qw=new Dt,nl=["","",""],ro=class{constructor(e=null){this.data=null,this.disjointConnections=null,this.unmatchedDisjointEdges=null,this.unmatchedEdges=-1,this.matchedEdges=-1,this.useDrawRange=!0,this.useAllAttributes=!1,this.matchDisjointEdges=!1,this.degenerateEpsilon=1e-8,e&&this.updateFrom(e)}getSiblingTriangleIndex(e,n){let o=this.data[e*3+n];return o===-1?-1:~~(o/3)}getSiblingEdgeIndex(e,n){let o=this.data[e*3+n];return o===-1?-1:o%3}getDisjointSiblingTriangleIndices(e,n){let o=e*3+n,t=this.disjointConnections.get(o);return t?t.map(r=>~~(r/3)):[]}getDisjointSiblingEdgeIndices(e,n){let o=e*3+n,t=this.disjointConnections.get(o);return t?t.map(r=>r%3):[]}isFullyConnected(){return this.unmatchedEdges===0}updateFrom(e){let{useAllAttributes:n,useDrawRange:o,matchDisjointEdges:t,degenerateEpsilon:r}=this,A=n?v:m,a=new Map,{attributes:c}=e,l=n?Object.keys(c):null,u=e.index,f=c.position,h=lr(e),p=h,g=0;o&&(g=e.drawRange.start,e.drawRange.count!==1/0&&(h=~~(e.drawRange.count/3)));let w=this.data;(!w||w.length<3*p)&&(w=new Int32Array(3*p)),w.fill(-1);let y=0,C=new Set;for(let I=g,E=h*3+g;I<E;I+=3){let B=I;for(let b=0;b<3;b++){let T=B+b;u&&(T=u.getX(T)),nl[b]=A(T)}for(let b=0;b<3;b++){let T=(b+1)%3,S=nl[b],R=nl[T],Q=`${R}_${S}`;if(a.has(Q)){let M=B+b,k=a.get(Q);w[M]=k,w[k]=M,a.delete(Q),y+=2,C.delete(k)}else{let M=`${S}_${R}`,k=B+b;a.set(M,k),C.add(k)}}}if(t){let{fragmentMap:I,disjointConnectivityMap:E}=Jd(e,C,r);C.clear(),I.forEach(({forward:B,reverse:b})=>{B.forEach(({index:T})=>C.add(T)),b.forEach(({index:T})=>C.add(T))}),this.unmatchedDisjointEdges=I,this.disjointConnections=E,y=h*3-C.size}this.matchedEdges=y,this.unmatchedEdges=C.size,this.data=w;function m(I){return rl.fromBufferAttribute(f,I),Zc(rl)}function v(I){let E="";for(let B=0,b=l.length;B<b;B++){let T=c[l[B]],S;switch(T.itemSize){case 1:S=qt(T.getX(I));break;case 2:S=zd(Ww.fromBufferAttribute(T,I));break;case 3:S=Zc(rl.fromBufferAttribute(T,I));break;case 4:S=Hd(qw.fromBufferAttribute(T,I));break}E!==""&&(E+="|"),E+=S}return E}}};var Kt=class extends ke{constructor(...e){super(...e),this.isBrush=!0,this._previousMatrix=new Fe,this._previousMatrix.elements.fill(0)}markUpdated(){this._previousMatrix.copy(this.matrix)}isDirty(){let{matrix:e,_previousMatrix:n}=this,o=e.elements,t=n.elements;for(let r=0;r<16;r++)if(o[r]!==t[r])return!0;return!1}prepareGeometry(){let e=this.geometry,n=e.attributes,o=VA();if(o)for(let t in n){let r=n[t];if(r.isInterleavedBufferAttribute)throw new Error("Brush: InterleavedBufferAttributes are not supported.");r.array=Vd(r.array)}if(e.boundsTree||(jd(e,{useSharedArrayBuffer:o}),e.boundsTree=new nn(e,{maxLeafTris:3,indirect:!0,useSharedArrayBuffer:o})),e.halfEdges||(e.halfEdges=new ro(e)),!e.groupIndices){let t=lr(e),r=new Uint16Array(t),A=e.groups;for(let a=0,c=A.length;a<c;a++){let{start:l,count:u}=A[a];for(let f=l/3,h=(l+u)/3;f<h;f++)r[f]=a}e.groupIndices=r}}disposeCacheData(){let{geometry:e}=this;e.halfEdges=null,e.boundsTree=null,e.groupIndices=null}};var Kw=1e-14,il=new j,Xd=new j,Zd=new j;function Jt(i,e=Kw){il.subVectors(i.b,i.a),Xd.subVectors(i.c,i.a),Zd.subVectors(i.b,i.c);let n=il.angleTo(Xd),o=il.angleTo(Zd),t=Math.PI-n-o;return Math.abs(n)<e||Math.abs(o)<e||Math.abs(t)<e||i.a.distanceToSquared(i.b)<e||i.a.distanceToSquared(i.c)<e||i.b.distanceToSquared(i.c)<e}var ol=1e-10,no=1e-10,Jw=1e-10,xr=new Ze,nt=new Ze,Ir=new j,Al=new j,$d=new j,WA=new hr,sl=new at,al=class{constructor(){this._pool=[],this._index=0}getTriangle(){return this._index>=this._pool.length&&this._pool.push(new We),this._pool[this._index++]}clear(){this._index=0}reset(){this._pool.length=0,this._index=0}},io=class{constructor(){this.trianglePool=new al,this.triangles=[],this.normal=new j,this.coplanarTriangleUsed=!1}initialize(e){this.reset();let{triangles:n,trianglePool:o,normal:t}=this;if(Array.isArray(e))for(let r=0,A=e.length;r<A;r++){let a=e[r];if(r===0)a.getNormal(t);else if(Math.abs(1-a.getNormal(Ir).dot(t))>ol)throw new Error("Triangle Splitter: Cannot initialize with triangles that have different normals.");let c=o.getTriangle();c.copy(a),n.push(c)}else{e.getNormal(t);let r=o.getTriangle();r.copy(e),n.push(r)}}splitByTriangle(e){let{normal:n,triangles:o}=this;if(e.getNormal(Al).normalize(),Math.abs(1-Math.abs(Al.dot(n)))<Jw){this.coplanarTriangleUsed=!0;for(let r=0,A=o.length;r<A;r++){let a=o[r];a.coplanarCount=0}let t=[e.a,e.b,e.c];for(let r=0;r<3;r++){let A=(r+1)%3,a=t[r],c=t[A];Ir.subVectors(c,a).normalize(),$d.crossVectors(Al,Ir),WA.setFromNormalAndCoplanarPoint($d,a),this.splitByPlane(WA,e)}}else e.getPlane(WA),this.splitByPlane(WA,e)}splitByPlane(e,n){let{triangles:o,trianglePool:t}=this;sl.copy(n),sl.needsUpdate=!0;for(let r=0,A=o.length;r<A;r++){let a=o[r];if(!sl.intersectsTriangle(a,xr,!0))continue;let{a:c,b:l,c:u}=a,f=0,h=-1,p=!1,g=[],w=[],y=[c,l,u];for(let C=0;C<3;C++){let m=(C+1)%3;xr.start.copy(y[C]),xr.end.copy(y[m]);let v=e.distanceToPoint(xr.start),I=e.distanceToPoint(xr.end);if(Math.abs(v)<no&&Math.abs(I)<no){p=!0;break}if(v>0?g.push(C):w.push(C),Math.abs(v)<no)continue;let E=!!e.intersectLine(xr,Ir);!E&&Math.abs(I)<no&&(Ir.copy(xr.end),E=!0),E&&!(Ir.distanceTo(xr.start)<ol)&&(Ir.distanceTo(xr.end)<ol&&(h=C),f===0?nt.start.copy(Ir):nt.end.copy(Ir),f++)}if(!p&&f===2&&nt.distance()>no)if(h!==-1){h=(h+1)%3;let C=0;C===h&&(C=(C+1)%3);let m=C+1;m===h&&(m=(m+1)%3);let v=t.getTriangle();v.a.copy(y[m]),v.b.copy(nt.end),v.c.copy(nt.start),Jt(v)||o.push(v),a.a.copy(y[C]),a.b.copy(nt.start),a.c.copy(nt.end),Jt(a)&&(o.splice(r,1),r--,A--)}else{let C=g.length>=2?w[0]:g[0];if(C===0){let B=nt.start;nt.start=nt.end,nt.end=B}let m=(C+1)%3,v=(C+2)%3,I=t.getTriangle(),E=t.getTriangle();y[m].distanceToSquared(nt.start)<y[v].distanceToSquared(nt.end)?(I.a.copy(y[m]),I.b.copy(nt.start),I.c.copy(nt.end),E.a.copy(y[m]),E.b.copy(y[v]),E.c.copy(nt.start)):(I.a.copy(y[v]),I.b.copy(nt.start),I.c.copy(nt.end),E.a.copy(y[m]),E.b.copy(y[v]),E.c.copy(nt.end)),a.a.copy(y[C]),a.b.copy(nt.end),a.c.copy(nt.start),Jt(I)||o.push(I),Jt(E)||o.push(E),Jt(a)&&(o.splice(r,1),r--,A--)}else f===3&&console.warn("TriangleClipper: Coplanar clip not handled")}}reset(){this.triangles.length=0,this.trianglePool.clear(),this.coplanarTriangleUsed=!1}};function Xw(i){return i=~~i,i+4-i%4}var oo=class{constructor(e,n=500){this.expansionFactor=1.5,this.type=e,this.length=0,this.array=null,this.setSize(n)}setType(e){if(this.length!==0)throw new Error("TypeBackedArray: Cannot change the type while there is used data in the buffer.");let n=this.array.buffer;this.array=new e(n),this.type=e}setSize(e){if(this.array&&e===this.array.length)return;let n=this.type,o=VA()?SharedArrayBuffer:ArrayBuffer,t=new n(new o(Xw(e*n.BYTES_PER_ELEMENT)));this.array&&t.set(this.array,0),this.array=t}expand(){let{array:e,expansionFactor:n}=this;this.setSize(e.length*n)}push(...e){let{array:n,length:o}=this;o+e.length>n.length&&(this.expand(),n=this.array);for(let t=0,r=e.length;t<r;t++)n[o+t]=e[t];this.length+=e.length}clear(){this.length=0}};var qA=class{constructor(){this.groupAttributes=[{}],this.groupCount=0}getType(e){return this.groupAttributes[0][e].type}getItemSize(e){return this.groupAttributes[0][e].itemSize}getNormalized(e){return this.groupAttributes[0][e].normalized}getCount(e){if(this.groupCount<=e)return 0;let n=this.getGroupAttrArray("position",e);return n.length/n.itemSize}getTotalLength(e){let{groupCount:n,groupAttributes:o}=this,t=0;for(let r=0;r<n;r++){let A=o[r];t+=A[e].length}return t}getGroupAttrSet(e=0){let{groupAttributes:n}=this;if(n[e])return this.groupCount=Math.max(this.groupCount,e+1),n[e];let o=n[0];for(this.groupCount=Math.max(this.groupCount,e+1);e>=n.length;){let t={};n.push(t);for(let r in o){let A=o[r],a=new oo(A.type);a.itemSize=A.itemSize,a.normalized=A.normalized,t[r]=a}}return n[e]}getGroupAttrArray(e,n=0){let{groupAttributes:o}=this;if(!o[0][e])throw new Error(`TypedAttributeData: Attribute with "${e}" has not been initialized`);return this.getGroupAttrSet(n)[e]}initializeArray(e,n,o,t){let{groupAttributes:r}=this,a=r[0][e];if(a){if(a.type!==n)for(let c=0,l=r.length;c<l;c++){let u=r[c][e];u.setType(n),u.itemSize=o,u.normalized=t}}else for(let c=0,l=r.length;c<l;c++){let u=new oo(n);u.itemSize=o,u.normalized=t,r[c][e]=u}}clear(){this.groupCount=0;let{groupAttributes:e}=this;e.forEach(n=>{for(let o in n)n[o].clear()})}delete(e){this.groupAttributes.forEach(n=>{delete n[e]})}reset(){this.groupAttributes=[],this.groupCount=0}};var Ao=class{constructor(){this.intersectionSet={},this.ids=[]}add(e,n){let{intersectionSet:o,ids:t}=this;o[e]||(o[e]=[],t.push(e)),o[e].push(n)}};var eg=0,cl=1,Zw=2,$w=3,ex=4,tg=5,rg=6;var Nt=new Sr,ng=new Fe,It=new We,Cr=new j,ig=new Dt,og=new Dt,Ag=new Dt,ll=new Dt,KA=new Dt,JA=new Dt,sg=new Ze,ul=new j,fl=1e-8,tx=1e-15,An=-1,sn=1,XA=-2,ZA=2,Kn=0,on=1,es=2,rx=1e-14,$A=null;function dl(i){$A=i}function gl(i,e){i.getMidpoint(Nt.origin),i.getNormal(Nt.direction);let n=e.raycastFirst(Nt,At);return!!(n&&Nt.direction.dot(n.face.normal)>0)?An:sn}function ag(i,e){function n(){return Math.random()-.5}i.getNormal(ul),Nt.direction.copy(ul),i.getMidpoint(Nt.origin);let o=3,t=0,r=1/0;for(let A=0;A<o;A++){Nt.direction.x+=n()*fl,Nt.direction.y+=n()*fl,Nt.direction.z+=n()*fl,Nt.direction.multiplyScalar(-1);let a=e.raycastFirst(Nt,At);if(!!(a&&Nt.direction.dot(a.face.normal)>0)&&t++,a!==null&&(r=Math.min(r,a.distance)),r<=tx)return a.face.normal.dot(ul)>0?ZA:XA;if(t/o>.5||(A-t+1)/o>.5)break}return t/o>.5?An:sn}function cg(i,e){let n=new Ao,o=new Ao;return ng.copy(i.matrixWorld).invert().multiply(e.matrixWorld),i.geometry.boundsTree.bvhcast(e.geometry.boundsTree,ng,{intersectsTriangles(t,r,A,a){if(!Jt(t)&&!Jt(r)){let c=t.intersectsTriangle(r,sg,!0);if(!c){let l=t.plane,u=r.plane,f=l.normal,h=u.normal;f.dot(h)===1&&Math.abs(l.constant-u.constant)<rx&&(c=!0)}if(c){let l=i.geometry.boundsTree.resolveTriangleIndex(A),u=e.geometry.boundsTree.resolveTriangleIndex(a);n.add(l,u),o.add(u,l),$A&&($A.addEdge(sg),$A.addIntersectingTriangles(A,t,a,r))}}return!1}}),{aIntersections:n,bIntersections:o}}function lg(i,e,n,o,t,r,A=!1){let a=n.attributes,c=n.index,l=i*3,u=c.getX(l+0),f=c.getX(l+1),h=c.getX(l+2);for(let p in r){let g=a[p],w=r[p];if(!(p in a))throw new Error(`CSG Operations: Attribute ${p} not available on geometry.`);let y=g.itemSize;p==="position"?(It.a.fromBufferAttribute(g,u).applyMatrix4(o),It.b.fromBufferAttribute(g,f).applyMatrix4(o),It.c.fromBufferAttribute(g,h).applyMatrix4(o),hl(It.a,It.b,It.c,e,3,w,A)):p==="normal"?(It.a.fromBufferAttribute(g,u).applyNormalMatrix(t),It.b.fromBufferAttribute(g,f).applyNormalMatrix(t),It.c.fromBufferAttribute(g,h).applyNormalMatrix(t),A&&(It.a.multiplyScalar(-1),It.b.multiplyScalar(-1),It.c.multiplyScalar(-1)),hl(It.a,It.b,It.c,e,3,w,A,!0)):(ig.fromBufferAttribute(g,u),og.fromBufferAttribute(g,f),Ag.fromBufferAttribute(g,h),hl(ig,og,Ag,e,y,w,A))}}function ug(i,e,n,o,t,r,A,a=!1){pl(i,o,t,r,A,a),pl(a?n:e,o,t,r,A,a),pl(a?e:n,o,t,r,A,a)}function ml(i,e,n=!1){switch(i){case 0:if(e===sn||e===ZA&&!n)return on;break;case 1:if(n){if(e===An)return Kn}else if(e===sn||e===XA)return on;break;case 2:if(n){if(e===sn||e===XA)return on}else if(e===An)return Kn;break;case 4:if(e===An)return Kn;if(e===sn)return on;break;case 3:if(e===An||e===ZA&&!n)return on;break;case 5:if(!n&&(e===sn||e===XA))return on;break;case 6:if(!n&&(e===An||e===ZA))return on;break;default:throw new Error(`Unrecognized CSG operation enum "${i}".`)}return es}function hl(i,e,n,o,t,r,A=!1,a=!1){let c=l=>{r.push(l.x),t>1&&r.push(l.y),t>2&&r.push(l.z),t>3&&r.push(l.w)};ll.set(0,0,0,0).addScaledVector(i,o.a.x).addScaledVector(e,o.a.y).addScaledVector(n,o.a.z),KA.set(0,0,0,0).addScaledVector(i,o.b.x).addScaledVector(e,o.b.y).addScaledVector(n,o.b.z),JA.set(0,0,0,0).addScaledVector(i,o.c.x).addScaledVector(e,o.c.y).addScaledVector(n,o.c.z),a&&(ll.normalize(),KA.normalize(),JA.normalize()),c(ll),A?(c(JA),c(KA)):(c(KA),c(JA))}function pl(i,e,n,o,t,r=!1){for(let A in t){let a=e[A],c=t[A];if(!(A in e))throw new Error(`CSG Operations: Attribute ${A} no available on geometry.`);let l=a.itemSize;A==="position"?(Cr.fromBufferAttribute(a,i).applyMatrix4(n),c.push(Cr.x,Cr.y,Cr.z)):A==="normal"?(Cr.fromBufferAttribute(a,i).applyNormalMatrix(o),r&&Cr.multiplyScalar(-1),c.push(Cr.x,Cr.y,Cr.z)):(c.push(a.getX(i)),l>1&&c.push(a.getY(i)),l>2&&c.push(a.getZ(i)),l>3&&c.push(a.getW(i)))}}var yl=class{constructor(e){this.triangle=new We().copy(e),this.intersects={}}addTriangle(e,n){this.intersects[e]=new We().copy(n)}getIntersectArray(){let e=[],{intersects:n}=this;for(let o in n)e.push(n[o]);return e}},ts=class{constructor(){this.data={}}addTriangleIntersection(e,n,o,t){let{data:r}=this;r[e]||(r[e]=new yl(n)),r[e].addTriangle(o,t)}getTrianglesAsArray(e=null){let{data:n}=this,o=[];if(e!==null)e in n&&o.push(n[e].triangle);else for(let t in n)o.push(n[t].triangle);return o}getTriangleIndices(){return Object.keys(this.data).map(e=>parseInt(e))}getIntersectionIndices(e){let{data:n}=this;return n[e]?Object.keys(n[e].intersects).map(o=>parseInt(o)):[]}getIntersectionsAsArray(e=null,n=null){let{data:o}=this,t=new Set,r=[],A=a=>{if(o[a])if(n!==null)o[a].intersects[n]&&r.push(o[a].intersects[n]);else{let c=o[a].intersects;for(let l in c)t.has(l)||(t.add(l),r.push(c[l]))}};if(e!==null)A(e);else for(let a in o)A(a);return r}reset(){this.data={}}},rs=class{constructor(){this.enabled=!1,this.triangleIntersectsA=new ts,this.triangleIntersectsB=new ts,this.intersectionEdges=[]}addIntersectingTriangles(e,n,o,t){let{triangleIntersectsA:r,triangleIntersectsB:A}=this;r.addTriangleIntersection(e,n,o,t),A.addTriangleIntersection(o,t,e,n)}addEdge(e){this.intersectionEdges.push(e.clone())}reset(){this.triangleIntersectsA.reset(),this.triangleIntersectsB.reset(),this.intersectionEdges=[]}init(){this.enabled&&(this.reset(),dl(this))}complete(){this.enabled&&dl(null)}};var Or=new Fe,os=new pi,an=new We,ns=new We,Lr=new We,is=new We,Xt=[],cn=[];function nx(i){for(let e of i)return e}function pg(i,e,n,o,t,r={}){let{useGroups:A=!0}=r,{aIntersections:a,bIntersections:c}=cg(i,e),l=[],u=null,f;return f=A?0:-1,fg(i,e,a,n,!1,o,t,f),hg(i,e,a,n,!1,t,f),n.findIndex(p=>p!==6&&p!==5)!==-1&&(f=A?i.geometry.groups.length||1:-1,fg(e,i,c,n,!0,o,t,f),hg(e,i,c,n,!0,t,f)),Xt.length=0,cn.length=0,{groups:l,materials:u}}function fg(i,e,n,o,t,r,A,a=0){let c=i.matrixWorld.determinant()<0;Or.copy(e.matrixWorld).invert().multiply(i.matrixWorld),os.getNormalMatrix(i.matrixWorld).multiplyScalar(c?-1:1);let l=i.geometry.groupIndices,u=i.geometry.index,f=i.geometry.attributes.position,h=e.geometry.boundsTree,p=e.geometry.index,g=e.geometry.attributes.position,w=n.ids,y=n.intersectionSet;for(let C=0,m=w.length;C<m;C++){let v=w[C],I=a===-1?0:l[v]+a,E=3*v,B=u.getX(E+0),b=u.getX(E+1),T=u.getX(E+2);an.a.fromBufferAttribute(f,B).applyMatrix4(Or),an.b.fromBufferAttribute(f,b).applyMatrix4(Or),an.c.fromBufferAttribute(f,T).applyMatrix4(Or),r.reset(),r.initialize(an);let S=y[v];for(let Q=0,M=S.length;Q<M;Q++){let k=3*S[Q],P=p.getX(k+0),H=p.getX(k+1),U=p.getX(k+2);ns.a.fromBufferAttribute(g,P),ns.b.fromBufferAttribute(g,H),ns.c.fromBufferAttribute(g,U),r.splitByTriangle(ns)}let R=r.triangles;for(let Q=0,M=R.length;Q<M;Q++){let k=R[Q],P=r.coplanarTriangleUsed?ag(k,h):gl(k,h);Xt.length=0,cn.length=0;for(let H=0,U=o.length;H<U;H++){let K=ml(o[H],P,t);K!==es&&(cn.push(K),Xt.push(A[H].getGroupAttrSet(I)))}if(Xt.length!==0){an.getBarycoord(k.a,is.a),an.getBarycoord(k.b,is.b),an.getBarycoord(k.c,is.c);for(let H=0,U=Xt.length;H<U;H++){let K=Xt[H],O=cn[H]===Kn;lg(v,is,i.geometry,i.matrixWorld,os,K,c!==O)}}}}return w.length}function hg(i,e,n,o,t,r,A=0){let a=i.matrixWorld.determinant()<0;Or.copy(e.matrixWorld).invert().multiply(i.matrixWorld),os.getNormalMatrix(i.matrixWorld).multiplyScalar(a?-1:1);let c=e.geometry.boundsTree,l=i.geometry.groupIndices,u=i.geometry.index,f=i.geometry.attributes,h=f.position,p=[],g=i.geometry.halfEdges,w=new Set,y=lr(i.geometry);for(let C=0,m=y;C<m;C++)C in n.intersectionSet||w.add(C);for(;w.size>0;){let C=nx(w);w.delete(C),p.push(C);let m=3*C,v=u.getX(m+0),I=u.getX(m+1),E=u.getX(m+2);Lr.a.fromBufferAttribute(h,v).applyMatrix4(Or),Lr.b.fromBufferAttribute(h,I).applyMatrix4(Or),Lr.c.fromBufferAttribute(h,E).applyMatrix4(Or);let B=gl(Lr,c);cn.length=0,Xt.length=0;for(let b=0,T=o.length;b<T;b++){let S=ml(o[b],B,t);S!==es&&(cn.push(S),Xt.push(r[b]))}for(;p.length>0;){let b=p.pop();for(let T=0;T<3;T++){let S=g.getSiblingTriangleIndex(b,T);S!==-1&&w.has(S)&&(p.push(S),w.delete(S))}if(Xt.length!==0){let T=3*b,S=u.getX(T+0),R=u.getX(T+1),Q=u.getX(T+2),M=A===-1?0:l[b]+A;if(Lr.a.fromBufferAttribute(h,S),Lr.b.fromBufferAttribute(h,R),Lr.c.fromBufferAttribute(h,Q),!Jt(Lr))for(let k=0,P=Xt.length;k<P;k++){let H=cn[k],U=Xt[k].getGroupAttrSet(M),K=H===Kn;ug(S,R,Q,f,i.matrixWorld,os,U,K!==a)}}}}}function ix(i){for(let e=0;e<i.length-1;e++){let n=i[e],o=i[e+1];if(n.materialIndex===o.materialIndex){let t=n.start,r=o.start+o.count;o.start=t,o.count=r-t,i.splice(e,1),e--}}}function ox(i,e,n,o){n.clear();let t=i.attributes;for(let r=0,A=o.length;r<A;r++){let a=o[r],c=t[a];n.initializeArray(a,c.array.constructor,c.itemSize,c.normalized)}for(let r in n.attributes)o.includes(r)||n.delete(r);for(let r in e.attributes)o.includes(r)||(e.deleteAttribute(r),e.dispose())}function Ax(i,e,n){let o=!1,t=-1,r=i.attributes,A=e.groupAttributes[0];for(let c in A){let l=e.getTotalLength(c),u=e.getType(c),f=e.getItemSize(c),h=e.getNormalized(c),p=r[c];(!p||p.array.length<l)&&(p=new je(new u(l),f,h),i.setAttribute(c,p),o=!0);let g=0;for(let w=0,y=Math.min(n.length,e.groupCount);w<y;w++){let C=n[w].index,{array:m,type:v,length:I}=e.groupAttributes[C][c],E=new v(m.buffer,0,I);p.array.set(E,g),g+=E.length}p.needsUpdate=!0,t=l/p.itemSize}if(i.index){let c=i.index.array;if(c.length<t)i.index=null,o=!0;else for(let l=0,u=c.length;l<u;l++)c[l]=l}let a=0;i.clearGroups();for(let c=0,l=Math.min(n.length,e.groupCount);c<l;c++){let{index:u,materialIndex:f}=n[c],h=e.getCount(u);h!==0&&(i.addGroup(a,h,f),a+=h)}i.setDrawRange(0,t),i.boundsTree=null,o&&i.dispose()}function dg(i,e){let n=e;return Array.isArray(e)||(n=[],i.forEach(o=>{n[o.materialIndex]=e})),n}var so=class{constructor(){this.triangleSplitter=new io,this.attributeData=[],this.attributes=["position","uv","normal"],this.useGroups=!0,this.consolidateGroups=!0,this.debug=new rs}getGroupRanges(e){return!this.useGroups||e.groups.length===0?[{start:0,count:1/0,materialIndex:0}]:e.groups.map(n=>({...n}))}evaluate(e,n,o,t=new Kt){let r=!0;if(Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t],r=!1),t.length!==o.length)throw new Error("Evaluator: operations and target array passed as different sizes.");e.prepareGeometry(),n.prepareGeometry();let{triangleSplitter:A,attributeData:a,attributes:c,useGroups:l,consolidateGroups:u,debug:f}=this;for(;a.length<t.length;)a.push(new qA);t.forEach((C,m)=>{ox(e.geometry,C.geometry,a[m],c)}),f.init(),pg(e,n,o,A,a,{useGroups:l}),f.complete();let h=this.getGroupRanges(e.geometry),p=dg(h,e.material),g=this.getGroupRanges(n.geometry),w=dg(g,n.material);g.forEach(C=>C.materialIndex+=p.length);let y=[...h,...g].map((C,m)=>({...C,index:m}));if(l){let C=[...p,...w];u&&(y=y.map(v=>{let I=C[v.materialIndex];return v.materialIndex=C.indexOf(I),v}).sort((v,I)=>v.materialIndex-I.materialIndex));let m=[];for(let v=0,I=C.length;v<I;v++){let E=!1;for(let B=0,b=y.length;B<b;B++){let T=y[B];T.materialIndex===v&&(E=!0,T.materialIndex=m.length)}E&&m.push(C[v])}t.forEach(v=>{v.material=m})}else y=[{start:0,count:1/0,index:0,materialIndex:0}],t.forEach(C=>{C.material=p[0]});return t.forEach((C,m)=>{let v=C.geometry;Ax(v,a[m],y),u&&ix(v.groups)}),r?t:t[0]}evaluateHierarchy(e,n=new Kt){e.updateMatrixWorld(!0);let o=(r,A)=>{let a=r.children;for(let c=0,l=a.length;c<l;c++){let u=a[c];u.isOperationGroup?o(u,A):A(u)}},t=r=>{let A=r.children,a=!1;for(let l=0,u=A.length;l<u;l++){let f=A[l];a=t(f)||a}let c=r.isDirty();if(c&&r.markUpdated(),a&&!r.isOperationGroup){let l;return o(r,u=>{l?l=this.evaluate(l,u,u.operation):l=this.evaluate(r,u,u.operation)}),r._cachedGeometry=l.geometry,r._cachedMaterials=l.material,!0}else return a||c};return t(e),n.geometry=e._cachedGeometry,n.material=e._cachedMaterials,n}reset(){this.triangleSplitter.reset()}};var vl=class extends Kt{constructor(...e){super(...e),this.isOperation=!0,this.operation=0,this._cachedGeometry=new lt,this._cachedMaterials=null,this._previousOperation=null}markUpdated(){super.markUpdated(),this._previousOperation=this.operation}isDirty(){return this.operation!==this._previousOperation||super.isDirty()}insertBefore(e){let n=this.parent,o=n.children.indexOf(this);n.children.splice(o,0,e)}insertAfter(e){let n=this.parent,o=n.children.indexOf(this);n.children.splice(o+1,0,e)}};var wl=class extends Qt{constructor(){super(),this.isOperationGroup=!0,this._previousMatrix=new Fe}markUpdated(){this._previousMatrix.copy(this.matrix)}isDirty(){let{matrix:e,_previousMatrix:n}=this,o=e.elements,t=n.elements;for(let r=0;r<16;r++)if(o[r]!==t[r])return!0;return!1}};function sx(i){if(!/varying\s+vec3\s+wPosition/.test(i.vertexShader))return i.vertexShader=`
			varying vec3 wPosition;
			${i.vertexShader}
		`.replace(/#include <displacementmap_vertex>/,e=>`${e}
				wPosition = (modelMatrix * vec4( transformed, 1.0 )).xyz;
				`),i.fragmentShader=`
		varying vec3 wPosition;
		${i.fragmentShader}
		`,i}function gg(i){return i.uniforms={...i.uniforms,checkerboardColor:{value:new qe(1118481)}},sx(i),i.defines={CSG_GRID:1},i.fragmentShader=i.fragmentShader.replace(/#include <common>/,e=>`
			${e}

			uniform vec3 checkerboardColor;
			float getCheckerboard( vec2 p, float scale ) {

				p /= scale;
				p += vec2( 0.5 );

				vec2 line = mod( p, 2.0 ) - vec2( 1.0 );
				line = abs( line );

				vec2 pWidth = fwidth( line );
				vec2 value = smoothstep( 0.5 - pWidth / 2.0, 0.5 + pWidth / 2.0, line );
				float result = value.x * value.y + ( 1.0 - value.x ) * ( 1.0 - value.y );

				return result;

			}

			float getGrid( vec2 p, float scale, float thickness ) {

				p /= 0.5 * scale;

				vec2 stride = mod( p, 2.0 ) - vec2( 1.0 );
				stride = abs( stride );

				vec2 pWidth = fwidth( p );
				vec2 line = smoothstep( 1.0 - pWidth / 2.0, 1.0 + pWidth / 2.0, stride + thickness * pWidth );

				return max( line.x, line.y );

			}

			vec3 getFaceColor( vec2 p, vec3 color ) {

				float checkLarge = getCheckerboard( p, 1.0 );
				float checkSmall = abs( getCheckerboard( p, 0.1 ) );
				float lines = getGrid( p, 10.0, 1.0 );

				vec3 checkColor = mix(
					vec3( 0.7 ) * color,
					vec3( 1.0 ) * color,
					checkSmall * 0.4 + checkLarge * 0.6
				);

				vec3 gridColor = vec3( 1.0 );

				return mix( checkColor, gridColor, lines );

			}

			float angleBetween( vec3 a, vec3 b ) {

				return acos( abs( dot( a, b ) ) );

			}

			vec3 planeProject( vec3 norm, vec3 other ) {

				float d = dot( norm, other );
				return normalize( other - norm * d );

			}

			vec3 getBlendFactors( vec3 norm ) {

				vec3 xVec = vec3( 1.0, 0.0, 0.0 );
				vec3 yVec = vec3( 0.0, 1.0, 0.0 );
				vec3 zVec = vec3( 0.0, 0.0, 1.0 );

				vec3 projX = planeProject( xVec, norm );
				vec3 projY = planeProject( yVec, norm );
				vec3 projZ = planeProject( zVec, norm );

				float xAngle = max(
					angleBetween( xVec, projY ),
					angleBetween( xVec, projZ )
				);

				float yAngle = max(
					angleBetween( yVec, projX ),
					angleBetween( yVec, projZ )
				);

				float zAngle = max(
					angleBetween( zVec, projX ),
					angleBetween( zVec, projY )
				);

				return vec3( xAngle, yAngle, zAngle ) / ( 0.5 * PI );

			}
		`).replace(/#include <normal_fragment_maps>/,e=>`${e}
				#if CSG_GRID
				{

					vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );

					float yCont = abs( dot( vec3( 0.0, 1.0, 0.0 ), worldNormal ) );
					float zCont = abs( dot( vec3( 0.0, 0.0, 1.0 ), worldNormal ) );
					float xCont = abs( dot( vec3( 1.0, 0.0, 0.0 ), worldNormal ) );

					vec3 factors = getBlendFactors( worldNormal );
					factors = smoothstep( vec3( 0.475 ), vec3( 0.525 ), vec3( 1.0 ) - factors );

					float weight = factors.x + factors.y + factors.z;
					factors /= weight;

					vec3 color =
						getFaceColor( wPosition.yz, diffuseColor.rgb ) * factors.x +
						getFaceColor( wPosition.xz, diffuseColor.rgb ) * factors.y +
						getFaceColor( wPosition.xy, diffuseColor.rgb ) * factors.z;

					diffuseColor.rgb = color;

				}
				#endif
				`),i}var xl=class extends gi{get enableGrid(){return!!this._enableGrid}set enableGrid(e){this._enableGrid!==e&&(this._enableGrid=e,this.needsUpdate=!0)}constructor(...e){super(...e),this.enableGrid=!0}onBeforeCompile(e){gg(e),e.defines.CSG_GRID=Number(this.enableGrid)}customProgramCacheKey(){return this.enableGrid.toString()}};function mg(...i){function e(n){return`new THREE.Vector3( ${n.x}, ${n.y}, ${n.z} )`}return i.map(n=>`
new THREE.Triangle(
	${e(n.a)},
	${e(n.b)},
	${e(n.c)},
)
		`.trim())}function ax(...i){console.log(mg(...i).join(`,
`))}function cx(i){let e=i.attributes.position,n=new Float32Array(e.count*3),o=new qe;for(let t=0,r=n.length;t<r;t+=9)o.setHSL(Math.random(),dn.lerp(.5,1,Math.random()),dn.lerp(.5,.75,Math.random())),n[t+0]=o.r,n[t+1]=o.g,n[t+2]=o.b,n[t+3]=o.r,n[t+4]=o.g,n[t+5]=o.b,n[t+6]=o.r,n[t+7]=o.g,n[t+8]=o.b;i.setAttribute("color",new je(n,3))}var Il=class extends Qt{get color(){return this._mesh.material.color}get side(){return this._mesh.material.side}set side(e){this._mesh.material.side=e}constructor(e=[]){super();let n=new lt,o=new lt;this._mesh=new ke(n,new gi({flatShading:!0,transparent:!0,opacity:.25,depthWrite:!1})),this._lines=new vn(o,new di),this._mesh.material.color=this._lines.material.color,this._lines.frustumCulled=!1,this._mesh.frustumCulled=!1,this.add(this._lines,this._mesh),this.setTriangles(e)}setTriangles(e){let n=new Float32Array(9*e.length),o=new Float32Array(6*3*e.length);for(let t=0,r=e.length;t<r;t++){let A=9*t,a=18*t,c=e[t];c.a.toArray(n,A+0),c.b.toArray(n,A+3),c.c.toArray(n,A+6),c.a.toArray(o,a+0),c.b.toArray(o,a+3),c.b.toArray(o,a+6),c.c.toArray(o,a+9),c.c.toArray(o,a+12),c.a.toArray(o,a+15)}this._mesh.geometry.dispose(),this._mesh.geometry.setAttribute("position",new je(n,3)),this._lines.geometry.dispose(),this._lines.geometry.setAttribute("position",new je(o,3))}};var ao=class extends vn{get color(){return this.material.color}constructor(e=[]){super(),this.frustumCulled=!1,this.setEdges(e)}setEdges(e){let{geometry:n}=this,o=e.flatMap(t=>[t.start,t.end]);n.dispose(),n.setFromPoints(o)}};var yg=new Fe,Cl=class extends So{get color(){return this.material.color}constructor(e=1e3,n=[]){super(new gu(.025),new pt,e),this.frustumCulled=!1,this.setPoints(n)}setPoints(e){for(let n=0,o=e.length;n<o;n++){let t=e[n];yg.makeTranslation(t.x,t.y,t.z),this.setMatrixAt(n,yg)}this.count=e.length}};var Nr=["a","b","c"],Er=new We,co=new We,Jn=new j,lo=new j,vg=new j,wg=new j,As=new j,ss=new j,xg=new j,Ig=new j,Xn=new j,Cg=new j,Eg=new j,bg=new j,Bg=new hr,Tg=new hr,as=new j,Zt=new Sr,El=new Ze;function cs(i,e,n){let o=3*e,t=o+0,r=o+1,A=o+2,a=i.index,c=i.attributes.position;return a&&(t=a.getX(t),r=a.getX(r),A=a.getX(A)),n.a.fromBufferAttribute(c,t),n.b.fromBufferAttribute(c,r),n.c.fromBufferAttribute(c,A),n}function lx(i,e,n,o,t){let r=(e+1)%3,A=i[Nr[e]],a=i[Nr[r]],c=(o+1)%3,l=n[Nr[o]],u=n[Nr[c]];HA(A,a,Zt);let f=Xn.subVectors(A,Zt.origin).dot(Zt.direction),h=Xn.subVectors(a,Zt.origin).dot(Zt.direction);f>h&&([f,h]=[h,f]);let p=Xn.subVectors(l,Zt.origin).dot(Zt.direction),g=Xn.subVectors(u,Zt.origin).dot(Zt.direction);p>g&&([p,g]=[g,p]);let w=Math.max(f,p),y=Math.min(h,g);Zt.at(w,t.start),Zt.at(y,t.end)}var bl=class extends ao{constructor(e=null,n=null){super(),this.straightEdges=!1,this.displayDisconnectedEdges=!1,e&&n&&this.setHalfEdges(e,n)}setHalfEdges(e,n){let{straightEdges:o,displayDisconnectedEdges:t}=this,r=[],A=e.drawRange.start,a=lr(e);if(e.drawRange.count!==1/0&&(a=~~(e.drawRange.count/3)),t)if(n.unmatchedDisjointEdges)n.unmatchedDisjointEdges.forEach(({forward:l,reverse:u,ray:f})=>{[...l,...u].forEach(({start:h,end:p})=>{let g=new Ze;f.at(h,g.start),f.at(p,g.end),r.push(g)})});else for(let l=A;l<a;l++){cs(e,l,Er);for(let u=0;u<3;u++)if(n.getSiblingTriangleIndex(l,u)===-1){let h=(u+1)%3,p=Er[Nr[u]],g=Er[Nr[h]],w=new Ze;w.start.copy(p),w.end.copy(g),r.push(w)}}else for(let l=A;l<a;l++){cs(e,l,Er);for(let u=0;u<3;u++){let f=n.getSiblingTriangleIndex(l,u);if(f===-1)continue;cs(e,f,co);let h=(u+1)%3,p=Er[Nr[u]],g=Er[Nr[h]];as.lerpVectors(p,g,.5),c(Er,co,as)}if(n.disjointConnections)for(let u=0;u<3;u++){let f=n.getDisjointSiblingTriangleIndices(l,u),h=n.getDisjointSiblingEdgeIndices(l,u);for(let p=0;p<f.length;p++){let g=f[p],w=h[p];cs(e,g,co),lx(Er,u,co,w,El),as.lerpVectors(El.start,El.end,.5),c(Er,co,as)}}}super.setEdges(r);function c(l,u,f){l.getMidpoint(Jn),u.getMidpoint(lo),l.getPlane(Bg),u.getPlane(Tg);let h=new Ze;h.start.copy(Jn),o?(Bg.projectPoint(lo,vg),Tg.projectPoint(Jn,wg),As.subVectors(vg,Jn),ss.subVectors(wg,lo),xg.subVectors(f,Jn),Ig.subVectors(f,lo),As.dot(xg)<0&&As.multiplyScalar(-1),ss.dot(Ig)<0&&ss.multiplyScalar(-1),Xn.addVectors(Jn,As),Cg.addVectors(lo,ss),l.closestPointToPoint(Xn,Eg),u.closestPointToPoint(Cg,bg),h.end.lerpVectors(Eg,bg,.5)):h.end.copy(f),r.push(h)}}};var ur=new We,Sg=new j,Dg=new j;function ux(i){let e,n;i.isBufferGeometry?(e=i,n=null):(e=i.geometry,n=Math.abs(i.matrixWorld.determinant()-1)<1e-15?null:i.matrixWorld);let o=e.index,t=e.attributes.position,r=e.drawRange,A=Math.min(lr(e),r.count/3);ur.setFromAttributeAndIndices(t,0,1,2),Mg(ur,n),ur.getNormal(Sg),ur.getMidpoint(Dg).add(Sg);let a=0,c=r.start/3;for(let l=c,u=c+A;l<u;l++){let f=3*l+0,h=3*l+1,p=3*l+2;o&&(f=o.getX(f),h=o.getX(h),p=o.getX(p)),ur.setFromAttributeAndIndices(t,f,h,p),Mg(ur,n),hx(ur,Dg),a+=fx(ur.a,ur.b,ur.c)}return Math.abs(a)}function fx(i,e,n){let o=n.x*e.y*i.z,t=e.x*n.y*i.z,r=n.x*i.y*e.z,A=i.x*n.y*e.z,a=e.x*i.y*n.z,c=i.x*e.y*n.z;return 1/6*(-o+t+r-A-a+c)}function hx(i,e){i.a.sub(e),i.b.sub(e),i.c.sub(e)}function Mg(i,e=null){e!==null&&(i.a.applyMatrix4(e),i.b.applyMatrix4(e),i.c.applyMatrix4(e))}var Rg=class extends cu{constructor(){super();let e=new Pt;e.deleteAttribute("uv");let n=new Mt({side:bo}),o=new Mt,t=new vi(16777215,900,28,2);t.position.set(.418,16.199,.3),this.add(t);let r=new ke(e,n);r.position.set(-.757,13.219,.717),r.scale.set(31.713,28.305,28.591),this.add(r);let A=new ke(e,o);A.position.set(-10.906,2.009,1.846),A.rotation.set(0,-.195,0),A.scale.set(2.328,7.905,4.651),this.add(A);let a=new ke(e,o);a.position.set(-5.607,-.754,-.758),a.rotation.set(0,.994,0),a.scale.set(1.97,1.534,3.955),this.add(a);let c=new ke(e,o);c.position.set(6.167,.857,7.803),c.rotation.set(0,.561,0),c.scale.set(3.927,6.285,3.687),this.add(c);let l=new ke(e,o);l.position.set(-2.017,.018,6.124),l.rotation.set(0,.333,0),l.scale.set(2.002,4.566,2.064),this.add(l);let u=new ke(e,o);u.position.set(2.291,-.756,-2.621),u.rotation.set(0,-.286,0),u.scale.set(1.546,1.552,1.496),this.add(u);let f=new ke(e,o);f.position.set(-2.193,-.369,-5.547),f.rotation.set(0,.516,0),f.scale.set(3.875,3.487,2.986),this.add(f);let h=new ke(e,Zn(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),this.add(h);let p=new ke(e,Zn(50));p.position.set(-16.109,18.021,-8.207),p.scale.set(.1,2.425,2.751),this.add(p);let g=new ke(e,Zn(17));g.position.set(14.904,12.198,-1.832),g.scale.set(.15,4.265,6.331),this.add(g);let w=new ke(e,Zn(43));w.position.set(-.462,8.89,14.52),w.scale.set(4.38,5.441,.088),this.add(w);let y=new ke(e,Zn(20));y.position.set(3.235,11.486,-12.541),y.scale.set(2.5,2,.1),this.add(y);let C=new ke(e,Zn(100));C.position.set(0,20,0),C.scale.set(1,.1,1),this.add(C)}dispose(){let e=new Set;this.traverse(n=>{n.isMesh&&(e.add(n.geometry),e.add(n.material))});for(let n of e)n.dispose()}};function Zn(i){let e=new pt;return e.color.setScalar(i),e}window.CSG=Bl;function _g(){lt.prototype.computeBoundsTree=Ud,lt.prototype.disposeBoundsTree=Ld,ke.prototype.raycast=Qd}window.initbvh=_g;function px(){_g();let i=new Kt(new Pt),e=new Kt(new du(.5,2,4,10));return new so().evaluate(i,e,1)}window.joink=px;window.BufferGeometryUtils=Ys;window.troika=La;function dx(i){return WorldGen({generator:"cave",seed:i})}window.cavegen=dx;function gx(){let i=new World({worldgen:WorldGen({generator:"terrain",seed:2}),renderRadius:2,chunkSize:32,chunkMaterial:new Mt({side:At,transparent:!0,opacity:.5,color:13421755})});i.castShadow=!0,i.receiveShadow=!0;let e={r:180,g:150,b:110};return i.ball=(n,o,t,r,A)=>{A=A===void 0?255:A,i.updateVolume(gr(n,o,t),r,A,e),i.updateChunks(gr(n,o,t)),console.warn("ball",n,o,t,r)},i.up=(n,o,t)=>{console.warn("up",n,o,t),i.updateChunks(gr(n,o,t))},i.up(0,0,0),i}window.softxel=gx;function mx(){let i=new Mt({side:At,envMapIntensity:1,vertexColors:!0,metalness:.1,roughness:.8});i.defines={USE_OUTPUT_NORMAL:1,USE_OUTPUT_POSITION:1};let e=new Mt({envMapIntensity:.5,vertexColors:!0,visible:!1});e.defines={USE_INSTANCED_POSITION:1,USE_OUTPUT_NORMAL:1,USE_OUTPUT_POSITION:1};let n={triangles:i,voxels:e},o=new eA({history:!1,materials:n}),t=()=>Math.floor(Math.random()*155);return o.castShadow=!0,o.receiveShadow=!0,o.ball=(r,A,a,c,l,u)=>{r=Math.floor(r),A=Math.floor(A),a=Math.floor(a),c=Math.floor(c),l=l||[170,150,150],u=u=="undefined"?1:u;let f=[];for(let h=r-c;h<r+c;h++)for(let p=A-c;p<A+c;p++)for(let g=a-c;g<a+c;g++){let w=r-h,y=A-p,C=a-g;Math.sqrt(w*w+y*y+C*C)<c&&f.push({x:h,y:p,z:g,r:l[0],g:l[1],b:l[2],value:u})}o.update(f)},o}window.sculpty=mx;function yx(i,e,n,o,t){return i.ball(Math.floor(e*100),Math.floor(n*100),Math.floor(o*100),t,[180,170,170],1)}window.sball=yx;function Sl(i){let e=document.createElement("div"),n=new Qo(e);return e.style.width="1000px",e.style.minWidth="1000px",e.style.height="800px",e.style.background="rgba(0,0,0,0.2)",e.style.position="absolute",e.style.backfaceVisibility="hidden",e.style.webkitBackfaceVisibility="hidden",e.style.pointerEvents="none",e.style.transformStyle="preserve-3d",n}window.css3dobj=Sl;function vx(i,e,n){e=e||1e3,n=n||800;let o=Sl(),t=new ke(new Pt(e,n,20),new Mt({color:16777215,side:At,blending:Ds}));return t.geometry.translate(0,0,-20),t.castShadow=!0,t.sync=()=>{console.warn("box.sync"),o.position.copy(t.position),o.rotation.copy(t.rotation),o.scale.copy(t.scale)},t.ontransformchanged=r=>t.sync(),t.ondatachanged=async r=>{console.warn("box.ondatachanged");let A=r.data,a=A.html,c=A.url;a?o.element.innerHTML=a:c&&(o.element.innerHTML=await fetch(c))},t.focus=r=>{o.element.style.pointerEvents=r?"all":"none"},t.twin=o,t}window.css3dbox=vx;function wx(){let i=Sl(),e=new ke(new wn(1e3,800),new pt({color:16711680,side:At,blending:Ds}));return e.geometry.translate(0,0,-.01),e.sync=()=>{console.warn("plane.sync"),i.position.copy(e.position),i.rotation.copy(e.rotation),i.scale.copy(e.scale)},e.ondatachanged=n=>{let o=n.data,t=o.html;i.el.innerHTML=t},e.ontransformchanged=n=>e.sync(),e.twin=i,e}window.css3dplane=wx;function xx(i,e,n){i=i||1,e=e||i,n=n||i;let o=new ke(new Pt(i,e,n),new it({color:1381653,transparent:!0,opacity:1}));return o.castShadow=!0,o.receiveShadow=!0,o.tag="box - don't do this",o}window.box=xx;function Ix(i,e,n){let o="https://sublambda.github.io/",t=new Ft,r=o||"";return t.tag=e||i,t.contenthook=()=>{i.indexOf(".")>0||(i+=".glb"),Ci(i,r+"stuff/",A=>{let a=A.scene;if(A.animations.length){let c=new wi(a);A.animations.forEach(l=>c.clipAction(l).play()),window.app.mixers.push(c),c.timeScale=.8}t.add(a),a.traverse(c=>{if(c.receiveShadow=!0,c.castShadow=!0,c.frustumCulled=!1,c.geometry,c.material){let l=u=>{};Array.isArray(c.material)?c.material.map(l):l(c.material)}}),t.onload&&t.onload(),n&&n(t)})},t.contenthook(),t}window.sogltf=Ix;function Cx(){let i=Ca("https://sublambda.github.io/stuff/norm1.mp4");return i.vid.autoplay=!1,window._embedded||setTimeout(()=>{i.vid.play()},1e3),i.tag="vidbox",i}window.sovidbox=Cx;function Ex(){let i=()=>(Math.random()-.5)*2,e=new Raymarcher({conetracing:!0,resolution:.3,blending:.1,roughness:1,metalness:.8,envMapIntensity:.7,envMap:lim.envmap,layers:[Array.from({length:6},()=>{let n=new j(2,.5,-2),o=[shapes.box,shapes.capsule,shapes.sphere][Math.floor(Math.random()*3)];o=shapes.box;let t=()=>Math.random(),r=()=>Math.random()*1,A=t()*.5;return{color:new qe(A-0,A,A),operation:operations.union,position:new j(r(),r(),r()).add(n),rotation:new _t().setFromAxisAngle(new j(t()*20,t()*20,t()*20),t()*20),scale:new j(...(s=.5,[s,s,s])),shape:o}})]});return e.castShadow=!0,e.receiveShadow=!0,e.tag="rm",e}window.sorm=Ex;function bx(){let i=new mu(4,1.8,100,10),e=new it({color:7829360}),n=new ke(i,e);return n.castShadow=!0,n.tag="knot",n}window.soknot=bx;function Bx(){let i=new Pt(1,1,1),e=new it({color:6710886,transparent:!0,clearcoat:!0}),n=new ke(i,e);return n.castShadow=!0,n.receiveShadow=!0,n.tag="cbox",n}window.cbox=Bx;function Tx(){let i=new lt,e=[],n=[],o=200,t=3e4;for(let c=0;c<t;c++){let l=Math.random()*o-o/2,u=Math.random()*o/20,f=Math.random()*o-o/2,h=16,p=Math.random()*Math.PI*2,g=Math.random()*Math.PI*2,w=Math.random()*h;l=w*Math.sin(p)*Math.cos(g),u=.3*w*Math.sin(p)*Math.sin(g),f=w*Math.cos(p),e.push(l,u,f);let C=Math.random()*.8+.1;n.push(0,0,0)}i.setAttribute("position",new Hr(e,3)),i.setAttribute("color",new Hr(n,3)),i.computeBoundingSphere();let r=new yi().load("stuff/textures/disc.png"),A=new Do({size:.05,map:r,vertexColors:!0,transparent:!0,toneMapped:!1,fog:!0,opacity:.5}),a=new Mo(i,A);return a.renderOrder=2,a.castShadow=!0,a.tag="sopoints",a}window.sopoints=Tx;function Sx(i,e){let n=new mr;return n.text=e||`there is
nothing here`,n.font="./stuff/SpecialElite-Regular.ttf",n.fontSize=.2,n.position.y=.2,n.material.transparent=!0,n.castShadow=!0,n.fillOpacity=.2,n.outlineColor=0,n.outlineOpacity=.2,n.outlineWidth=.002,n.strokeColor=16777215,n.strokeColor=0,n.strokeWidth=.007,n.strokeOpacity=1,n.sync(),n}window.sotext=Sx;function Dx(){let i=Dl();i.position.set(0,100,0),i.tag="sostatus";let e=()=>i.html("<body style='margin:0px;background:transparent'><pre style='margin:0px; padding:5px; font-size:28px;color:rgba(200,230,230,0.8);text-shadow: 1px 1px 4px black;background:rgba(0,0,0,0.2);height:512px;'>"+JSON.stringify({ts:Date.now(),render:app.renderer.info.render,mem:app.renderer.info.memory},null,2));return e(),setInterval(e,1e3),i}window.sostatus=Dx;function Dl(){let i=document.createElement("canvas"),e=i.getContext("2d");i.width=512,i.height=512;let n=new pu(i),o=new ke(new Pt(1,1,.01),new Mt({color:16777215,map:n,opacity:1,transparent:!0}));return o.tex=n,o.canvas=i,o.castShadow=!0,o.receiveShadow=!0,o.html=t=>Tl.default.drawHTML(t,i).then(r=>{e.clearRect(0,0,i.width,i.height),e.drawImage(r.image,0,0),o.tex.needsUpdate=!0}),o.url=t=>Tl.default.drawURL(t,i).then(r=>o.tex.needsUpdate=!0),o.html("<h1>...</h1>"),o}window.xtmlbox=Dl;window.htmlbox=Dl;function Mx(i){let e=new Os([new j(0,10,-10),new j(10,0,-10),new j(20,0,0),new j(30,0,10),new j(30,0,20),new j(20,0,30),new j(10,0,30),new j(0,0,30),new j(-10,10,30),new j(-10,20,30),new j(0,30,30),new j(10,30,30),new j(20,30,15),new j(10,30,10),new j(0,30,10),new j(-10,20,10),new j(-10,10,10),new j(0,0,10),new j(10,-10,10),new j(20,-15,10),new j(30,-15,10),new j(40,-15,10),new j(50,-15,10),new j(60,0,10),new j(70,0,0),new j(80,0,0),new j(90,0,0),new j(400,0,0)],!1),n=new Ro(e,300,10,10,!1),o=new it({color:3359812,side:At,opacity:1,clearcoat:.2,transparent:!0}),t=new ke(n,o);return e.closed=!0,t.castShadow=!0,t.receiveShadow=!0,t}window.splinetube=Mx;function RT(i){let e=[],n=new Ro,o=new it({color:3359812,side:At,opacity:1,clearcoat:.5,transparent:!0}),t=new ke(n,o),r=()=>{let A=new Os(e.map(a=>gr(...a)),!1);n=new Ro(A,t.lseg,2,t.rseg,!1),t.geometry.copy(n)};return t.lseg=100,t.rseg=10,t.pts=e,t.retube=r,t.addpt=(A,a,c)=>{e.push([A,a,c]),e.length>1&&r()},t.castShadow=!0,t.receiveShadow=!0,t}function Rx(i,e,n,o,t,r,A){var a=new ke(new Ns(e,n,o,t,r,A),new it({color:16777215,transparent:!0}));return a.castShadow=!0,a.receiveShadow=!0,a}window.cylinder=Rx;export{gr as a,M1 as b,k1 as c,Rg as d,mr as e,Yp as f,dx as g,gx as h,mx as i,yx as j,Sl as k,vx as l,xx as m,Ix as n,Ex as o,bx as p,Bx as q,Tx as r,Sx as s,Mx as t,RT as u,Rx as v};
/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/
/*! Bundled license information:

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

rasterizehtml/dist/rasterizeHTML.js:
  (*! rasterizeHTML.js - v1.3.1 - 2022-01-16
  * http://www.github.com/cburgmer/rasterizeHTML.js
  * Copyright (c) 2022 Christoph Burgmer; Licensed MIT *)

troika-three-text/dist/troika-three-text.esm.js:
  (*!
  Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
  Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
  *)
  (*!
  Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
  (https://github.com/101arrowz/fflate) for use in Troika text rendering. 
  Original licenses apply: 
  - fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
  - woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
  *)
  (*!
  Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
  for use in Troika text rendering. 
  Original MIT license applies
  *)
*/
